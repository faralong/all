(()=>{var e={721:()=>{Promise.allSettled=Promise.allSettled||(e=>Promise.all(e.map((e=>e.then((e=>({status:"fulfilled",value:e}))).catch((e=>({status:"rejected",reason:e})))))))},871:()=>{const e=document.createElement("style");e.innerHTML="\n\t\n\tcanvas{\n\t\ttouch-action: none;\n\t\t-webkit-touch-callout: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n\t\t-ms-user-select: none;\n\t\tuser-select: none;\n\t}\n\n",document.head.appendChild(e)}},t={};function i(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,i),o.exports}(()=>{"use strict";const e={ready:"pokiAppReady",failed:"pokiAppFailed",startLoading:"pokiAppStartLoading",ads:{startTimer:"pokiStartTimer",completed:"pokiAdsCompleted",error:"pokiAdsError",impression:"pokiAdsImpression",durationChange:"pokiAdsDurationChange",limit:"pokiAdsLimit",ready:"pokiAdsReady",requested:"pokiAdsRequested",prebidRequested:"pokiAdsPrebidRequested",skipped:"pokiAdsSkipped",started:"pokiAdsStarted",stopped:"pokiAdsStopped",busy:"pokiAdsBusy",loaded:"pokiAdsLoaded",position:{preroll:"PP",midroll:"PM",rewarded:"PR",display:"DP"},video:{clicked:"pokiVideoAdsClicked",firstQuartile:"pokiVideoAdsFirstQuartile",midPoint:"pokiVideoAdsMidPoint",thirdQuartile:"pokiVideoAdsThirdQuartile",error:"pokiVideoAdsError",loaderError:"pokiVideoAdsLoaderError",paused:"pokiVideoAdsPauseTriggered",resumed:"pokiVideoAdsResumedTriggered",progress:"pokiVideoAdsProgress",buffering:"pokiVideoAdsBuffering",startHouseAdFlow:"pokiVideoAdsStartHouseAdFlow"},display:{error:"pokiDisplayAdsError"},extendedVideoError:"pokiAdsExtendedVideoError",debugging:"pokiAdsDebugging"},info:{messages:{timeLimit:"The ad-request was not processed, because of a time constraint",prerollLimit:"The ad-request was cancelled, because we're not allowed to show a preroll (PokiSDK.commercialBreak before PokiSDK.gameplayStart)",disabled:"The ad-request was cancelled, because we've disabled this format for this specific configuration"}},playtest:{startVideo:"pokiPlaytestStartVideo",stopVideo:"pokiPlaytestStopVideo"},message:{event:"pokiMessageEvent",sdkDetails:"pokiMessageSdkDetails",setPokiURLParams:"pokiMessageSetPokiURLParams",sendGameScreenshot:"pokiMessageSendScreenshot",sendGameRawScreenshot:"pokiMessageSendRawScreenshot",sendUploadScreenshot:"pokiMessageSendUploadScreenshot",sendCommand:"pokiMessageSendCommand",sendInspectorEvent:"pokiMessageInspectorEvent",sendInspectorCookies:"pokiMessageSendInspectorCookies",sendInspectorConsole:"pokiMessageSendInspectorConsole",sendInspectorBadBehavior:"pokiMessageSendInspectorBadBehavior"},tracking:{custom:"pokiTrackingCustom",debugTrueInProduction:"pokiMessageDebugTrueProduction",screen:{gameplayStart:"pokiTrackingScreenGameplayStart",gameplayStop:"pokiTrackingScreenGameplayStop",gameLoadingFinished:"pokiTrackingScreenGameLoadingFinished",commercialBreak:"pokiTrackingScreenCommercialBreak",rewardedBreak:"pokiTrackingScreenRewardedBreak",firstRound:"pokiTrackingScreenFirstRound",displayAd:"pokiTrackingScreenDisplayAdRequest",destroyAd:"pokiTrackingScreenDisplayAdDestroy",playerActive:"pokiTrackingScreenPlayerActive"},playtest:{showModal:"pokiTrackingPlaytestShowModal",accepted:"pokiTrackingPlaytestAccepted",rejected:"pokiTrackingPlaytestRejected",noCanvas:"pokiTrackingPlaytestNoCanvas",notLoaded:"pokiTrackingPlaytestNotLoaded",starting:"pokiTrackingPlaytestStarting",closed:"pokiTrackingPlaytestClosed",error:"pokiTrackingPlaytestError"},sdk:{status:{initialized:"pokiTrackingSdkStatusInitialized",failed:"pokiTrackingSdkStatusFailed"}},ads:{ay:{failed:"pokiTrackingAdsAYFailed"},status:{busy:"pokiTrackingAdsStatusBusy",completed:"pokiTrackingAdsStatusCompleted",error:"pokiTrackingAdsStatusError",impression:"pokiTrackingAdsStatusImpression",limit:"pokiTrackingAdsStatusLimit",ready:"pokiTrackingAdsStatusReady",requested:"pokiTrackingAdsStatusRequested",prebidRequested:"pokiTrackingAdsStatusPrebidRequested",skipped:"pokiTrackingAdsStatusSkipped",started:"pokiTrackingAdsStatusStarted",buffering:"pokiTrackingAdsStatusBuffering"},video:{clicked:"pokiTrackingAdsVideoClicked",error:"pokiTrackingAdsVideoError",loaderError:"pokiTrackingAdsVideoLoaderError",progress:"pokiTrackingAdsVideoProgress",paused:"pokiTrackingAdsVideoPaused",resumed:"pokiTrackingAdsVideoResumed",extendedVideoError:"pokiTrackingAdsVideoExtendedVideoError"},display:{requested:"pokiTrackingScreenDisplayAdRequested",impression:"pokiTrackingScreenDisplayAdImpression",notFilled:"pokiTrackingAdsDisplayNotFilled"},rewardedWeb:{request:"pokiTrackingRewardedWebRequest",ready:"pokiTrackingRewardedWebReady",impression:"pokiTrackingRewardedWebImpression",closedGranted:"pokiTrackingRewardedWebClosedGranted",closedDeclined:"pokiTrackingRewardedWebclosedDeclined",empty:"pokiTrackingRewardedWebEmpty"},debugging:"pokiTrackingAdsDebugging"}},accounts:{openAuthPanel:"pokiAccountsOpenAuthPanel",authPanelClosed:"pokiAccountsAuthPanelClosed",getUserInfo:"pokiAccountsGetUserInfo",getUserToken:"pokiAccountsGetUserToken",userToken:"pokiAccountsUserToken",userInfo:"pokiAccountsUserInfo"}};var t=15552e3;function n(e){var t=new RegExp("".concat(e,"=([^;]+)(?:;|$)")).exec(document.cookie);return t?t[1]:""}function a(e,i,n){document.cookie="".concat(e,"=").concat(i,"; path=/; samesite=lax; max-age=").concat(Math.min(n||t,t))}function o(){for(var e=Math.floor(Date.now()/1e3),t="",i=0;i<4;i++)t=String.fromCharCode(255&e)+t,e>>=8;if(window.crypto&&crypto.getRandomValues&&Uint32Array){var n=new Uint32Array(12);crypto.getRandomValues(n);for(var a=0;a<12;a++)t+=String.fromCharCode(255&n[a])}else for(var o=0;o<12;o++)t+=String.fromCharCode(Math.floor(256*Math.random()));return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function r(e,t,i){console.error(e);var n=[{k:"where",v:t},{k:"error",v:e.name&&e.message?"".concat(e.name,": ").concat(e.message):JSON.stringify(e)}];if(void 0!==i){var a=i;"string"!=typeof e&&(a=JSON.stringify(e)),n.push({k:"extra",v:a})}!function(e,t){fetch(e,{method:"POST",headers:{"Content-Type":"text/plain"},body:t,mode:"no-cors",keepalive:!0,credentials:"omit"}).catch((function(i){console.error(i);try{var n="XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");n.open("POST",e,!0),n.setRequestHeader("Content-Type","text/plain"),n.send(t)}catch(e){}}))}("https://t.poki.io/l",JSON.stringify({c:"observer-error",ve:7,d:n}))}var s="poki_uid",d="poki_uid_new",c="poki_uid_version",l="poki_uid_ttl",p=15552e3;function A(e){if(!e)return"";try{var t=/^[a-zA-Z][a-zA-Z0-9+\-.]*:\/\//.test(e);return new URL(t?e:"https://".concat(e)).hostname||""}catch(e){return""}}function m(e){if(/^\d{1,3}(\.\d{1,3}){3}$/.test(e)||e.includes(":"))return e;if("gemini.google.com"===e)return"gemini-google";if("bard.google.com"===e)return"bard-google";if("com.google.android.googlequicksearchbox"===e)return e;var t=function(e){if(!e)return"";if(/^\d{1,3}(\.\d{1,3}){3}$/.test(e)||e.includes(":"))return e;var t=e.split(".").filter(Boolean);if(t.length<=2)return e;var i=new Set(["co.uk","gov.uk","ac.uk","sch.uk","com.au","net.au","org.au","com.br","com.mx","com.tr","com.ar","com.cn","com.hk","com.tw","com.sg","com.my","com.id","co.nz","co.in","co.kr","co.za"]),n=t.slice(-2).join("."),a=t.slice(-3).join(".");return i.has(n)?t.slice(-3).join("."):i.has(a)?t.slice(-4).join("."):n}(e);return t?t.split(".")[0]||t:e||""}function u(e,t){var i=e.getAll(t);return i&&0!==i.length?i[i.length-1]:""}window._pokiUserGlobalName=window._pokiUserGlobalName||"user";var g=new Set(["authorize.roblox.com","accounts.google.com","appleid.apple.com","idmsa.apple.com","login.microsoftonline.com","login.live.com"]),h=new Set(["doubleclick","googlesyndication","googleapis","googleadservices"]),v=new Set(["doubleclick","googlesyndication","googleapis","googleadservices","adsenseformobileapps"]),w=new Set(["google","bing","brave","yahoo","baidu","yandex","duckduckgo","aol","ask","avg","babylon","googleweblight","info","izito","msn","myway","naver","qo-search","searchencrypt","search-results","searchlock","seznam","so","sogou","startpage","startpagina","startsiden","virgilio","wp","zapmeta","100searchengines","dailysearches","easyfindanswers","ecosia","findretro","geniol","gsearch","gosearcresults","gosrch","juniorsafesearch","karmasearch","keyboardsearch","kvasir","metager","mojeek","mysearcheasy","onlineradiok","panda-search","petalsearch","presearch","qwant","rammerhead","relatedsearches","search","search-browser","searchbip","searcheira","search-io","search-load","searchmusic-online","search-redirect","searchsafe","searchsail","search-sprint","search-tab","searchspear","sosearcher","srchoffer","syndicatedsearch","trojanwall","voicecommandsearcher","web-explore","webcrawler","yellow-search","ziyuan","ziyuanm","zuiben","coccoc","zhanlian"]),b=18e5,f="poki_session";window._pokiSessionGlobalName=window._pokiSessionGlobalName||"session";var y=["poki.at","poki.be","poki.by","poki.ch","poki.cn","poki.co.id","poki.co.il","poki.com.br","poki.com","poki.cz","poki.de","poki.dk","poki.fi","poki.it","poki.jp","poki.nl","poki.pl","poki.pt","poki.se","www.trochoi.net", "e"];function k(){try{var e=new URL(document.referrer).hostname;return "poki"}catch(e){}return""}function x(e,t){if(!e)return!1;if(!(e&&e.page&&e.landing_page&&e.previous_page))return!1;if(!e.tab_id)return!1;if(!e.expire||Date.now()>e.expire)return!1;if(e.expire>Date.now()+b)return!1;if(t){if(void 0!==e.referrer_domain){var i=k(),n=g.has(i);if("poki"!==i&&!n&&i!==e.referrer_domain)return!1}var a=new URLSearchParams(window.location.search);if(["gclid","msclkid","yclid","ttclid","fbclid","utm_campaign","campaign","adgroup","creative","utm_term"].some((function(e){return a.has(e)}))||"web_app_manifest"===a.get("utm_source")||"bing"===a.get("utm_source")||"cpc"===a.get("utm_medium")||"rtb-cpm"===a.get("utm_medium"))return!1}return!0}function _(){var e=null;x(window[window._pokiSessionGlobalName],!1)&&(e=window[window._pokiSessionGlobalName]);try{var t=sessionStorage.getItem(f);if(t){var i=JSON.parse(t);x(i,!0)&&(!e||i.depth>e.depth)&&(e=i)}}catch(e){try{r(e,"getSession",sessionStorage.getItem(f))}catch(t){r(e,"getSession",t)}}return e}function I(){var e=0;window[window._pokiSessionGlobalName]&&window[window._pokiSessionGlobalName].count&&(e=window[window._pokiSessionGlobalName].count);try{var t=sessionStorage.getItem(f);if(t){var i=JSON.parse(t);i&&i.count&&i.count>e&&(e=i.count)}}catch(e){try{r(e,"getPreviousSessionCount",sessionStorage.getItem(f))}catch(t){r(e,"getPreviousSessionCount",t)}}try{var a=n(f);if(a){var o=JSON.parse(a);o&&o.count&&o.count>e&&(e=o.count)}}catch(e){try{r(e,"getPreviousSessionCount",n(f))}catch(t){r(e,"getPreviousSessionCount",t)}}return e}function S(){if(window[window._pokiSessionGlobalName]&&window[window._pokiSessionGlobalName].tab_id)return window[window._pokiSessionGlobalName].tab_id;try{var e=sessionStorage.getItem(f);if(e){var t=JSON.parse(e);if(t&&t.tab_id)return t.tab_id}}catch(e){}return o()}function E(){var e=0,t=_();t&&(e=t.depth);try{var i=n(f);if(i){var a=JSON.parse(i);!x(a,!0)||t&&a.id!==t.id||(e=Math.max(e,a.depth))}}catch(e){var o=null;try{o=n(f)||null}catch(e){}r(e,"getSessionDepth",o)}return e}function C(e,t,i){var s,c=null;try{(c=_())?(c.previous_page.path=c.page.path,c.previous_page.type=c.page.type,c.previous_page.id=c.page.id,c.previous_page.start=c.page.start,c.previous_page.pageview_id=c.page.pageview_id,c.page.path=e,c.page.type=t,c.page.id=i,c.page.start=Date.now(),c.page.pageview_id=o(),c.depth=E()+1,c.expire=Date.now()+b):c=function(e,t,i){try{var s=n(f);if(s){var d=JSON.parse(s);if(x(d,!0))return d.previous_page.path=d.page.path,d.previous_page.type=d.page.type,d.previous_page.id=d.page.id,d.previous_page.start=d.page.start,d.previous_page.pageview_id=d.page.pageview_id,d.page.path=e,d.page.type=t,d.page.id=i,d.page.start=Date.now(),d.page.pageview_id=o(),d.depth=E()+1,d.expire=Date.now()+b,d.tab_id=S(),a(f,JSON.stringify(d)),d}}catch(e){var c=null;try{c=n(f)||null}catch(e){}r(e,"getSessionDepth",c)}var l=o(),p=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.search,n=void 0===i?"":i,a=t.referrer,o=void 0===a?"":a,r=new URLSearchParams(n),s=A(o),d=m(s),c=""!==o,l=u(r,"tt"),p=u(r,"utm_source"),b=u(r,"utm_medium"),f=u(r,"utm_term"),y=u(r,"poki_source"),k=u(r,"placement"),x=u(r,"gclid"),_=u(r,"msclkid"),I=u(r,"yclid"),S=u(r,"ttclid"),E=u(r,"fbclid"),C=u(r,"adgroup"),P=u(r,"creative"),B=u(r,"network");e=d||(""===s&&""!==o?"":o);var T,D,M=!c||"poki"===e||v.has(e),L=(T=(o||"").match(/^android-app:\/\/([^/]+)/i))?T[1].toLowerCase():null,O=function(e){var t=(e||"").match(/^ios-app:\/\/([^/]+)/i);return t?t[1].toLowerCase():null}(o),N=function(e){var t=(e||"").match(/^mobileapp::\d+-([^/]+)/i);return t?t[1].toLowerCase():null}(o),R=M&&k.includes("mobileapp::")&&k.includes("mobileapp::2-")?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/^mobileapp::2-([^/]+)/,i=(e||"").match(t);return i?i[1]:null}(k):null;D="chrome_extension"===p?"poki_chrome_extension":"edge_extension"===p?"poki_edge_extension":"1"===l?"tiktok":"android_app"===y?"poki_android_app":"web_app_manifest"===p?"pwa":L||O||N||(!c&&p?p:R||(M&&k?m(A(k))||k:"g"===B?"google":"ytv"===B?"youtube":c||x||_||I||S||E||C||P?!c&&x&&/^\d+$/.test(x)?"direct":""===e&&c?"unknown":e||"unknown":"direct"));var z,U=h.has(D)||!!(x||_||I||S||E||C||P)||"cpc"===b||"rtb-cpm"===b||"ppc"===b||"paid"===b,j=(s||"").toLowerCase(),F=!g.has(j)&&(w.has(D)||/^com\.google\.android\.googlequicksearchbox$/.test(j)||/^webcache\.googleusercontent\.com$/.test(j)||!!f&&"share"!==b);return z=U?"cpc":F?"organic":g.has(j)?"oauth":"pwa"===D||"poki_android_app"===D||c||"social"===b||"email"===b?"referral":D?"unknown":"direct","direct"===D&&"direct"!==z&&"unknown"!==z&&"referral"!==z&&(D="unknown"),h.has(D)&&(D="unknown"),"poki"===D&&"cpc"===z&&(D="unknown"),{source:D,medium:z}}({referrer:document.referrer,search:window.location.search}),y=p.source,_=p.medium;return{id:o(),expire:Date.now()+b,tab_id:S(),depth:1,count:I()+1,page:{path:e,type:t,id:i,start:Date.now(),pageview_id:l},previous_page:{},landing_page:{path:e,type:t,id:i,start:Date.now(),pageview_id:l},referrer_domain:k(),source:y,medium:_}}(e,t,i),c.count>1&&(s=parseInt(n(l),10)||p,a(d,"0",s),window[window._pokiUserGlobalName]&&(window[window._pokiUserGlobalName].is_new=!1));var y=JSON.stringify(c);try{sessionStorage.setItem(f,y)}catch(e){r(e,"updateSession-1")}window[window._pokiSessionGlobalName]=c;try{a(f,y)}catch(e){r(e,"updateSession-4")}}catch(e){r(e,"updateSession-2")}return c}const P=(e,t)=>{let i=!1;return Object.keys(t).forEach((n=>{t[n]===e&&(i=!0)})),i},B=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","GB","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","IS","LI","NO"];function T(e){return B.includes(e)}const D=(e,t)=>{if("undefined"==typeof window&&!t)return"";e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const i=new RegExp(`(?:[\\?&]|^)${e}=([^&#]*)`).exec(t||window?.location?.search||"");return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))},M=()=>"undefined"!=typeof navigator&&/(?:phone|windows\s+phone|ipod|blackberry|(?:android|bb\d+|meego|silk|googlebot) .+? mobile|palm|windows\s+ce|opera mini|avantgo|mobilesafari|docomo|kaios)/i.test(navigator.userAgent),L=()=>"undefined"!=typeof navigator&&/(?:ipad|playbook|(?:android|bb\d+|meego|silk)(?! .+? mobile))/i.test(navigator.userAgent),O=()=>M()?"mobile":L()?"tablet":"desktop";var N;!function(e){e.ON="on",e.NOT_APPLICABLE="not_applicable",e.DISABLED="disabled",e.PBS_ONLY="pbs_only",e.DPF_ONLY="dpf_only",e.CSTS_ONLY="csts_only",e.PBS_DPF_CSTS="pbs_dpf_csts"}(N||(N={}));const R=D("referrer")||"",z=D("ccpaApplies")||"",U={bot:"1"===D("bot"),categories:D("categories")||"",device:O(),experiment:D("experiment")||"",forceAd:D("force_ad")||!1,isPokiIframe:(parseInt(D("site_id"),10)||0)>0,isPokiExternal:!!window.isPokiExternal,siteID:parseInt(D("site_id"),10)||3,tag:D("tag")||"",versionID:D("game_version_id"),debugMode:"true"===D("pokiDebug"),logMode:""!==D("pokiLogging"),testVideos:"true"===D("testVideos"),referrerParam:R,isPlayground:!!window.isPokiPlayground,isInspector:"inspector-uploads.poki-user-content.com"===window?.location?.host||document?.referrer?.includes("inspector.poki.dev")||"1"===D("inspector"),houseAdsOnly:!1,adOverrideMode:!1,googlePreview:!!D("google_preview"),ccpaApplies:"1"===z||"0"!==z&&void 0,country:(D("country")||"").toUpperCase(),gameID:D("game_id"),gdprApplies:T((D("country")||"").toUpperCase()),contentGameID:void 0,specialCondition:D("special_condition"),nonPersonalized:"y"===D("nonPersonalized"),familyFriendly:"y"===D("familyFriendly"),kioskMode:"y"===D("kioskMode")||!!window?.kioskMode,forceBidder:D("force_bidder")||"",cloudSaveGames:"y"===D("cloudsavegames"),AYMode:N.ON,forceStartAY:"y"===D("forceStartAY")},j=(e,t)=>{U[e]=t},F=U;class G{static sendMessage(t,i,n=window.parent){if(!P(t,e.message)){const t=Object.keys(e.message).map((e=>`poki.message.${e}`));throw new TypeError(`Argument 'type' must be one of ${t.join(", ")}`)}const a=i||{};F.gameID&&F.versionID&&(a.pokifordevs={game_id:F.gameID,game_version_id:F.versionID}),n?.postMessage({type:t,content:a},"*")}}class H{static debug=!1;static log=!1;static init=(e,t)=>{const{hostname:i}=window.location;void 0===e&&("test"===window?.process?.env?.NODE_ENV?(e=!1,void 0===t&&(t=!1)):"localhost"===i||"127.0.0.1"===i||"[::1]"===i||"launch.playcanvas.com"===i?(e=!0,void 0===t&&(t=!1)):(e=!1,void 0===t&&(t=!1))),F.isInspector?(e=!0,t=!0):i.endsWith(".poki-gdn.com")&&(e=!1,t=!1),F.debugMode&&(e=!0),F.logMode&&(t=!0),void 0===t&&(t=e),H.debug=e,H.log=t}}const V=e=>{let t=[];return Object.keys(e).forEach((i=>{"object"==typeof e[i]?t=t.concat(V(e[i])):t.push(e[i])})),t},q=V;class K{static listeners={};static videoDataAnnotations={};static clearEventListeners(){this.listeners={}}static removeEventListener(e,t){if(!Object.prototype.hasOwnProperty.call(this.listeners,e))return;const i=this.listeners[e].indexOf(t);-1!==i&&this.listeners[e].splice(i,1)}static addEventListener(e,t,i=!1){if(i=!!i,Object.prototype.hasOwnProperty.call(this.listeners,e)||(this.listeners[e]=[]),i){const i=n=>{this.removeEventListener.bind(this)(e,i),t(n)};this.listeners[e].push(i)}else this.listeners[e].push(t)}static dispatchEvent(e,t={}){const i=Object.keys(this.listeners);for(let n=0;n<i.length;n++){const a=i[n];if(e===a){const e=this.listeners[a];for(let i=0;i<e.length;i++)e[i]({...this.videoDataAnnotations,...t})}}}static addVideoDataAnnotations(e){this.videoDataAnnotations={...this.videoDataAnnotations,...e}}static getVideoDataAnnotations(){return this.videoDataAnnotations}static clearVideoDataAnnotations(){this.videoDataAnnotations={}}}const Q=e=>{if("undefined"==typeof window||"undefined"==typeof fetch)return;const t=K.getVideoDataAnnotations();let{size:i}=e;e.event?.startsWith("video-")&&(i="640x360v");const n={...e,size:i,adBreakId:e.adBreakId||t.adBreakId,currentAdNumber:e.currentAdNumber||t.currentAdNumber,totalAdAmount:e.totalAdAmount||t.totalAdAmount,opportunity_id:e.opportunityId||t.opportunityId,ad_unit_path:e.adUnitPath||t.adUnitPath,p4d_game_id:F.gameID,p4d_version_id:F.versionID,bidder:e.bidder||t.bidder,bid:e.bid||t.bid||0,error_code:e.errorCode,creative_id:e.creativeId||t.creativeId,experiment:F.experiment};fetch("https://t.poki.io/adserver",{method:"POST",mode:"no-cors",body:JSON.stringify(n)}).catch((e=>{console.warn("%cPOKI:%c adserver error","font-weight: bold","",e)}))};function W(){const e=window,t=[];return"function"!=typeof e.ga&&"function"!=typeof e.gtag||t.push("ga"),e.mixpanel&&"function"==typeof e.mixpanel.track&&t.push("mixpanel"),"function"==typeof e.GameAnalytics&&t.push("gameanalytics"),(e.kongregateAPI||e.kongregate)&&t.push("kongregate"),e.FlurryAgent&&t.push("flurry"),e.Countly&&t.push("countly"),e.amplitude&&t.push("amplitude"),t}function $(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function Z(e){try{const t=new WeakSet;return JSON.stringify(e,((e,i)=>{if("object"==typeof i&&null!==i){if(t.has(i))return"[Circular]";t.add(i)}return i}))}catch{try{return e.toString()}catch{return"[Object]"}}}const X=[],Y=function(e){let t=!1,i=0;return n=>{if(t)return void i++;t=!0,setTimeout((()=>{t=!1}),e);const a=i;i=0,n(a)}}(100),J=console.error,ee=["Audio callback had starved sending audio by"];let te=!1;const ie=Math.random().toString(36).substring(2);let ne;function ae(){const e=window;return e.config?.unityVersion?e.config.unityVersion:e.Phaser?.VERSION?e.Phaser.VERSION:e.pc?.version?e.pc.version:e.Module?.engineVersion?e.Module.engineVersion:zi.__godotVersion?zi.__godotVersion:void 0}function oe(e,t=!0){F.gameID&&!F.isPlayground?Y((t=>{try{const i=e.message||Z(e);X.push({n:e.name,m:i,s:JSON.stringify(e.stack)}),ne&&ne({name:e.name,message:i,stack:e.stack});const n=JSON.stringify({gid:F.gameID,vid:F.versionID,ve:7,n:e.name,m:i+(t?` (skipped ${t} errors)`:""),s:JSON.stringify(e.stack),ui:ie,ev:`${ae()}`}),a="https://t.poki.io/ge";if(navigator.sendBeacon)navigator.sendBeacon(a,n);else{const e=new XMLHttpRequest;e.open("POST",a,!0),e.send(n)}}catch(e){J("%cPOKI:%c failed to log error","font-weight: bold","",e)}})):t&&console.error("%cPOKI:%c game error","font-weight: bold","",e)}function re(e){$(e.reason)?oe(e.reason):oe({name:"unhandledrejection",message:JSON.stringify(e.reason)||Z(e)})}function se(e){$(e.error)?oe(e.error):oe(e)}function de(){if(F.gameID&&!F.isPlayground&&!F.isPokiExternal&&F.isPokiIframe&&!te){te=!0,window.addEventListener("unhandledrejection",re),window.addEventListener("error",se);try{console.error=(...e)=>{const t=Z(e);ee.some((e=>t.includes(e)))||oe({name:"console.error",message:t},!1),J.apply(console,e)}}catch{}}}function ce(){if(te){te=!1,window.removeEventListener("unhandledrejection",re),window.removeEventListener("error",se);try{console.error=J}catch{}}}"undefined"!=typeof window&&de();const le=()=>{let e=Math.floor(Date.now()/1e3),t="";for(let i=0;i<4;i++)t=String.fromCharCode(255&e)+t,e>>=8;if(window.crypto&&crypto.getRandomValues&&Uint32Array){const e=new Uint32Array(12);crypto.getRandomValues(e);for(let i=0;i<12;i++)t+=String.fromCharCode(255&e[i])}else for(let e=0;e<12;e++)t+=String.fromCharCode(Math.floor(256*Math.random()));return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")};var pe;!function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(pe||(pe={}));const Ae=window.requestAnimationFrame;function me(e){return Math.round(100*e)/100}class ue{#e=[];#t=0;#i;constructor(e){Math.random()>e||(this.#i=performance.now()+1e3,Ae((()=>{this.#n()})))}#n(){const e=performance.now();for(;e>=this.#i;)this.#e.unshift(this.#t),this.#e.length>10&&this.#e.pop(),this.#t=0,this.#i+=1e3;this.#t++,Ae((()=>{this.#n()}))}stats(){if(0===this.#e.length)return;const e=Math.min(...this.#e),t=Math.max(...this.#e),i=me(this.#e.reduce(((e,t)=>e+t),0)/this.#e.length);let n=me(this.#e.slice(1).map(((e,t)=>Math.abs(e-this.#e[t]))).reduce(((e,t)=>e+t),0)/(this.#e.length-1));return Number.isNaN(n)&&(n=0),`${e}|${t}|${i}|${n}`}}const ge=Math.random().toString(36).substring(2);async function he(){const e=await window.cookieStore.getAll(),t=window.indexedDB.databases?await window.indexedDB.databases():[];return[...e.map((e=>({name:e.name,expire_seconds:Math.round((e.expires-Date.now())/1e3),type:"cookie",domain:e.domain}))),...Object.keys(window.localStorage).map((e=>({name:e,expire_seconds:15552e3,type:"localStorage"}))),...t.map((e=>({name:e.name,expire_seconds:0,type:"idb"})))]}class ve{static async collectAndLog(){try{const e={cookies:await he(),p4d_game_id:F.gameID,user_id:ge};fetch("https://t.poki.io/game-cookies",{method:"post",body:JSON.stringify(e)}).catch()}catch{}}static trackSavegames(){window.cookieStore&&window.cookieStore.getAll&&F.gameID&&(Math.random()>.01||navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome")<=-1||(ve.collectAndLog(),setInterval(ve.collectAndLog,12e4)))}}const we=(()=>{let e=0;return()=>(e+=1,`u${`0000${((36*Math.random())**4|0).toString(36)}`.slice(-4)}${e}`)})();function be(e){const t=[];for(let i=0,n=e.length;i<n;i++)t.push(e[i]);return t}function fe(e){return"style"in e}const ye=(e,t)=>{if(e instanceof t)return!0;const i=Object.getPrototypeOf(e);return null!==i&&(i.constructor.name===t.name||ye(i,t))},ke=new Set(["cx","cy","x","y","r","rx","ry","d","fill","alignment-baseline","baseline-shift","clip-rule","color-interpolation","color-interpolation-filters","color-rendering","dominant-baseline","fill-opacity","fill-rule","flood-color","flood-opacity","glyph-orientation-horizontal","glyph-orientation-vertical","lighting-color","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","vector-effect"]),xe={html:void 0,svg:void 0};function _e(e,t={}){const i=ye(e,SVGElement)?"svg":"html",n=xe[i];if(n)return n;const a=t.includeStyleProperties??be(window.getComputedStyle(document.documentElement)),o="html"===i?a.filter((e=>!ke.has(e))):[...a];return xe[i]=o,o}function Ie(e,t){const i=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return i?parseFloat(i.replace("px","")):0}function Se(e,t={}){return{width:t.width||function(e){const t=Ie(e,"border-left-width"),i=Ie(e,"border-right-width");return e.clientWidth+t+i}(e),height:t.height||function(e){const t=Ie(e,"border-top-width"),i=Ie(e,"border-bottom-width");return e.clientHeight+t+i}(e)}}const Ee=16384;function Ce(e){return new Promise(((t,i)=>{const n=new Image;n.decode=()=>t(n),n.onload=()=>t(n),n.onerror=i,n.crossOrigin="anonymous",n.decoding="async",n.src=e}))}async function Pe(e,t,i){const n="http://www.w3.org/2000/svg",a=document.createElementNS(n,"svg"),o=document.createElementNS(n,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${i}`),a.setAttribute("viewBox",`0 0 ${t} ${i}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),a.appendChild(o),o.appendChild(e),async function(e){return Promise.resolve().then((()=>(new XMLSerializer).serializeToString(e))).then(encodeURIComponent).then((e=>`data:image/svg+xml;charset=utf-8,${e}`))}(a)}function Be(e,t,i,n){const a=`.${e}:${t}`,o=i.cssText?function(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}(i):function(e,t){return _e(document.documentElement,t).map((t=>`${t}: ${e.getPropertyValue(t)}${e.getPropertyPriority(t)?" !important":""};`)).join(" ")}(i,n);return document.createTextNode(`${a}{${o}}`)}function Te(e,t,i,n){const a=window.getComputedStyle(e,i),o=a.getPropertyValue("content");if(""===o||"none"===o)return;const r=we();try{t.className=`${t.className} ${r}`}catch{return}const s=document.createElement("style");s.appendChild(Be(r,i,a,n)),t.appendChild(s)}const De="application/font-woff",Me="image/jpeg",Le={woff:De,woff2:De,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Me,jpeg:Me,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Oe(e){const t=function(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}(e).toLowerCase();return Le[t]||""}function Ne(e){return-1!==e.search(/^(data:)/)}function Re(e,t){return`data:${t};base64,${e}`}async function ze(e,t,i){const n=await fetch(e,t);if(404===n.status)throw new Error(`Resource "${n.url}" not found`);const a=await n.blob();return new Promise(((e,t)=>{const o=new FileReader;o.onerror=t,o.onloadend=()=>{try{e(i({res:n,result:o.result}))}catch(e){t(e)}},o.readAsDataURL(a)}))}const Ue={};async function je(e,t,i){const n=function(e,t,i){let n=e.replace(/\?.*/,"");return i&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}(e,t,i.includeQueryParams);if(null!=Ue[n])return Ue[n];let a;i.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());try{const n=await ze(e,i.fetchRequestInit,(({res:e,result:i})=>(t||(t=e.headers.get("Content-Type")||""),function(e){return e.split(/,/)[1]}(i))));a=Re(n,t)}catch(t){a=i.imagePlaceholder||"";let n=`Failed to fetch resource: ${e}`;t&&(n="string"==typeof t?t:t.message),n&&console.warn("%cPOKI:%c failed to fetch resource","font-weight: bold","",n)}return Ue[n]=a,a}async function Fe(e,t){return ye(e,HTMLCanvasElement)?async function(e){try{if(e.getContext("2d"))return Ce(e.toDataURL())}catch{}if(0===e.width||0===e.height)return Ce("data:,");const t=document.createElement("canvas").getContext("2d",{alpha:!0});t.canvas.width=e.width,t.canvas.height=e.height;const i=t.getImageData(0,0,t.canvas.width,t.canvas.height);return Ce(await new Promise((n=>{try{requestAnimationFrame((()=>{const a=document.createElement("canvas").getContext("webgl2"),o=a.createTexture(),r=a.createFramebuffer();a.bindTexture(a.TEXTURE_2D,o),a.bindFramebuffer(a.FRAMEBUFFER,r),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,e),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,o,0),a.readPixels(0,0,e.width,e.height,a.RGBA,a.UNSIGNED_BYTE,new Uint8Array(i.data.buffer)),t.putImageData(i,0,0),a.deleteTexture(o),a.deleteFramebuffer(r);const s=a.getExtension("WEBGL_lose_context");s&&s.loseContext(),n(t.canvas.toDataURL())}))}catch{n("data:,")}})))}(e):ye(e,HTMLVideoElement)?async function(e,t){if(e.currentSrc){const t=document.createElement("canvas"),i=t.getContext("2d");return t.width=e.clientWidth,t.height=e.clientHeight,i?.drawImage(e,0,0,t.width,t.height),Ce(t.toDataURL())}const{poster:i}=e,n=Oe(i);return Ce(await je(i,n,t))}(e,t):ye(e,HTMLIFrameElement)?async function(e,t){try{if(e?.contentDocument?.body)return await Ke(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}(e,t):e.cloneNode(He(e))}const Ge=e=>"SLOT"===e.tagName?.toUpperCase(),He=e=>null!=e.tagName&&"SVG"===e.tagName.toUpperCase();function Ve(e,t,i){return function(e,t,i){const n=t.style;if(!n)return;const a=window.getComputedStyle(e);a.cssText?(n.cssText=a.cssText,n.transformOrigin=a.transformOrigin):_e(e,i).forEach((i=>{let o=a.getPropertyValue(i);if("font-size"===i&&o.endsWith("px")){const e=Math.floor(parseFloat(o.substring(0,o.length-2)))-.1;o=`${e}px`}ye(e,HTMLIFrameElement)&&"display"===i&&"inline"===o&&(o="block"),"d"===i&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),n.setProperty(i,o,a.getPropertyPriority(i))}))}(e,t,i),ye(e,HTMLElement)&&ye(t,HTMLElement)&&(function(e,t){ye(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ye(e,HTMLInputElement)&&t.setAttribute("value",e.value)}(e,t),function(e,t){if(ye(e,HTMLSelectElement)){const i=t,n=Array.from(i.children).find((t=>e.value===t.getAttribute("value")));n&&n.setAttribute("selected","")}}(e,t),function(e,t,i){Te(e,t,":before",i),Te(e,t,":after",i)}(e,t,i),i.patchScroll)?function(e,t){if(0===e.scrollTop&&0===e.scrollLeft||!t.children)return t;for(let i=0;i<t.children.length;i+=1){const n=t.children[i];if(!n.children)continue;const{transform:a}=n.style,o=new DOMMatrix(a),{a:r,b:s,c:d,d:c}=o;o.a=1,o.b=0,o.c=0,o.d=1,o.translateSelf(-e.scrollLeft,-e.scrollTop),o.a=r,o.b=s,o.c=d,o.d=c,n.style.transform=o.toString()}return t}(e,t):t}let qe=0;async function Ke(e,t,i){return i||!t.filter||t.filter(e)?fe(e)?(qe++,qe%5==0&&await(n=0,e=>new Promise((t=>{setTimeout((()=>t(e)),n)}))),Promise.resolve(e).then((e=>Fe(e,t))).then((i=>async function(e,t,i){if(He(t))return t;let n=[];return n=Ge(e)&&e.assignedNodes?be(e.assignedNodes()):ye(e,HTMLIFrameElement)&&e.contentDocument?.body?be(e.contentDocument.body.childNodes):be(("shadowRoot"in e?e.shadowRoot??e:e).childNodes),0===n.length||ye(e,HTMLVideoElement)||await n.reduce(((e,n)=>e.then((()=>Ke(n,i))).then((e=>{e&&t.appendChild(e)}))),Promise.resolve()),t}(e,i,t))).then((i=>Ve(e,i,t))).then((e=>async function(e,t){const i=e.querySelectorAll?e.querySelectorAll("use"):[];if(0===i.length)return e;const n={};for(let a=0;a<i.length;a++){const o=i[a].getAttribute("xlink:href");if(o){const i=e.querySelector(o),a=document.querySelector(o);i||!a||n[o]||(n[o]=await Ke(a,t,!0))}}const a=Object.values(n);if(a.length){const t="http://www.w3.org/1999/xhtml",i=document.createElementNS(t,"svg");i.setAttribute("xmlns",t),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";const n=document.createElementNS(t,"defs");i.appendChild(n);for(let e=0;e<a.length;e++)n.appendChild(a[e]);e.appendChild(i)}return e}(e,t)))):e.cloneNode(!1):null;var n}const Qe=/url\((['"]?)([^'"]+?)\1\)/g,We=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,$e=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;async function Ze(e,t,i,n,a){try{const o=i?function(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const i=document.implementation.createHTMLDocument(),n=i.createElement("base"),a=i.createElement("a");return i.head.appendChild(n),i.body.appendChild(a),t&&(n.href=t),a.href=e,a.href}(t,i):t,r=Oe(t);let s;if(a){s=Re(await a(o),r)}else s=await je(o,r,n);return e.replace(function(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}(t),`$1${s}$3`)}catch{}return e}function Xe(e){return-1!==e.search(Qe)}async function Ye(e,t,i){if(!Xe(e))return e;const n=function(e,{preferredFontFormat:t}){return t?e.replace($e,(e=>{for(;;){const[i,,n]=We.exec(e)||[];if(!n)return"";if(n===t)return`src: ${i};`}})):e}(e,i),a=function(e){const t=[];return e.replace(Qe,((e,i,n)=>(t.push(n),e))),t.filter((e=>!Ne(e)))}(n);return a.reduce(((e,n)=>e.then((e=>Ze(e,n,t,i)))),Promise.resolve(n))}async function Je(e,t,i){const n=t.style?.getPropertyValue(e);if(n){const a=await Ye(n,null,i);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function et(e,t){fe(e)&&(await async function(e,t){await Je("background",e,t)||await Je("background-image",e,t),await Je("mask",e,t)||await Je("mask-image",e,t)}(e,t),await async function(e,t){const i=ye(e,HTMLImageElement),n=ye(e,SVGImageElement);if((!i||Ne(e.src))&&(!n||Ne(e.href.baseVal)))return;const a=i?e.src:e.href.baseVal,o=await je(a,Oe(a),t);await new Promise(((t,n)=>{e.onload=t,e.onerror=n;const a=e;a.decode&&(a.decode=t),"lazy"===a.loading&&(a.loading="eager"),i?(e.srcset="",e.src=o):e.href.baseVal=o}))}(e,t),await async function(e,t){const i=be(e.childNodes).map((e=>et(e,t)));await Promise.all(i).then((()=>e))}(e,t))}const tt={};async function it(e){let t=tt[e];if(null!=t)return t;const i=await fetch(e);return t={url:e,cssText:await i.text()},tt[e]=t,t}async function nt(e,t){let{cssText:i}=e;const n=/url\(["']?([^"')]+)["']?\)/g,a=(i.match(/url\([^)]+\)/g)||[]).map((async a=>{let o=a.replace(n,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),ze(o,t.fetchRequestInit,(({result:e})=>(i=i.replace(a,`url(${e})`),[a,e])))}));return Promise.all(a).then((()=>i))}function at(e){if(null==e)return[];const t=[];let i=e.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const n=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const e=n.exec(i);if(null===e)break;t.push(e[0])}i=i.replace(n,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=a.exec(i);if(null===e){if(e=o.exec(i),null===e)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;t.push(e[0])}return t}async function ot(e,t){if(null==e.ownerDocument)throw new Error("Provided element is not within a Document");const i=be(e.ownerDocument.styleSheets),n=await async function(e,t){const i=[],n=[];return e.forEach((i=>{if("cssRules"in i)try{be(i.cssRules||[]).forEach(((e,a)=>{if(e instanceof CSSImportRule){let o=a+1;const r=it(e.href).then((e=>nt(e,t))).then((e=>at(e).forEach((e=>{try{i.insertRule(e,e.startsWith("@import")?o+=1:i.cssRules.length)}catch(t){console.error("Error inserting rule from remote css",{rule2:e,err:t})}})))).catch((e=>{console.error("Error loading remote css",e.toString())}));n.push(r)}}))}catch(a){const o=e.find((e=>null==e.href))||document.styleSheets[0];null!=i.href&&n.push(it(i.href).then((e=>nt(e,t))).then((e=>at(e).forEach((e=>{o.insertRule(e,o.cssRules.length)})))).catch((e=>{console.error("Error loading remote stylesheet",e)}))),console.error("Error inlining remote css file",a)}})),Promise.all(n).then((()=>(e.forEach((e=>{if("cssRules"in e)try{be(e.cssRules||[]).forEach((e=>{i.push(e)}))}catch(t){console.error(`Error while reading CSS rules from ${e.href}`,t)}})),i)))}(i,t);return function(e){return e.filter((e=>e instanceof CSSFontFaceRule)).filter((e=>Xe(e.style.getPropertyValue("src"))))}(n)}async function rt(e,t){const i=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await async function(e,t){const i=await ot(e,t);return(await Promise.all(i.map((e=>{const i=e.parentStyleSheet?e.parentStyleSheet.href:null;return Ye(e.cssText,i,t)})))).join("\n")}(e,t);if(i){const t=document.createElement("style"),n=document.createTextNode(i);t.appendChild(n),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}async function st(e,t={}){const{width:i,height:n}=Se(e,t),a=await Ke(e,t,!0);await rt(a,t),await et(a,t),function(e,t){const{style:i}=e;t.backgroundColor&&(i.backgroundColor=t.backgroundColor),t.width&&(i.width=`${t.width}px`),t.height&&(i.height=`${t.height}px`);const n=t.style;null!=n&&Object.keys(n).forEach((e=>{i[e]=n[e]}))}(a,t);return await Pe(a,i,n)}async function dt(e,t={}){const{width:i,height:n}=Se(e,t),a=await st(e,t),o=await Ce(a),r=document.createElement("canvas"),s=r.getContext("2d"),d=window.devicePixelRatio||1,c=t.canvasWidth||i,l=t.canvasHeight||n;return r.width=c*d,r.height=l*d,t.skipAutoScale||function(e){(e.width>Ee||e.height>Ee)&&(e.width>Ee&&e.height>Ee?e.width>e.height?(e.height*=Ee/e.width,e.width=Ee):(e.width*=Ee/e.height,e.height=Ee):e.width>Ee?(e.height*=Ee/e.width,e.width=Ee):(e.width*=Ee/e.height,e.height=Ee))}(r),r.style.width=`${c}`,r.style.height=`${l}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,r.width,r.height)),s.drawImage(o,0,0,r.width,r.height),r}async function ct(e,t={}){return(await dt(e,t)).toDataURL()}const lt="pokiSdkContainer",pt="pokiSdkFixed",At="pokiSdkOverlay",mt="pokiSdkHidden",ut="pokiSdkInsideContainer",gt="pokiSdkPauseButtonContainer",ht="pokiSdkPauseButton",vt="pokiSdkPauseButtonBG",wt="pokiSdkStartAdButton",bt="pokiSdkProgressBar",ft="pokiSdkProgressContainer",yt="pokiSdkSpinnerContainer",kt="pokiSdkVideoContainer",xt="pokiSdkVisible",_t="pokiSDKAdContainer",It="pokiSDKHouseAdContainer",St="pokiSDKNrAdsContainer",Et=`\n.${lt} {\n\toverflow: hidden;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 99999;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.${lt}.${pt} {\n\tposition: fixed;\n}\n\n.${lt}.${xt} {\n\tdisplay: block;\n}\n\n.${lt}.${mt},\n.${yt}.${mt} {\n\tdisplay: none;\n}\n\n.${lt}.${mt},\n.${yt} {\n\tpointer-events: none;\n}\n\n.${yt} {\n\tz-index: 10;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground: url('https://a.poki-cdn.com/images/thumb_anim_2x.gif') 50% 50% no-repeat;\n\tuser-select: none;\n}\n\n.${ut} {\n\tbackground: #000;\n\tposition: relative;\n\tz-index: 1;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\n\topacity: 0;\n\t-webkit-transition: opacity 0.5s ease-in-out;\n\t-moz-transition: opacity 0.5s ease-in-out;\n\t-ms-transition: opacity 0.5s ease-in-out;\n\t-o-transition: opacity 0.5s ease-in-out;\n\ttransition: opacity 0.5s ease-in-out;\n}\n\n.${lt}.${xt} .${ut} {\n\topacity: 1;\n}\n\n.${_t}, .${kt} {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.${wt} {\n\tposition: absolute;\n\tz-index: 9999;\n\ttop: 0;\n\n\tpadding-top: 10%;\n\twidth: 100%;\n\theight: 100%;\n\ttext-align: center;\n\tcolor: #FFF;\n\n\tfont: 700 15pt 'Arial', sans-serif;\n\tfont-weight: bold;\n\tletter-spacing: 1px;\n\ttransition: 0.1s ease-in-out;\n\tline-height: 1em;\n}\n\n.${gt} {\n\tcursor:pointer;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 10;\n}\n\n.${vt} {\n    content: '';\n    background: rgba(0, 43, 80, 0.5);\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n\tz-index: 11;\n}\n\n.${gt}:hover .${vt} {\n\tbackground: rgba(0, 43, 80, 0.7);\n}\n\n.${ht} {\n\tposition: absolute;\n    top: 50%;\n    left: 50%;\n    z-index: 12;\n}\n\n.${ht}:before {\n\tcontent: '';\n\tposition: absolute;\n\twidth: 100px;\n\theight: 100px;\n\tdisplay: block;\n\tborder: 2px solid #fff;\n\tborder-radius: 50%;\n\tuser-select: none;\n\tbackground-color: rgba(0, 0, 0, 0.6);\n\ttransition: background-color 0.5s ease;\n\tanimation: 1s linear infinite pokiPulse;\n\tz-index: 12;\n}\n\n.${ht}:after {\n\tcontent: '';\n\tposition: absolute;\n\tdisplay: block;\n\tbox-sizing: border-box;\n\tborder-color: transparent transparent transparent #fff;\n\tborder-style: solid;\n\tborder-width: 26px 0 26px 40px;\n\tpointer-events: none;\n\tanimation: 1s linear infinite pokiPulse;\n\tleft: 6px;\n\tz-index: 12;\n}\n\n@keyframes pokiPulse {\n\t0% {\n\t\ttransform: translate(-50%, -50%) scale(0.95);\n\t}\n\t70% {\n\t\ttransform: translate(-50%, -50%) scale(1.1);\n\t}\n\t100% {\n\t\ttransform: translate(-50%, -50%) scale(0.95);\n\t}\n}\n\n.${ft} {\n\tbackground: #B8C7DD;\n\twidth: 100%;\n\theight: 5px;\n\tposition: absolute;\n\tbottom: 0;\n\tz-index: 9999;\n}\n\n.${bt} {\n\tposition:relative;\n\tbottom:0px;\n\tbackground: #FFDC00;\n\theight: 100%;\n\twidth: 0%;\n\ttransition: width 0.5s;\n\ttransition-timing-function: linear;\n}\n\n.${bt}.${xt}, .${gt}.${xt}, .${wt}.${xt} {\n\tdisplay: block;\n\tpointer-events: auto;\n}\n\n.${bt}.${mt}, .${gt}.${mt}, .${wt}.${mt}, .${St}.${mt} {\n\tdisplay: none;\n\tpointer-events: none;\n}\n\n.${_t} .${It} {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 99999;\n\tcursor: pointer;\n}\n\n.${St} {\n\tbottom: 10px;\n\tposition: absolute;\n\tleft: 10px;\n\tz-index: 9999;\n\tcolor: #FFF;\n\tfont: 700 9pt 'Arial', sans-serif;\n\tfilter: drop-shadow(0 0 0.2rem black);\n}\n\n`;async function Ct(e,t={},i=5e3){const n=new AbortController,{signal:a}=n,o={...t,signal:a};let r=null;const s=new Promise(((e,t)=>{r=setTimeout((()=>{n.abort(),t(new DOMException(`Signal timed out after ${i}ms`,"AbortError"))}),i)}));try{const t=await Promise.race([fetch(e,o),s]);return r&&clearTimeout(r),t}catch(t){throw r&&clearTimeout(r),t instanceof Error&&"AbortError"===t.name?(console.error(`%cPOKI:%c fetchWithTimeout: Fetch aborted for ${e}. Error: ${t.message}`),t):t instanceof Error?(console.error(`%cPOKI:%c fetchWithTimeout: Fetch error for ${e}:`,t.message),t):(console.error(`%cPOKI:%c fetchWithTimeout: An unexpected error occurred for ${e}:`,t),new Error("An unexpected fetch error occurred."))}}const Pt=async e=>{const{screenshot:t}=e,i=await Ct("https://api.poki.io/screenshot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:t,p4d_game_id:F.gameID,p4d_version_id:F.versionID})},3e4);try{if(200===i.status){return"https://poki-user-content.com/"+(await i.json()).source}}catch{}return null},Bt=async()=>{const e=e=>!["VIDEO","TEXTAREA","SCRIPT","NOSCRIPT","INPUT","IFRAME"].includes(e.nodeName)&&(!("IMG"===e.nodeName&&!e.getAttribute("src"))&&!e.classList?.contains(lt)),t=document.body.style.minWidth,i=document.body.style.minHeight;document.body.style.minWidth="100%",document.body.style.minHeight="100%";let n=await ct(document.body,{filter:e,width:window.innerWidth,height:window.innerHeight,backgroundColor:"#fff"});if(n&&n.length<10){const t=document.body.style.position;document.body.style.position="fixed",n=await ct(document.body,{filter:e,width:window.innerWidth,height:window.innerHeight,backgroundColor:"#fff"}),document.body.style.position=t}return document.body.style.minWidth=t,document.body.style.minHeight=i,n},Tt=async(e=null)=>{let t=await Bt();if(t&&t.length>10){e&&(t=await(async(e,t)=>{const{title:i,thumbnail:n}=t,a=new Image;a.crossOrigin="Anonymous";const o=new Promise((e=>{a.onload=()=>e(a)}));a.src=e;const r=new Image;r.crossOrigin="Anonymous";const s=new Promise((e=>{r.onload=()=>e(r)}));r.src="https://a.poki-cdn.com/images/screenshot-frame.png";const d=new Image;d.crossOrigin="Anonymous";const c=new Promise((e=>{d.onload=()=>e(d)}));d.src=`https://img.poki-cdn.com/cdn-cgi/image/quality=78,width=128,height=128,fit=cover,f=auto/${n}`;const l=new FontFace("TorusBold","url(https://a.poki-cdn.com/fonts/torus-bold-latin.woff2)").load(),[p,A,m,u]=await Promise.all([o,s,c,l]),g=document.createElement("canvas");g.width=p.width,g.height=p.height;const h=g.getContext("2d");h.drawImage(p,0,0);const v=g.width/A.width,w=A.height*v,b=g.height-w;h.drawImage(A,0,b,g.width,w);const f=m.height*v;((e,t,i,n,a,o,r)=>{e.save(),e.beginPath();const s=i+a,d=n+o;e.moveTo(i+r,n),e.lineTo(s-r,n),e.quadraticCurveTo(s,n,s,n+r),e.lineTo(s,d-r),e.quadraticCurveTo(s,d,s-r,d),e.lineTo(i+r,d),e.quadraticCurveTo(i,d,i,d-r),e.lineTo(i,n+r),e.quadraticCurveTo(i,n,i+r,n),e.closePath(),e.clip(),e.drawImage(t,i,n,a,o),e.restore()})(h,m,64*v,b+20*v,f,f,24*v);const{fonts:y}=document;y.add(u);const k=226*v,x=b+68*v;return h.textAlign="left",h.textBaseline="top",h.fillStyle="#002b50",h.font=`700 ${56*v}px TorusBold,sans-serif`,h.fillText(i,k,x),g.toDataURL()})(t,e));return await Pt({screenshot:t})}return null};function Dt(){let e;try{e=performance.getEntriesByType("resource").map((e=>e.encodedBodySize)).reduce(((e,t)=>e+t)),e+=performance.getEntriesByType("navigation")[0].encodedBodySize}catch{}return e}const Mt=()=>"undefined"!=typeof navigator&&/(iPad|iPhone|iPod)/gi.test(navigator.userAgent),Lt="MacIntel"===window.navigator.platform&&void 0!==window.navigator.standalone&&navigator.maxTouchPoints>1,Ot=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);const Nt=M()||L()||Lt;let Rt=!1;const zt=new Image;zt.src="data:image/png;base64,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",zt.onload=()=>{Rt=!0};class Ut{image=null;ready=!1;drawSize=0;previousMouseDown=!1;#a=20;#o=60;#r=100;#s=40;#d=2;constructor(e){this.image=new Image,this.image.src=e,this.image.onload=()=>{this.ready=!0}}update(e){e&&!this.previousMouseDown&&(this.drawSize+=this.#a,this.drawSize=Math.min(Math.max(this.drawSize,this.#o),this.#r)),this.drawSize-=this.#d,this.drawSize=e?Math.max(this.drawSize,this.#s):Math.max(this.drawSize,0),this.previousMouseDown=e}draw(e,t,i){const n=this.drawSize/2,a=t-n,o=i-n;e.drawImage(this.image,0,0,this.image.width,this.image.height,a,o,this.drawSize,this.drawSize)}destroy(){this.image=null,this.ready=!1}}const jt=new Ut("data:image/png;base64,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"),Ft=new Ut("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADBSURBVHgBvdZdEcIwDAfwZAqQgAQs4AAHIAEHzAlSWgfMARZAQUjZ9rDbR5M22f+uzdaX30OvaREUIaIDlxuPVCMiRrAOIw+a5zngrsiYlwmWQWwwIVKHKZEyrBDRYZWIDDNCtjFjZBlzQsaEZCB/HLm+wTfnhqcT+OfawD75Jijy+IBvuv/M+3Qnv4QJyQst2Wf1LFli2e5ggYn7XQ2m7uAlWPGdpMGqb1kJZvZuaN2RDBakCIIi1Hf6y/DbaR6QP+1P5pe98AyNAAAAAElFTkSuQmCC");function Gt(e,t,i,n,a,o){if(!Rt||!o||!zt)return;const r=Math.max(n,a);if(function(e,t,i,n,a,o){[jt,Ft].forEach((r=>{if(!r.ready||!o)return;const s=r===jt?t:i;r.update(s);const d=e.x*n,c=e.y*a;r.draw(o,d,c)}))}(e,t,i,n,a,o),!Nt){const t=.5*r;o.drawImage(zt,0,0,zt.width,zt.height,e.x*n,e.y*a,zt.width*t,zt.height*t)}}const Ht="Game tab in background";let Vt=!0,qt=[],Kt=null,Qt=document.createElement("canvas"),Wt=null,$t=null,Zt=null,Xt=0,Yt=[],Jt=[],ei=[],ti=[],ii=24;(M()||L()||Lt)&&(ii=12),Qt.setAttribute("data-poki-no-playtest","true"),Qt.addEventListener("webglcontextlost",(()=>{console.info("%cPOKI_PLAYTEST:%c streamCanvas context lost","font-weight: bold",""),Qt=document.createElement("canvas"),Wt=null}));const ni={x:0,y:0};let ai=!1,oi=!1,ri=!1,si=!1,di="",ci=1,li=1,pi=-1,Ai=-1;function mi(e){if(null===Kt||!qt.length)return;const t=qt[0],i=t.width/Kt.width,n=t.height/Kt.height,a=(e.clientX-Kt.left)*i,o=(e.clientY-Kt.top)*n;ni.x=Math.max(0,Math.min(a,t.width)),ni.y=Math.max(0,Math.min(o,t.height))}const ui=e=>{qt.length&&Qt&&mi(e)},gi=e=>{qt.length&&Qt&&(0===e.button?(ai=!0,oi=!1):2===e.button?(ri=!0,si=!1):1===e.button&&(ai=!0,oi=!1,ri=!0,si=!1),mi(e))},hi=e=>{0===e.button?oi=!0:2===e.button?si=!0:1===e.button&&(oi=!0,si=!0)};function vi(){const e=di;e&&Qt&&Wt&&(Wt.fillStyle="rgba(255, 255, 255, 0.5)",Wt.fillRect(0,0,Qt.width,Qt.height),Wt.font="48px Arial",Wt.fillStyle="#009cff",Wt.textAlign="center",Wt.fillText(e,Qt.width/2,Qt.height/2))}function wi(e){if(!Qt||!qt.length)return;const t=qt[0],i=t.width,n=t.height;if(i===pi&&n===Ai&&!e)return;pi=i,Ai=n,Kt=t.getBoundingClientRect();let{width:a,height:o}=Kt;0!==a&&0!==o||(a=i,o=n);const r=M()||L(),s=Lt?1024:r?640:1280,d=Math.min(s/a,s/o,1);a=Math.round(a*d),o=Math.round(o*d),ci=a/i,li=o/n;e||Qt.width!==a||Qt.height!==o?(Qt.width=a,Qt.height=o,console.info(`%cPOKI_PLAYTEST:%c capturing at ${a}x${o} (${i}x${n})`,"font-weight: bold","")):console.info(`%cPOKI_PLAYTEST:%c resize but video unchanged ${a}x${o} (${i}x${n})`,"font-weight: bold","")}function bi(e){let t=null;for(let i=0;i<e.length;i++)if(!document.body.contains(e[i])){if(e[i].pokiHtmlDummyCanvas)continue;if(t||(t=document.getElementsByTagName("flt-glass-pane")),t){let n=!1;for(let a=0;a<t.length;a++)t[a].shadowRoot?.contains(e[i])&&(n=!0);if(n)continue}return!1}return!0}async function fi(e){if(Qt&&($t||($t=document.createElement("canvas"),0===qt.length?($t.width=Qt.width,$t.height=Qt.height):($t.width=qt[0].width,$t.height=qt[0].height),$t.addEventListener("contextlost",(()=>{$t=null,Zt=null}))),Zt||(Zt=$t.getContext("2d"),Zt)))try{performance.now();const t=await(async e=>{const t=["VIDEO","TEXTAREA","SCRIPT","NOSCRIPT","INPUT","IFRAME"];e||t.push("CANVAS");const i=e=>!(t.includes(e.nodeName)||"IMG"===e.nodeName&&!e.getAttribute("src")||e.classList?.contains(lt)||"true"===e.getAttribute?.("data-poki-playtest-skip")),n=document.body.style.minWidth,a=document.body.style.minHeight,o=document.body.style.backgroundColor;let r;document.body.style.minWidth="100%",document.body.style.minHeight="100%",e||(document.body.style.backgroundColor="transparent");try{r=await st(document.body,{filter:i,width:window.innerWidth,height:window.innerHeight})}catch(e){console.warn("%cPOKI:%c failed to generate svg","font-weight: bold","",e)}return document.body.style.minWidth=n,document.body.style.minHeight=a,document.body.style.backgroundColor=o,r})(e);if(t&&t.length>10){const e=await new Promise(((e,i)=>{const n=new Image;n.decode=()=>e(n),n.onload=()=>e(n),n.onerror=i,n.crossOrigin="anonymous",n.decoding="async",n.src=t}));requestAnimationFrame((()=>{$t&&Zt&&(Zt.clearRect(0,0,$t.width,$t.height),Zt.drawImage(e,0,0,e.width,e.height,0,0,$t.width,$t.height),Xt=0)}))}}catch(e){console.warn("%cPOKI_PLAYTEST:%c ui canvas error","font-weight: bold","",e.name,e.message,e.stack),Xt++,(zi.__playtestCaptureHTML===Oi||zi.__playtestCaptureHTML===Li)&&Xt>10&&(Vt=!0)}}function yi(e){di=e}async function ki(e){if(!Vt){qt=e;for(let e=0;e<Yt.length;e++)Yt[e].stop();for(let e=0;e<Jt.length;e++)Jt[e].readable.cancel();for(let e=0;e<ei.length;e++)ei[e].cancel();for(let e=0;e<ti.length;e++)ti[e].close();Yt=[],Jt=[],ei=[],ti=[];try{if(Ot)for(let e=0;e<qt.length;e++){if(qt[e].pokiHtmlDummyCanvas)continue;const t=qt[e].captureStream(ii).getVideoTracks()[0];Yt.push(t),ti.push(null);const i=new Blob(["self.onmessage=(async({data:{track:e}})=>{if(!e)return;const a=new MediaStreamTrackProcessor({track:e}).readable.getReader(),s=()=>{a.read().then(({done:e,value:a})=>{e?a.close():(postMessage(a),a.close(),s())})};s()});"],{type:"application/javascript"}),n=new Worker(URL.createObjectURL(i));n.onmessage=({data:t})=>{ti.length<=e||(null!==ti[e]&&ti[e].close(),ti[e]=t)};try{n.postMessage({track:t})}catch(e){console.warn("%cPOKI_PLAYTEST:%c worker error","font-weight: bold","",e),Vt=!0}}else for(let e=0;e<qt.length;e++){if(qt[e].pokiHtmlDummyCanvas)continue;const t=qt[e].captureStream(ii).getVideoTracks()[0],i=new window.MediaStreamTrackProcessor(t),n=i.readable.getReader();Yt.push(t),Jt.push(i),ei.push(n),ti.push(null);const a=()=>{n.read().then((({done:t,value:i})=>{t?Vt=!0:ti.length<=e?i.close():(null!==ti[e]&&ti[e].close(),ti[e]=i,a())}))};a()}wi(!0)}catch(e){console.warn("%cPOKI_PLAYTEST:%c setPlaytestSoureCanvasses error","font-weight: bold","",e),Vt=!0}}}function xi(){const{__playtestCanvas:e}=zi;if(e?.length&&bi(e))return e;if(zi.__playtestCaptureHTML===Li){const e=document.createElement("canvas");return e.width=window.innerWidth,e.height=window.innerHeight,e.setAttribute("data-poki-html-canvas","true"),e.pokiHtmlDummyCanvas=!0,[e]}let t=0,i=Array.from(document.getElementsByTagName("canvas"));if(0===i.length){const e=document.getElementsByTagName("flt-glass-pane");for(let t=0;t<e.length;t++){const{shadowRoot:n}=e[t];n&&(i=i.concat(Array.from(n.querySelectorAll("canvas"))))}}let n=[];if(i.forEach((e=>{if("true"===e.getAttribute("data-poki-no-playtest"))return;const i=getComputedStyle(e),{width:a,height:o}=i,r=parseInt(a,10)*parseInt(o,10);r>=t&&function(e){if(!e)return!1;let t=e,i=!0;for(;t&&t!==document.body;){const e=window.getComputedStyle(t);if("none"===e.display)return!1;if("hidden"===e.visibility)return!1;if(i&&(0===t.offsetWidth||0===t.offsetHeight))return!1;"absolute"===e.position&&(i=!1),t=t.parentElement}const n=e.getBoundingClientRect(),a=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth;return!(n.right<0||n.bottom<0||n.left>o||n.top>a)}(e)&&(r>t&&(n=[]),n.push({canvas:e,style:i,index:n.length}),t=r)})),0===n.length){if(zi.__playtestCaptureHTML===Oi){const e=document.createElement("canvas");return e.width=window.innerWidth,e.height=window.innerHeight,e.setAttribute("data-poki-html-canvas","true"),e.pokiHtmlDummyCanvas=!0,[e]}return[]}return n.sort(((e,t)=>{const i=parseInt(e.style.zIndex,10)||0,n=parseInt(t.style.zIndex,10)||0;return i<n?-1:i>n?1:e.index-t.index})),n.map((e=>e.canvas))}function _i(e,t){if(!Qt)return null;Vt=!1,ki(e),wi(!0);const i=Qt.captureStream(ii);let n;window.addEventListener("pointermove",ui,{capture:!0,passive:!0}),window.addEventListener("pointerdown",gi,{capture:!0,passive:!0}),window.addEventListener("pointerup",hi,{capture:!0,passive:!0}),window.addEventListener("contextmenu",hi,{capture:!0,passive:!0});let a,o=0,r=null;if(zi.__playtestCaptureHTML===Oi||zi.__playtestCaptureHTML===Li){let e=0;n=setInterval((()=>{if(!Qt)return;const t=!!qt[0].pokiHtmlDummyCanvas;!t||qt[0].width===window.innerWidth&&qt[0].height===window.innerHeight||(qt[0].width=window.innerWidth,qt[0].height=window.innerHeight);let i=!1;if(t&&document.getElementsByTagName("canvas").length>0&&(i=!0),!i){const t=function(e){const t=3&e.length,i=e.length-t,n=3432918353,a=461845907;let o=0,r=0,s=0;for(;s<i;)r=255&e.charCodeAt(s)|(255&e.charCodeAt(++s))<<8|(255&e.charCodeAt(++s))<<16|(255&e.charCodeAt(++s))<<24,++s,r=(65535&r)*n+(((r>>>16)*n&65535)<<16)&4294967295,r=r<<15|r>>>17,r=(65535&r)*a+(((r>>>16)*a&65535)<<16)&4294967295,o^=r,o=o<<13|o>>>19,o=5*o+3864292196&4294967295;switch(r=0,t){case 3:r^=(255&e.charCodeAt(s+2))<<16;case 2:r^=(255&e.charCodeAt(s+1))<<8;case 1:r^=255&e.charCodeAt(s),r=(65535&r)*n+(((r>>>16)*n&65535)<<16)&4294967295,r=r<<15|r>>>17,r=(65535&r)*a+(((r>>>16)*a&65535)<<16)&4294967295,o^=r}return o^=e.length,o^=o>>>16,o=2246822507*(65535&o)+((2246822507*(o>>>16)&65535)<<16)&4294967295,o^=o>>>13,o=3266489909*(65535&o)+((3266489909*(o>>>16)&65535)<<16)&4294967295,o^=o>>>16,o>>>0}(document.body.innerHTML);e!==t&&(e=t,i=!0)}i&&fi(t)}),1e3)}return a=setInterval((()=>{if(Vt||!Qt||!qt.length||o>10)return console.info("%cPOKI_PLAYTEST:%c","font-weight: bold","",Vt?"stopped":"crashed",Vt,!Qt,!qt.length,o),window.removeEventListener("pointermove",ui),window.removeEventListener("pointerdown",gi),window.removeEventListener("pointerup",hi),window.removeEventListener("contextmenu",hi),clearInterval(n),zi.__playtestCaptureHTML="",Qt=null,Wt=null,$t=null,Zt=null,ki([]),jt.destroy(),Ft.destroy(),clearInterval(a),r&&clearTimeout(r),void t();if(bi(qt)){if(!Wt&&(Wt=Qt.getContext("2d"),!Wt))return console.info("%cPOKI_PLAYTEST:%c streamCanvas context creation failed","font-weight: bold",""),void o++;o=0,wi(!1),zi.__playtestCaptureHTML===Mi?(zi.__playtestCaptureHTML="",fi(!1)):zi.__playtestCaptureHTML===Ni&&(zi.__playtestCaptureHTML="",$t=null,Zt=null),Wt.clearRect(0,0,Qt.width,Qt.height);for(let e=0;e<ti.length;e++){const t=ti[e];null!==t&&Wt.drawImage(t,0,0,t.displayWidth,t.displayHeight,0,0,Qt.width,Qt.height)}$t&&Wt.drawImage($t,0,0,$t.width,$t.height,0,0,Qt.width,Qt.height),Gt(ni,ai,ri,ci,li,Wt),ai&&oi&&(ai=!1,oi=!1),ri&&si&&(ri=!1,si=!1),vi()}else{console.info("%cPOKI_PLAYTEST:%c source canvasses not in DOM","font-weight: bold","");const e=xi();e.length?ki(e):(console.info("%cPOKI_PLAYTEST:%c no source canvasses found","font-weight: bold",""),o++)}}),1e3/ii),window.addEventListener("visibilitychange",(()=>{console.info("%cPOKI_PLAYTEST:%c visibility change","font-weight: bold","",document.visibilityState),r&&clearTimeout(r),"visible"===document.visibilityState?di===Ht&&(di=""):(di=Ht,vi(),r=setTimeout((()=>{Vt=!0}),6e4))})),window.addEventListener("resize",(()=>{console.info("%cPOKI_PLAYTEST:%c resize","font-weight: bold","",window.innerWidth,window.innerHeight)})),window.addEventListener("orientationchange",(e=>{console.info("%cPOKI_PLAYTEST:%c orientationchange","font-weight: bold","",e?.target?.screen?.orientation?.type)})),window.screen.orientation.addEventListener("change",(e=>{console.info("%cPOKI_PLAYTEST:%c orientation change","font-weight: bold","",e.target?.type)})),i}const Ii=new RegExp(`(${["WebView","(iPhone|iPod|iPad)(?!.*Safari)","Android.*(;\\s+wv|Version/\\d.\\d\\s+Chrome/\\d+(\\.0){3})","Linux; U; Android"].join("|")})`,"ig");function Si(){window.navigator.userAgent.match(Ii)&&!F.isPlayground&&document.addEventListener("touchmove",(e=>(e.preventDefault(),e.returnValue=!1,!1)),{passive:!1})}function Ei(){return`User_${Math.floor(9e8*Math.random())+1e8}`}function Ci(e,...t){console.info(`%cPOKI:%c ${e}`,"background-color: green; border-radius: 3px; color: white; padding: 1px 5px","",...t)}function Pi(e,...t){console.warn(`%cPOKI:%c ${e}`,"background-color: red; border-radius: 3px; color: white; padding: 1px 5px","",...t)}function Bi(e,...t){console.error(`%cPOKI:%c ${e}`,"background-color: red; border-radius: 3px; color: white; padding: 1px 5px","",...t)}class Ti{#c=null;#l(){if(!F.isPokiIframe)throw new Error("User accounts is not available")}getUser=async()=>H.debug?{username:"TestUser",avatarUrl:"https://a.poki-cdn.com/img/placeholder_gradient.png"}:(this.#l(),this.#c||(this.#c=await this.#p()),this.#c);getToken=async()=>H.debug?"dummy.jwt.token":(this.#l(),this.#A());login=async()=>{if(H.debug)return;this.#l();return await this.getUser()?void 0:new Promise(((t,i)=>{function n(t){t.data.type===e.accounts.authPanelClosed&&(window.removeEventListener("message",n),i(new Error("User closed the auth panel without signing in.")))}window?.top?.postMessage({type:e.accounts.openAuthPanel},"*"),window.addEventListener("message",n),setTimeout((()=>{window.removeEventListener("message",n),i(new Error("Login timeout. User took too long to complete the action."))}),45e3)}))};#p=async()=>{try{return new Promise((t=>{window?.top?.postMessage({type:e.accounts.getUserInfo},"*");const i=n=>{if(n.data.type===e.accounts.userInfo){window.removeEventListener("message",i);const{enabled:e,session:a}=n.data;if(!e||!a?.id)return void t(null);this.#c={username:Ei(),avatarUrl:"https://a.poki-cdn.com/img/placeholder_gradient.png"},t(this.#c)}};window.addEventListener("message",i),setTimeout((()=>{window.removeEventListener("message",i),t(null)}),8e3)}))}catch(e){Pi("failed to fetch user info:",e)}return null};#A=async()=>{try{return new Promise((t=>{window?.top?.postMessage({type:e.accounts.getUserToken},"*");const i=n=>{if(n.data.type===e.accounts.userToken){window.removeEventListener("message",i);const{token:e,error:a}=n.data;if(a)return Pi("failed to fetch user token:",a),void t(null);if(!e)return void t(null);t(e)}};window.addEventListener("message",i),setTimeout((()=>{window.removeEventListener("message",i),t(null)}),8e3)}))}catch(e){Pi("failed to fetch user token:",e)}return null}}var Di;const Mi="once",Li="force",Oi="on",Ni="off";class Ri{__monetization;__gameStarted=!1;#m=!1;#u;#g=new ue(.01);#h;#v=0;#w=0;#b=0;#f=0;#y=new Ti;#k=!1;static lastInteractionTime=0;static __playtestCanvas;static __playtestCaptureHTML="";static __godotVersion=void 0;constructor(e,t=!1){this.__monetization=e,this.#k=t,Si(),setInterval((()=>{this.#w=Math.max(this.#w-1,0)}),1e3)}init=(t={})=>{this.__logCall("init",t),window.addEventListener("pointerdown",this.#x),document.addEventListener("keydown",this.#x);const i=window;if(i.engine?.config?.onPrint){const e=i.engine.config.onPrint;i.engine.config.onPrint=(...t)=>{e(...t);const n=t[0]?.match(/Godot Engine (.+)/);n&&n[1]&&(Di.__godotVersion=n[1],i.engine.config.onPrint=e)}}return new Promise((i=>{this.__monetization.init({onReady:()=>{D("preroll")&&this.__monetization.forcePreroll(),i()},...t}),this.#_(),F.isInspector&&this.#I(),document.location.search.length<=1&&(G.sendMessage(e.message.sendInspectorBadBehavior,{data:{behavior:"rewrite_query_params"}}),G.sendMessage(e.message.sendInspectorEvent,{event:"bad-behavior",data:{behavior:"rewrite_query_params"}})),G.sendMessage(e.message.sdkDetails,{version:"48757bc75e90c8bef6d2184730d27afb603cb283"})}))};#_=()=>{window.addEventListener("message",(async t=>{if("pokiGenerateScreenshot"===t.data.type)(async t=>{const{hasFrame:i}=t;let n=null;if(i){const{title:e,thumbnail:i}=t;n=await Tt({title:e,thumbnail:i})}else n=await Tt();const a={screenshot:n,errors:X};t.callback&&(a.callback=t.callback),G.sendMessage(e.message.sendGameScreenshot,{data:a})})(t.data);else if("pokiGenerateRawScreenshot"===t.data.type)(async()=>{const t=await Bt();G.sendMessage(e.message.sendGameRawScreenshot,{data:{screenshot:t}})})();else if("pokiUploadScreenshot"===t.data.type){const i=await Pt(t.data);G.sendMessage(e.message.sendUploadScreenshot,{data:{screenshot:i}})}}),!1)};#I=()=>{if(window.addEventListener("message",(async t=>{if("pokiInspectorAllowCommercialBreak"===t.data.type&&(j("adOverrideMode",!0),j("houseAdsOnly",!0)),"pokiInspectorDisallowCommercialBreak"===t.data.type&&(j("adOverrideMode",!1),j("houseAdsOnly",!1)),"pokiInspectorRequestCookies"===t.data.type&&he().then((t=>{G.sendMessage(e.message.sendInspectorCookies,{data:{cookies:t}}),G.sendMessage(e.message.sendInspectorEvent,{event:"cookies",data:{cookies:t}})})),"pokiInspectorClearLocalStorage"===t.data.type)try{if(localStorage.clear(),indexedDB.databases){const e=await indexedDB.databases(),t=(await Promise.allSettled(e.filter((e=>"string"==typeof e.name)).map((e=>indexedDB.deleteDatabase(e.name))))).filter((e=>"rejected"===e.status));t.length>0&&Pi("PokiSDK: Some IndexedDB databases failed to delete",t)}document.cookie.split(";").forEach((e=>{const t=e.split("=")[0].trim();document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`})),G.sendMessage(e.message.sendInspectorEvent,{event:"localStorageCleared"})}catch(t){Pi("PokiSDK: Error clearing localStorage",t),G.sendMessage(e.message.sendInspectorEvent,{event:"localStorageClearError",data:{error:String(t)}})}}),!1),"desktop"!==F.device)try{const t=t=>{const i=console[t];console[t]=(...n)=>{G.sendMessage(e.message.sendInspectorConsole,{data:{level:t,args:Z(n)}}),G.sendMessage(e.message.sendInspectorEvent,{event:"console",data:{level:t,args:Z(n)}}),i.apply(console,n)}};t("log"),t("warn"),t("error")}catch{}};initWithVideoHB=()=>this.init();setDebug=(t=!0)=>{this.__logCall("setDebug",t);const{hostname:i}=window.location;i.endsWith("poki-gdn.com")?t&&pn.track(e.tracking.debugTrueInProduction):(H.debug=t,H.log=t??H.log,t?ce():de())};setLogging=e=>{this.__logCall("setLogging",e),H.log=e};#S=()=>this.#w>=10;gameLoadingFinished=()=>{this.__logCall("gameLoadingFinished"),clearInterval(window.pokiCancelProgressInterval),pn.track(e.tracking.screen.gameLoadingFinished,{transferSize:Dt(),trackers:W().join(","),error_session_id:ie,now:Math.round(window.performance?.now?.())||void 0});const t=window.pokiMeasureBuildin;window.PokiSDK.measure("game","loading","complete"),window.pokiMeasureBuildin=t};gameplayStart=t=>{if(this.__logCall("gameplayStart",t),this.#S())return void Pi("PokiSDK.gameplayStart() ignored because of too many events");this.#m=!0,this.__gameStarted||(this.__gameStarted=!0,pn.track(e.tracking.screen.firstRound),this.__monetization.startStartAdsAfterTimer());const i=this.#w;setTimeout((()=>{let n;performance.now()-Di.lastInteractionTime<5e3&&(n=this.#h),pn.track(e.tracking.screen.gameplayStart,{...t,fps:this.#g.stats(),badEvents:i,interaction:n})}),0),clearTimeout(this.#u),this.#u=setTimeout((()=>{window.addEventListener("pointermove",this.#E),document.addEventListener("keydown",this.#E)}),6e5),this.#v&&(this.#v>performance.now()-50&&this.#w++,this.#v=0)};gameplayStop=t=>{this.__logCall("gameplayStop",t),this.#S()?Pi("PokiSDK.gameplayStart() ignored because of too many events"):(this.#m=!1,pn.track(e.tracking.screen.gameplayStop,{...t,fps:this.#g.stats()}),clearTimeout(this.#u),window.removeEventListener("pointermove",this.#E),document.removeEventListener("keydown",this.#E),this.#v=performance.now())};customEvent=(t,i,n={})=>{this.__logCall("customEvent",t,i,n),t&&i?(t=String(t),i=String(i),n={...n},"game"===t&&"segment"===i&&n.segment||pn.track(e.tracking.custom,{eventNoun:t,eventVerb:i,eventData:n})):console.error("%cPOKI:%c PokiSDK.customEvent() needs at least a noun and a verb","font-weight: bold","")};commercialBreak=t=>new Promise((i=>{if(this.__logCall("commercialBreak",t),"977b60eb-ff81-4c3a-895b-b585410d6c0d"===F.gameID)return void i();if(this.#S())return Pi("PokiSDK.commercialBreak() ignored because of too many calls"),void i();const n=this.__gameStarted?e.ads.position.midroll:e.ads.position.preroll;let a=!1;this.__runVideoAd({amount:1,position:n,onStart:()=>{if(this.#b++,a=!0,window.pokiMeasureBuildin&&window.PokiSDK.measure("midroll",this.#b,"start"),"function"==typeof t)try{t()}catch(e){Pi("error in onStart callback of PokiSDK.commercialBreak()",e)}}}).then((()=>{a&&window.pokiMeasureBuildin&&window.PokiSDK.measure("midroll",this.#b,"complete"),i()}))}));rewardedBreak=t=>new Promise((i=>{if(this.__logCall("rewardedBreak",t),"977b60eb-ff81-4c3a-895b-b585410d6c0d"===F.gameID)return void i(!1);let n,a=1;if("function"==typeof t)n=t;else if("object"==typeof t){t.onStart&&(n=t.onStart);const e=t?.size||pe.SMALL;e===pe.SMALL?a=1:e===pe.MEDIUM?a=2:e===pe.LARGE&&(a=3)}let o=!1;setTimeout((()=>{this.__runVideoAd({position:e.ads.position.rewarded,amount:a,onStart:()=>{if(this.#f++,o=!0,window.pokiMeasureBuildin&&window.PokiSDK.measure("rewarded",this.#f,"start"),"function"==typeof n)try{n()}catch(e){Pi("error in onStart callback of PokiSDK.rewardedBreak()",e)}}}).then((e=>{o&&window.pokiMeasureBuildin&&window.PokiSDK.measure("rewarded",this.#f,"complete"),i(e)}))}),0)}));displayAd=(t,i,n,a)=>{if(this.__logCall("displayAd",t,i,n,a),"977b60eb-ff81-4c3a-895b-b585410d6c0d"===F.gameID)return void(n&&n());const o=le();pn.track(e.tracking.screen.displayAd,{size:i,opportunityId:o,duringGameplay:this.#m});const r={container:t,opportunityId:o,size:i,duringGameplay:this.#m,onCanDestroy:n,onDisplayRendered:a,headerBiddingAllowed:!0};this.__monetization.displayAd(r)};destroyAd=e=>{this.__logCall("destroyAd",e),this.__monetization.destroyAd(e)};isAdBlocked=()=>!1;muteAd=()=>{this.__logCall("muteAd"),this.__monetization.muteAd()};setVolume=e=>{this.__logCall("setVolume",e),this.__monetization.setVolume(e)};logError=e=>{this.captureError(e)};setPlaytestCanvas=e=>{this.__logCall("setPlaytestCanvas",e),this.playtestSetCanvas(e)};playtestSetCanvas=e=>{this.__logCall("playtestSetCanvas",e),e?(Di.__playtestCanvas=[].concat(e),ki(Di.__playtestCanvas)):Di.__playtestCanvas=[]};playtestCaptureHtmlOnce=()=>{this.__logCall("playtestCaptureHtmlOnce"),Di.__playtestCaptureHTML=Mi};playtestCaptureHtmlForce=()=>{this.__logCall("playtestCaptureHtmlForce"),Di.__playtestCaptureHTML=Li};playtestCaptureHtmlOn=()=>{this.__logCall("playtestCaptureHtmlOn"),Di.__playtestCaptureHTML=Oi};playtestCaptureHtmlOff=()=>{this.__logCall("playtestCaptureHtmlOff"),Di.__playtestCaptureHTML=Ni};getIsoLanguage=()=>D("iso_lang");shareableURL=(t={})=>new Promise(((i,n)=>{this.__logCall("shareableURL",t);const a=new URLSearchParams,o=Object.keys(t);if(F.isPokiIframe||F.isInspector){const n=D("poki_url");o.forEach((e=>{void 0!==t[e]&&null!==t[e]&&a.set(`gd${e}`,t[e])})),i(`${n}?${a.toString()}`),G.sendMessage(e.message.setPokiURLParams,{params:t})}else window.self===window.top?(o.forEach((e=>{void 0!==t[e]&&null!==t[e]&&a.set(`${e}`,t[e])})),i(`${window.location.origin}${window.location.pathname}?${a.toString()}`)):n(new Error("shareableURL only works on Poki or a top level frame"))}));getURLParam=e=>D(`gd${e}`)||D(e);captureError=e=>{this.__logCall("captureError",e),oe(e)};getLanguage=()=>navigator.language.toLowerCase().split("-")[0];generateScreenshot=async()=>(this.__logCall("generateScreenshot"),Tt());enableEventTracking=e=>{
  let cool = "e";
  this.__logCall("enableEventTracking",e),F.isPlayground||F.isPokiIframe||F.isInspector||cool.includes("e")||pn.setupObserverWithCMP(e||0)};__runVideoAd=({position:t,amount:i,onStart:n,timeBetweenAds:a})=>new Promise((o=>{let r=1;this.__monetization.setNrAds(r,i);const s=le(),d=n=>{setTimeout((()=>{if(n?.type===e.ads.limit||n?.type===e.ads.busy)return void o(!1);if(r===i||this.#k)return K.dispatchEvent(e.ads.startTimer,{overwriteTimeBetweenAds:a}),void o(!!n?.rewardAllowed);const c=K.getVideoDataAnnotations();if("poki"===c?.bidder)return K.dispatchEvent(e.ads.startTimer,{overwriteTimeBetweenAds:a}),void o(!0);r++,K.clearVideoDataAnnotations(),K.addVideoDataAnnotations({adBreakId:s,position:t,opportunityId:le(),currentAdNumber:r,totalAdAmount:i}),this.__monetization.setNrAds(r,i),this.__monetization.requestAd({position:t,onFinish:d})}),0)};K.clearVideoDataAnnotations(),K.addVideoDataAnnotations({adBreakId:s,position:t,opportunityId:le(),currentAdNumber:1,totalAdAmount:i}),this.__monetization.requestAd({position:t,onFinish:d,onStart:()=>{if(this.__monetization.setNrAds(r,i),"function"==typeof n)try{n()}catch(e){console.error("%cPOKI:%c error in onStart callback of PokiSDK.runVideoAd()","font-weight: bold","",e)}}})}));#E=()=>{window.removeEventListener("pointermove",this.#E),document.removeEventListener("keydown",this.#E),pn.track(e.tracking.screen.playerActive),this.#u=setTimeout((()=>{window.addEventListener("pointermove",this.#E),document.addEventListener("keydown",this.#E)}),6e5)};#x=e=>{"pointerdown"===e.type?this.#h="pointerdown":"keydown"===e.type?this.#h=`keydown-${e.code}`:this.#h="unknown",Di.lastInteractionTime=performance.now()};__logCall=(e,...t)=>{if(!F.isPlayground){for(let e=0;e<t.length;e++)void 0===t[e]&&(t[e]="");Ci(`PokiSDK.${e}(`,...t,")")}};setDebugTouchOverlayController=()=>{};gameInteractive=()=>{};gameLoadingProgress=()=>{};gameLoadingStart=()=>{};getLeaderboard=()=>Promise.resolve([]);happyTime=()=>{};sendHighscore=()=>{};setPlayerAge=()=>{};roundStart=()=>{};roundEnd=()=>{};getUser=async()=>this.#y.getUser();getToken=async()=>this.#y.getToken();login=async()=>this.#y.login()}Di=Ri;const zi=Ri;function Ui(){const e=document.getElementById("poki-playtest-popup-reject"),t=document.getElementById("poki-playtest-popup-resolve");e?.removeEventListener("pointerdown",Ui),t?.removeEventListener("pointerdown",Ui),document.getElementById("poki-playtest-popup-wrapper")?.remove(),document.getElementById("poki-playtest-template-markup")?.remove(),document.getElementById("poki-playtest-template-style")?.remove()}function ji(e){e.stopImmediatePropagation()}function Fi({gameTitle:e,rejectCallback:t,resolveCallback:i}){const n=document.body;!function(e){const t=document.createElement("template");t.innerHTML='\n\t<template id="poki-playtest-template-markup">\n\t\t<div class="poki-playtest-popup-scope-reset poki-playtest-popup-wrapper" id="poki-playtest-popup-wrapper">\n\t\t\t<div class="poki-playtest-popup-scope-reset poki-playtest-popup">\n\t\t\t\t<header class="poki-playtest-popup-scope-reset poki-playtest-popup__header">\n\t\t\t\t\t<img class="poki-playtest-popup-scope-reset poki-playtest-popup__header__img" width="36" height="36" src="https://a.poki-cdn.com/playtest/playtest-icon.svg" alt="Lab icon">\n\t\t\t\t\t<h2 class="poki-playtest-popup-scope-reset poki-playtest-popup__header__title">Hey there, adventurer</h2>\n\t\t\t\t</header>\n\n\t\t\t\t<div class="poki-playtest-popup-scope-reset poki-playtest-popup__content">\n\t\t\t\t\t<p>You found a mystery game and have been selected to test it out! When you join the playtest, we&apos;ll record your gameplay to see all the fun (and maybe some goofy) moments you encounter. This helps the developer figure out what rocks and what needs a little extra magic in their game. Don&apos;t worry, your gameplay recording will be deleted after 365 days.</p>\n\t\t\t\t\t<p>And hey, if you&apos;re not feeling it, no biggie - you can refuse the playtest and still play the game just like normal. For more information, please read our <a href="https://a.poki-cdn.com/playtest/2025.07.31_Poki_Playtest_Privacy_Statement.pdf" download="2025-07-31 Poki Playtest Privacy Statement.pdf" target="_blank">Privacy Statement Playtest</a>.</p>\n\t\t\t\t\t<h3>Do you consent to join the playtest of <span id="poki-playtest-popup-game-title">%GAME_TITLE%</span>?</h3>\n\t\t\t\t\t<p><small>Please note that this game has been uploaded independently by this game&apos;s developer and has not yet been verified by the Poki team. If you run into any trouble, contact us at <strong><a href="mailto:hello@poki.com">hello@poki.com</a></strong></small></p>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="poki-playtest-popup-scope-reset poki-playtest-popup__actions">\n\t\t\t\t\t<button type="button" id="poki-playtest-popup-reject" class="poki-playtest-popup-scope-reset poki-playtest-popup__button">No, thanks</button>\n\t\t\t\t\t<button type="button" id="poki-playtest-popup-resolve" class="poki-playtest-popup-scope-reset poki-playtest-popup__button">Yes, let\'s go</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template>\n',e.appendChild(t.content);const i=document.createElement("style");i.innerHTML='\n\t.poki-playtest-popup {\n\t\tall: unset;\n\n\t\t& *,\n\t\t& *::before,\n\t\t& *::after {\n\t\t\tbox-sizing: border-box;\n\t\t}\n\t}\n\n\t.poki-playtest-popup {\n\t\tborder-radius: 16px;\n\t\tbackground: #FFF;\n\t\tbox-shadow: 0px 60px 24px 0px rgba(93, 107, 132, 0.03), 0px 34px 20px 0px rgba(93, 107, 132, 0.09), 0px 15px 15px 0px rgba(93, 107, 132, 0.15), 0px 4px 8px 0px rgba(93, 107, 132, 0.18);\n\n\t\tdisplay: flex;\n\t\tmax-width: 480px;\n\t\tmin-width: 320px;\n\t\twidth: 100%;\n\t\tpadding: 8px 0 16px 0;\n\t\tflex-direction: column;\n\t\talign-items: flex-start;\n\t\tgap: 16px;\n\t\tcolor: #002B50;\n\n\t\tposition: fixed;\n\t\tz-index: 99999;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t}\n\n\t.poki-playtest-popup__header {\n\t\t\tdisplay: flex;\n\t\t\twidth: 100%;\n\t\t\tpadding: 8px 16px 16px;\n\t\t\talign-items: center;\n\t\t\tgap: 12px;\n\t\t\tborder-bottom: 2px solid #F0F5FC;\n\t}\n\n\t.poki-playtest-popup__header__img {\n\t\tall: unset;\n\t}\n\n\t.poki-playtest-popup__header__title {\n\t\tfont: 700 24px/1.16 Torus, sans-serif;\n\t\tmargin: 0;\n\t}\n\n\t.poki-playtest-popup__content {\n\t\tfont: 400 14px/1.57 "Proxima Nova", sans-serif;\n\t\tpadding: 0 16px;\n\n\t\ta {\n\t\t\tcolor: #0074E0;\n\t\t\tpointer-events: auto;\n\n\t\t\t&:hover {\n\t\t\t\tcolor: #009CFF;\n\t\t\t}\n\t\t}\n\n\t\tp {\n\t\t\tmargin: 8px 0 0;\n\n\t\t\t&:first-child {\n\t\t\t\tmargin-top: 0;\n\t\t\t}\n\n\t\t\tsmall {\n\t\t\t\tall: unset;\n\t\t\t}\n\n\t\t\t&:has(small) {\n\t\t\t\tcolor: #5D6B84;\n\t\t\t\tfont-size: 12px;\n\t\t\t\tline-height: 1.33;\n\t\t\t\tletter-spacing: 0.3px;\n\t\t\t}\n\t\t}\n\n\t\th3 {\n\t\t\tfont-weight: 700;\n\t\t\tfont-size: 16px;\n\t\t\tline-height: 1.5;\n\t\t\tmargin: 16px 0 14px;\n\t\t}\n\t}\n\n\t@media screen and (max-width: 640px) {\n\t\t.poki-playtest-popup {\n\t\t\tgap: 8px;\n\t\t\tpadding: 8px 0 12px 0;\n\t\t}\n\t\t.poki-playtest-popup__header {\n\t\t\tpadding: 0px 16px 0px;\n\t\t\talign-items: center;\n\t\t\tgap: 8px;\n\t\t}\n\t\t.poki-playtest-popup__content {\n\t\t\tfont-size: 12px;\n\t\t\tline-height: 1.33;\n\t\t}\n\t}\n\n\t.poki-playtest-popup__actions {\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\tpadding: 8px 16px 0;\n\t\tgap: 16px;\n\t\tjustify-content: center;\n\t}\n\n\t.poki-playtest-popup__button {\n\t\tdisplay: flex;\n\t\tpadding: 7px 24px 9px;\n\t\tborder: none;\n\t\tmargin: 0;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tflex: 1 0 0;\n\t\tborder-radius: 24px;\n\t\tbackground: #009CFF;\n\t\tcursor: pointer;\n\t\tpointer-events: auto;\n\n\t\tcolor: #FFF;\n\t\tfont: 700 16px/1.25 Torus, sans-serif;\n\n\t\t&:hover {\n\t\t\tbackground-color: #0074E0;\n\t\t}\n\t}\n\n\t.poki-playtest-popup-wrapper {\n\t\tall: unset;\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tbackground: #002B50AF;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tz-index: 99998;\n\t}\n\n\t.poki-playtest-popup-scope-reset {\n\t\tletter-spacing: normal;\n\t\ttext-align: left;\n\t\ttext-decoration: none;\n\t\ttext-indent: 0;\n\t\ttext-shadow: none;\n\t\ttext-transform: none;\n\t\twhite-space: normal;\n\t\tword-spacing: normal;\n\t}\n',i.id="poki-playtest-template-style",e.appendChild(i)}(n);const a=document.getElementById("poki-playtest-template-markup").content.cloneNode(!0);a.querySelector("#poki-playtest-popup-game-title").textContent=e,async function(){const e=new FontFace("ProximaNova","url(https://a.poki-cdn.com/fonts/proxima-nova-regular-latin.woff2)").load(),t=new FontFace("ProximaNova","url(https://a.poki-cdn.com/fonts/proxima-nova-bold-latin.woff2)",{weight:"bold"}).load(),i=new FontFace("Torus","url(https://a.poki-cdn.com/fonts/torus-bold-latin.woff2)").load(),[n,a,o]=await Promise.all([e,t,i]);document.fonts.add(n),document.fonts.add(a),document.fonts.add(o)}().then((()=>{n.appendChild(a),function({rejectCallback:e,resolveCallback:t}){const i=document.getElementById("poki-playtest-popup-reject"),n=document.getElementById("poki-playtest-popup-resolve");i?.addEventListener("pointerup",(()=>{setTimeout(Ui,10),e()})),n?.addEventListener("pointerup",(()=>{setTimeout(Ui,10),t()}));const a=document.getElementById("poki-playtest-popup-wrapper");a&&["pointerdown","pointerup","pointermove","click","mousedown","mouseup","mousemove","touchstart","touchend","touchmove","contextmenu","dragstart"].forEach((e=>a.addEventListener(e,ji)))}({rejectCallback:t,resolveCallback:i})}))}function Gi(e){const t=[];let i=0;for(let n=0;n<e.length;n++){if(i>0){i--;continue}const a=e[n];if("string"==typeof a)i=(a.match(/%c/g)||[]).length,t.push(a.replace(/%c/g,""));else try{t.push(String(a))}catch(e){t.push(`<${e.message}>`)}}return t.join(" ")}const Hi=window.requestAnimationFrame;function Vi(e){fetch("https://mystery-game-tile.poki.io/v0/metric",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}function qi(e){const t=Math.random().toString(36).substring(2);let i=null,n=0,a=0,o=0,r=[];const s=()=>{o++,Hi(s)};s(),setInterval((()=>{r.push(o),o=0}),1e3);const d=()=>{const i=on()>0,o=r;r=[],Vi({metrictest_id:e.metrictestID,play_id:t,started:i,duration:performance.now(),timed_out:!0,sdk_version:"48757bc75e90c8bef6d2184730d27afb603cb283",fpss:o,upvotes:n,downvotes:a})};window.addEventListener("beforeunload",d);const c=e=>{e.data&&"vote"===e.data.type&&(e.data.direction<0?a++:e.data.direction>0&&n++)};window.addEventListener("message",c);i=setInterval((()=>{const o=on()>0,s=Math.max(Yi,zi.lastInteractionTime),l=performance.now()-s>6e4,p=r;r=[],l&&(clearInterval(i),window.removeEventListener("beforeunload",d),window.removeEventListener("message",c)),Vi({metrictest_id:e.metrictestID,play_id:t,started:o,duration:s,timed_out:l,sdk_version:"48757bc75e90c8bef6d2184730d27afb603cb283",fpss:p,upvotes:n,downvotes:a})}),1e4)}let Ki=!1;try{"1"===localStorage.getItem("poki_pbf")?Ki=!0:F.isPlayground||"GB"===F.country||localStorage.setItem("poki_pbf","1")}catch{}let Qi=(e,t)=>{},Wi=[],$i=null,Zi=0,Xi=0,Yi=0;const Ji=[...Object.values(e.tracking.screen),e.tracking.ads.status.completed,e.tracking.ads.status.error,e.tracking.ads.status.limit,e.tracking.ads.video.progress],en={[e.tracking.screen.commercialBreak]:"commercialBreak",[e.tracking.screen.gameLoadingFinished]:"gameLoadingFinished",[e.tracking.screen.gameplayStart]:"gameplayStart",[e.tracking.screen.gameplayStop]:"gameplayStop",[e.tracking.screen.rewardedBreak]:"rewardedBreak"};let tn=[],nn=[];try{const e=e=>{const t=console[e];console[e]=(...i)=>{t.apply(console,i),nn&&nn.push({timeMs:performance.now(),level:e,message:Gi(i)})},tn.push((()=>{console[e]=t}))};F.gameID&&!F.isPlayground&&!F.isPokiExternal&&F.isPokiIframe&&(e("log"),e("info"),e("warn"),e("error"))}catch{}function an(){Wi=null,tn.forEach((e=>e())),tn=[],nn=null}function on(){return Xi}function rn(t,i){console.info("%cPOKI_PLAYTEST:%c start recording using codec","font-weight: bold","",i);const n=_i(t,(()=>{$i?.close(1e3,"Playtest recording stopped")}));n&&($i=new WebSocket("wss://playtest-recorder.poki.io/ws"),$i.addEventListener("error",(()=>{pn.track(e.tracking.playtest.error,{message:"websocket error"}),console.info("%cPOKI_PLAYTEST:%c error","font-weight: bold","")})),$i.addEventListener("open",(()=>{if(!$i)return;if($i.readyState===$i.OPEN){let e;try{const t=document.createElement("canvas"),i={powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1};let n=t.getContext("webgl2",i);if(n||(n=t.getContext("webgl",i),n||(n=t.getContext("experimental-webgl",i))),n){const t=n,i=t.getExtension("WEBGL_debug_renderer_info");i&&(e=t.getParameter(i.UNMASKED_RENDERER_WEBGL)),e||(e=t.getParameter(t.RENDERER))}}catch{}const i=JSON.stringify({type:"save",game_id:F.gameID,version_id:F.versionID,webgl_renderer:e,sdk_version:"48757bc75e90c8bef6d2184730d27afb603cb283",cpus:navigator.hardwareConcurrency,device_pixel_ratio:window.devicePixelRatio||1,canvasses:t.length});$i.send(i),console.info("%cPOKI_PLAYTEST:%c websocket open","font-weight: bold","",i)}const a=new MediaRecorder(n,{mimeType:i,videoBitsPerSecond:5e5}),o=performance.now(),r=e=>Math.round((e||performance.now())-o);a.addEventListener("stop",(()=>{console.info("%cPOKI_PLAYTEST:%c recording stopped","font-weight: bold","")})),a.addEventListener("error",(e=>{console.warn("%cPOKI_PLAYTEST:%c","font-weight: bold","",e.error)})),a.addEventListener("dataavailable",(e=>{e.data.size>0&&$i&&$i.readyState===$i.OPEN&&$i.send(e.data)})),a.start(250);const s={};let d=!1;document.addEventListener("keydown",(e=>{s[e.code]||(s[e.code]=!0,d=!0)})),document.addEventListener("keyup",(e=>{s[e.code]&&(s[e.code]=!1,d=!0)}));const c=setInterval((()=>{const e=Object.keys(s);d&&e.length>0&&$i&&$i.readyState===$i.OPEN&&$i.send(JSON.stringify({type:"keyboard",offset:r(),keys:s})),d=!1,e.forEach((e=>{s[e]||delete s[e]}))}),50);Qi=(e,t)=>{if(!$i||$i.readyState!==$i.OPEN)return;$i.send(Z({type:"sdk-event",offset:r(t),event:e}));const i=en[e];i&&$i.send(Z({type:"console",offset:r(t),level:"log",message:`PokiSDK.${i}()`}))},null!==Wi&&(Wi.forEach((e=>{Qi(e.event,e.timeMs)})),Wi=null),ne=e=>{$i&&$i.readyState===$i.OPEN&&$i.send(JSON.stringify({type:"error",offset:r(),error:e}))},tn.forEach((e=>e())),tn=[];try{const e=e=>{const t=console[e];console[e]=(...i)=>{t.apply(console,i),$i&&$i.readyState===$i.OPEN&&$i.send(JSON.stringify({type:"console",offset:r(),level:e,message:Gi(i)}))},tn.push((()=>{console[e]=t}))};e("log"),e("info"),e("warn"),e("error")}catch{}nn&&(nn.forEach((e=>{$i&&$i.readyState===$i.OPEN&&$i.send(JSON.stringify({type:"console",offset:r(e.timeMs),level:e.level,message:e.message}))})),nn=null),zi.__playtestCaptureHTML===Li&&$i.send(JSON.stringify({type:"console",offset:r(),level:"log",message:"No canvas found, using HTML capture"}));const l=({position:t})=>{if(!$i||$i.readyState!==$i.OPEN)return;let i=e.tracking.screen.commercialBreak,n="Commercial Break";t===e.ads.position.rewarded&&(i=e.tracking.screen.rewardedBreak,n="Rewarded Break"),yi(n),$i.send(JSON.stringify({type:"sdk-event",offset:r(),event:i}))};K.addEventListener(e.playtest.startVideo,l);const p=()=>{yi("")};K.addEventListener(e.playtest.stopVideo,p);const A=new ue(1),m=setInterval((()=>{$i&&$i.readyState===$i.OPEN&&$i.send(JSON.stringify({type:"fps",offset:r(),stats:A.stats()}))}),1e3);$i.addEventListener("close",(t=>{console.info("%cPOKI_PLAYTEST:%c websocket closed","font-weight: bold","",t),Qi=()=>{},K.removeEventListener(e.playtest.startVideo,l),K.removeEventListener(e.playtest.stopVideo,p),clearInterval(c),clearInterval(m),a.stop(),Vt=!0,$i=null,an(),pn.track(e.tracking.playtest.closed,{reason:`${t.reason}:${t.code}:${t.wasClean}`})}))})))}function sn(t){const i=function(e){if("1"===D("playtest"))return!0;if(!F.country)return!1;if(!F.isPokiIframe)return!1;if(!e.playtestRecord)return!1;if(e.playtestVersion&&e.playtestVersion!==F.versionID)return!1;if(e.playtestNewUser&&Ki)return!1;const t=M()||L()||Lt;if("desktop"===e.playtestDeviceCategory&&t)return!1;if("mobile"===e.playtestDeviceCategory&&!t)return!1;if(["GB","NL","CA"].includes(F.country))return!1;const i=navigator;if(i.connection&&i.connection.effectiveType&&"4g"!==i.connection.effectiveType)return!1;if(i?.hardwareConcurrency<8)return!1;if(!document.createElement("canvas").getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))return!1;if(Ot){const e=i.userAgent.match(/Version\/([\d]+)/);if(!e||parseInt(e[1],10)<18)return!1}else if(void 0===window.MediaStreamTrackProcessor)return!1;return!0}(t),n=function(){if(void 0===window.MediaRecorder)return;let e='video/webm;codecs="vp9"';return(Mt()||Lt||Ot)&&(e='video/mp4;codecs="avc1.42000d"'),MediaRecorder.isTypeSupported(e)?e:void 0}(),a="1"===D("playerfittest");if(!i||!n||a)return(a||t.metrictestID&&F.isPokiIframe)&&qi(t),void an();var o;pn.track(e.tracking.playtest.showModal,{show:!0}),console.info("%cPOKI_PLAYTEST:%c init","font-weight: bold","",n),(o=t?.gameTitle||"this game",new Promise(((e,t)=>{console.info("%cPOKI_PLAYTEST:%c showing consent screen","font-weight: bold",""),Fi({rejectCallback:t,resolveCallback:e,gameTitle:o})}))).then((()=>{pn.track(e.tracking.playtest.accepted);const t=performance.now()+6e4;let i=0,a=performance.now();const o=setInterval((()=>{const r=performance.now();if(!function(){const e=window;return!!(e.pc&&(e.pc.app||e.pc.AppBase)||e.c3_runtimeInterface||e._dmJSDeviceShared||e.g_WebAudioContext||e.unityGame)}()){const t=Dt()||0;t!==i&&(i=t,a=r),(Zi&&r-Zi>1e4||r-a>1e4)&&(pn.track(e.tracking.playtest.noCanvas),console.info("%cPOKI_PLAYTEST:%c no canvas found, switch to HTML capture","font-weight: bold",""),zi.__playtestCaptureHTML=Li)}const s=xi();if(s.length){clearInterval(o),pn.track(e.tracking.playtest.starting);try{rn(s,n)}catch{}}r>t&&(pn.track(e.tracking.playtest.notLoaded),clearInterval(o),console.info("%cPOKI_PLAYTEST:%c no gameLoadingFinished within 2 minutes","font-weight: bold",""),an())}),1e3)})).catch((t=>{pn.track(e.tracking.playtest.rejected),console.info("%cPOKI_PLAYTEST:%c rejected","font-weight: bold","",t),an()}))}const dn=(e,t=!1)=>new Promise(((i,n)=>{const a=document.createElement("script");a.type=t?"module":"text/javascript",a.async=!0,a.src=e;const o=()=>{a.readyState&&"loaded"!==a.readyState&&"complete"!==a.readyState||(i(),a.onload=null,a.onreadystatechange=null)};a.onload=o,a.onreadystatechange=o,a.onerror=n,document.head.appendChild(a)})),cn=q(e.tracking),ln=window;class pn{static logToObserver=!1;static cmpRequired=void 0;static cmpIndex=void 0;static eventQueue=[];static track(t,i={}){try{let n={...i};if(-1===cn.indexOf(t))throw new TypeError(`Invalid 'event', must be one of ${cn.join(", ")}`);if("object"!=typeof n)throw new TypeError("Invalid data, must be an object");const a=K.getVideoDataAnnotations();if(a?.pokiAdServer)switch(t){case e.tracking.ads.status.started:{const{creativeId:e}=a;K.addVideoDataAnnotations({houseAdId:e}),n.houseAdId=e;break}case e.tracking.ads.status.impression:{const e=n?.creativeId;Q({...n,event:"video-impression",creativeId:e}),K.addVideoDataAnnotations({houseAdId:e}),n.houseAdId=e;break}case e.tracking.ads.video.error:Q({...n,event:"video-error",errorCode:n?.errorCode});break;case e.tracking.ads.video.loaderError:Q({...n,event:"video-adsloader-error",errorCode:n?.errorCode});break;case e.tracking.ads.status.completed:Q({...n,event:"video-complete"})}if(t.includes("pokiTrackingRewardedWeb")&&(n=a),H.log){if("test"===window?.process?.env?.NODE_ENV)return;Object.keys(n).length?console.info(`%cPOKI_TRACKER:%c Tracked event '${t}' with data:`,"font-weight: bold","",n):console.info(`%cPOKI_TRACKER:%c Tracked event '${t}'`,"font-weight: bold","")}if(function(t){if(Yi=performance.now(),t.event===e.tracking.screen.gameLoadingFinished?Zi=performance.now():t.event===e.tracking.screen.gameplayStart&&(Xi=performance.now()),Ji.includes(t.event))try{Qi(t.event),null!==Wi&&Wi.push({event:t.event,timeMs:performance.now()})}catch(e){console.warn("%cPOKI_PLAYTEST:%c","font-weight: bold","",e)}}({event:t,data:n}),G.sendMessage(e.message.event,{event:t,data:n}),!(F.isPokiIframe||F.isInspector||F.isPlayground||F.isPokiExternal)){const i="sdk",a="message",o={content:{event:t,data:n,pokifordevs:{game_id:F.gameID,game_version_id:void 0}},type:e.message.event};pn.logToObserver?pn.pushEvent(i,a,o):(pn.eventQueue.push([i,a,o]),pn.eventQueue.length>100&&pn.eventQueue.shift())}}catch(e){Bi("error while tracking event",e)}}static setupDefaultEvents(){const t={[e.ready]:e.tracking.sdk.status.initialized,[e.failed]:e.tracking.sdk.status.failed,[e.ads.busy]:e.tracking.ads.status.busy,[e.ads.completed]:e.tracking.ads.status.completed,[e.ads.error]:e.tracking.ads.status.error,[e.ads.impression]:e.tracking.ads.status.impression,[e.ads.limit]:e.tracking.ads.status.limit,[e.ads.ready]:e.tracking.ads.status.ready,[e.ads.requested]:e.tracking.ads.status.requested,[e.ads.prebidRequested]:e.tracking.ads.status.prebidRequested,[e.ads.skipped]:e.tracking.ads.status.skipped,[e.ads.started]:e.tracking.ads.status.started,[e.ads.video.clicked]:e.tracking.ads.video.clicked,[e.ads.video.error]:e.tracking.ads.video.error,[e.ads.video.loaderError]:e.tracking.ads.video.loaderError,[e.ads.video.buffering]:e.tracking.ads.status.buffering,[e.ads.video.progress]:e.tracking.ads.video.progress,[e.ads.video.paused]:e.tracking.ads.video.paused,[e.ads.video.resumed]:e.tracking.ads.video.resumed,[e.ads.extendedVideoError]:e.tracking.ads.video.extendedVideoError};Object.keys(t).forEach((e=>{K.addEventListener(e,(i=>{pn.track(t[e],i)}))}))}static pushEvent(e,t,i){ln.pokiGTM.push({event:`${e}-${t}`,eventNoun:e,eventVerb:t,eventData:i||{}})}static setRequireConsent(e){pn.cmpRequired=e,pn.setupObserverIfCMP()}static setupObserverWithCMP(e){pn.cmpIndex=e,pn.setupObserverIfCMP()}static setupObserverIfCMP(){if(void 0!==pn.cmpRequired&&void 0!==pn.cmpIndex)if(pn.cmpRequired){if(!window.__tcfapi)return void console.error("%cPOKI:%c PokiSDK.enableEventTracking() was called but no CMP is present.","font-weight: bold","");window.__tcfapi("addEventListener",2,((e,t)=>{!t||"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||(window.__tcfapi("getNonIABVendorConsents",2,(e=>{e&&e.nonIabVendorConsents&&e.nonIabVendorConsents[pn.cmpIndex||0]&&pn.setupObserver()})),window.__tcfapi("removeEventListener",2,(()=>{}),e.listenerId))}))}else pn.setupObserver()}static setupObserver(){for(ln._pokiSessionGlobalName="pokiSession",ln._pokiUserGlobalName="pokiUser",ln._pokiContextGlobalName="pokiContext",ln._pokiTrackerGlobalName="pokiTracker",C(window.location.pathname,"external",F.contentGameID),function(){var e,t,i,r,A=null===(e=window[window._pokiUserGlobalName])||void 0===e?void 0:e.id,m=(null===(t=window[window._pokiUserGlobalName])||void 0===t?void 0:t.is_new)||!1,u=(null===(i=window[window._pokiUserGlobalName])||void 0===i?void 0:i.version)||0,g=(null===(r=window[window._pokiUserGlobalName])||void 0===r?void 0:r.ttl)||p;A||(A=n(s),m="1"===n(d),u=parseInt(n(c),10)||0,g=parseInt(n(l),10)||g),A&&function(e){if(!/^[A-Za-z0-9-_]+$/.test(e))return!1;try{return 16===atob(e.replace(/-/g,"+").replace(/_/g,"/")).length}catch(e){return!1}}(A)||(A=o(),m=!0,u=1,g=p),a(s,A,g),a(d,m?"1":"0",g),a(c,u,g),a(l,g,g),window[window._pokiUserGlobalName]={id:A,is_new:m,version:u,ttl:g}}(),ln[ln._pokiSessionGlobalName].referrer=F.referrerParam,ln[ln._pokiContextGlobalName]={tag:null,site:{id:null,domain:window.location.hostname,prefix:""},page:{id:F.contentGameID,type:"external",path:window.location.pathname,pageview_id:o()},user:ln[ln._pokiUserGlobalName],session:ln[ln._pokiSessionGlobalName]},ln.pokiGTM=ln.pokiGTM||[],dn("https://a.poki-cdn.com/t2.js"),pn.logToObserver=!0;pn.eventQueue.length;){const[e,t,i]=pn.eventQueue.shift();pn.pushEvent(e,t,i)}}}i(721);function An(e){if(!document.body||!document.body.appendChild)return void document.addEventListener("DOMContentLoaded",(()=>{An(e)}));const t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t),t.contentWindow&&(t.contentWindow.document.open(),t.contentWindow.document.write(`<script>${e}<\/script>`),t.contentWindow.document.close())}function mn(){An("\nwindow.addEventListener('storage', function(event) {\n\ttry {\n\t\tconst key = event.key;\n\n\t\t// key is null when localStorage.clear() is called.\n\t\tif (key === null) {\n\t\t\twindow.top.postMessage({\n\t\t\t\ttype: 'mutateSaveGame',\n\t\t\t\tcontent: {\n\t\t\t\t\taction: 'clear',\n\t\t\t\t},\n\t\t\t}, '*');\n\t\t\treturn;\n\t\t}\n\n\t\t// newValue is null when localStorage.removeItem() is called.\n\t\tif (event.newValue === null) {\n\t\t\twindow.top.postMessage({\n\t\t\t\ttype: 'mutateSaveGame',\n\t\t\t\tcontent: {\n\t\t\t\t\taction: 'delete',\n\t\t\t\t\tkey,\n\t\t\t\t},\n\t\t\t}, '*');\n\t\t} else {\n\t\t\twindow.top.postMessage({\n\t\t\t\ttype: 'mutateSaveGame',\n\t\t\t\tcontent: {\n\t\t\t\t\taction: 'set',\n\t\t\t\t\tkey,\n\t\t\t\t\tvalue: event.newValue,\n\t\t\t\t},\n\t\t\t}, '*');\n\t\t}\n\t} catch { }\n});\n")}const un=()=>{F.isPokiIframe&&(setTimeout(ve.trackSavegames,1e4),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&mn())};let gn,hn,vn=!1,wn=!1,bn=0;const fn=()=>{bn++,gn=setTimeout(fn,100*bn),window.__tcfapi&&window.__tcfapi("ping",2,((e,t)=>{t&&e?.cmpLoaded&&(vn=!0,clearTimeout(gn))}))},yn=()=>{bn++,hn=setTimeout(yn,100*bn),window.__uspapi&&window.__uspapi("uspPing",1,(()=>{wn=!0,clearInterval(hn)}))},kn=()=>{F.gdprApplies?(!function(){if(window.__tcfapi||F.isPlayground||F.familyFriendly)return;const e=window.top,t={};let i=!1;const n=[];window.__tcfapi=(a,o,r,s)=>{if(!i)return n.push([a,o,r,s]),!0;const d=`${Math.random()}`,c={__tcfapiCall:{command:a,parameter:s,version:o,callId:d}};return t[d]=r,e.postMessage(c,"*"),!0},window.addEventListener("message",(function(e){let i={};try{i="string"==typeof e.data?JSON.parse(e.data):e.data}catch{}const n=i.__tcfapiReturn;n&&"function"==typeof t[n.callId]&&(t[n.callId](n.returnValue,n.success),delete t[n.callId])}),!1);const a=`${Math.random()}`;let o=null;t[a]=(e,t)=>{i||t&&(i=!0,clearInterval(o),n.forEach((e=>{window.__tcfapi(...e)})),n.length=0)},o=setInterval((()=>{e.postMessage({__tcfapiCall:{command:"ping",version:2,callId:a}},"*")}),500),setTimeout((()=>{clearInterval(o)}),1e4)}(),pn.setRequireConsent(!0),fn(),setTimeout((()=>{vn||F.isPlayground||F.isPokiIframe||console.warn("%cPOKI:%c GDPC - No __tcfapi callback after 2s, verify implementation!","font-weight: bold","")}),2e3)):pn.setRequireConsent(!1),F.ccpaApplies&&(!function(){if(window.__uspapi||F.isPlayground||F.familyFriendly)return;const e=window.top,t={};window.__uspapi=(i,n,a)=>{const o=`${Math.random()}`,r={__uspapiCall:{command:i,version:n,callId:o}};t[o]=a,e.postMessage(r,"*")},window.addEventListener("message",(function(e){const i=e&&e.data&&e.data.__uspapiReturn;i&&i.callId&&"function"==typeof t[i.callId]&&(t[i.callId](i.returnValue,i.success),t[i.callId]=null)}),!1)}(),yn(),setTimeout((()=>{wn||F.isPlayground||F.isPokiIframe||console.warn("%cPOKI:%c USPrivacy - No __uspapi callback after 2s, verify implementation!","font-weight: bold","")}),2e3))},xn=()=>F.gdprApplies&&!vn&&!H.debug&&!F.familyFriendly,_n=()=>F.ccpaApplies&&!wn&&!H.debug&&!F.familyFriendly,In={adTagUrl:"//pubads.g.doubleclick.net/gampad/ads?sz=640x360|640x480&iu=/1053551/Pub-Poki-Generic&ciu_szs&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url={url}&description_url={descriptionUrl}&correlator={timestamp}&nofb=1",adTiming:{preroll:!1,timeBetweenAds:12e4,timePerTry:7e3,startAdsAfter:12e4},waterfallRetries:2};class Sn{#C;#P;constructor(t={}){this.setTimings(t),this.#P={timePerTry:void 0,timeBetweenAds:void 0,startAdsAfter:void 0},t?.fake||K.addEventListener(e.ads.startTimer,this.startTimeBetweenAdsTimer.bind(this))}setTimings(e){const t=In.adTiming,{preroll:i=t.preroll,timePerTry:n=t.timePerTry,timeBetweenAds:a=t.timeBetweenAds,startAdsAfter:o=t.startAdsAfter}=e;this.#C={preroll:!1!==i,timePerTry:n,timeBetweenAds:a,startAdsAfter:o}}resetAll(){this.stopTimer("timePerTry"),this.stopTimer("timeBetweenAds"),this.stopTimer("startAdsAfter")}startTimeBetweenAdsTimer(e){e?.overwriteTimeBetweenAds?this.startTimer("timeBetweenAds",(()=>{}),e.overwriteTimeBetweenAds):this.startTimer("timeBetweenAds")}startStartAdsAfterTimer(){this.startTimer("startAdsAfter")}requestPossible(){return!this.#P.timeBetweenAds&&!this.#P.startAdsAfter}startWaterfallTimer(e){this.startTimer("timePerTry",e)}stopWaterfallTimer(){this.stopTimer("timePerTry")}stopTimer(e){this.#P[e]&&(clearTimeout(this.#P[e]),this.#P[e]=void 0)}startTimer(e,t=()=>{},i){const n=i||this.#C[e];n<=0?t():(this.#P[e]&&clearTimeout(this.#P[e]),this.#P[e]=window.setTimeout((()=>{this.stopTimer(e),t()}),n))}prerollPossible(){return this.#C.preroll}}const En=()=>{const e=new URL(window.location.href);e.hash="";const t=[];return e.searchParams.forEach(((e,i)=>t.push(i))),t.forEach((t=>{e.searchParams.delete(t)})),e.toString()},Cn=e=>{let t="";return Object.keys(e).forEach((i=>{if(Object.prototype.hasOwnProperty.call(e,i)){let n=e[i];Array.isArray(n)&&(n=n.join()),t+=`${i}=${n}&`}})),t=encodeURIComponent(t),`&cust_params=${t}`};const Pn={v_k0treo:2.5,v_qr1wxs:7.5,v_9diccg:19,v_13q0xkw:.25,v_dn33ls:1,v_z07u2o:1.5,v_1400iyo:2.25,v_9w8kxs:3,v_ufej9c:3.5,v_10960ao:4.25,v_1ksbym8:4.75,v_1ag9340:5.25,v_1tbhh4w:5.75,v_jjcgzk:6.5,v_brnu9s:7,v_1wscef4:7.75,v_q22xhc:8.5,v_f8irk0:9,v_1rik45c:9.75,v_lxhyww:10.5,v_a9z0u8:11,v_1yhiww0:11.75,v_10mwg74:12.25,v_1ji4u80:12.75,v_wm2c5c:13.5,v_2na6tc:14,v_1myzri8:14.75,v_3pzm68:6,v_16kerr4:6.25,v_1mdrmkg:6.75,v_1ga0k5c:7.25,v_5iwz5s:8,v_12tk934:8.25,v_1hsybr4:8.75,v_1cj61hc:9.25,v_y3r5kw:9.5,v_94ow0:10,v_15woqgw:10.25,v_1orx4hs:10.75,v_1d4e6f4:11.25,v_t57ev4:11.5,v_783hmo:12,v_m7hkao:12.5,v_hmo9hc:13,v_19djnr4:13.25,v_1twpm2o:13.75,v_17zlou8:14.25,v_ign1mo:14.5,v_ccvz7k:15,v_1f7b4sg:15.25,v_snq4g0:15.5,v_5wnf28:16,v_137aozk:16.25,v_1j0njsw:16.75,v_1b8yx34:17.25,v_yhhlhc:17.5,v_25swe8:18,v_15081z4:18.25,v_1pje0ao:18.75,v_1eptudc:19.25,v_1xl28e8:19.75,v_gfliio:21,v_3y3sao:22,v_ixhuyo:22.5,v_ro52io:23.5,v_qa73ls:24.5,v_emo5j4:25,v_yq5fk:26,v_aobxts:27,v_6shmgw:28,v_natgqo:28.5,v_x0f94w:29.5,v_d2hfr4:31,v_dch14w:33,v_1jyadc:34,v_8p5tz4:36,v_fwv9xc:37,v_c60r9c:39,v_58awow:40,v_bbcow:42,v_a0x534:43,v_hdmdq8:45,v_2e8b28:46,v_5nljb4:48,v_1wr0n4:50,v_pam1og:.5,v_1ipf08w:.75,v_1axqdj4:1.25,v_1qr38cg:1.75,v_15ldds:2,v_1q248w0:2.75,v_1eelatc:3.25,v_1x9tou8:3.75,v_8iam0w:4,v_nhooow:4.5,v_fq01z4:5,v_w0u77k:5.5,v_1vi5a0w:15.75,v_orvt34:16.5,v_dybn5s:17,v_1q8czr4:17.75,v_l11af4:18.5,v_uqn2tc:19.5,v_7zkdfk:20,v_o7a58g:20.5,v_vezl6o:21.5,v_b5t88w:23,v_4x2d4w:24,v_xhwjk0:25.5,v_lhw3r4:26.5,v_tjkbuo:27.5,v_h72ebk:29,v_31n3sw:30,v_64rl6o:32,v_9lmigw:35,v_3fdjpc:38,v_fapfcw:41,v_7o0lc0:44,v_clbdvk:47,v_ee8qv4:49},Bn={"11s3rwg":2.49,"1uhxr0g":2.87,qr1wxs:7.5,"15xxon4":.01,o6no5c:.02,fb0nwg:.04,"1etkow0":.05,x2aoe8:.06,"1wkupds":.07,"11i46io":.09,jqu60w:.1,"1j9e70g":.11,"1adr6rk":.13,smh69s:.14,"1s5179c":.15,"8naeps":.16,qekf7k:.18,"1px4g74":.19,hixeyo:.2,za7fgg:.22,"1ysrgg0":.23,lyqx34:.26,"16hwveo":1.13,"1fdjvnk":1.17,"2jjcao":1.2,"1jtdds0":1.23,t6gd1c:1.26,"65e29s":1.28,"1nf83r4":1.31,wsb30g:1.34,jgukn4:1.38,al7ke8:1.4,"1a3rlds":1.41,"8datc0":1.44,"1pn4utc":1.47,z07u2o:1.5,"13g1c74":1.53,ct4bgg:1.56,ukeby8:1.58,mspp8g:1.62,"1dfmpz4":1.65,lm6m8:1.68,icw740:1.7,"18zt7uo":1.73,"79cfsw":1.76,"1oj6ha8":1.79,"1xethj4":1.83,"12c2yo0":1.85,bp5xxc:1.88,"1syzzeo":1.91,ncow00:1.94,"1dzlwqo":1.97,"15ldds":2,"10o5edc":2.009999,a18dmo:2.04,"1rb2f40":2.069999,pkln28:2.1,"1g7insw":2.13,"12w25fk":2.17,c954ow:2.2,"1brp5og":2.21,"1400iyo":2.25,v4dips:2.3,hsx0cg:2.34,"18fu134":2.37,"167xa0w":2.41,"1f3ka9s":2.45,"1d5n4lc":1.01,"1uwx534":1.03,bml8g:1.04,i2wlq8:1.06,"979lhc":1.08,"18ptmgw":1.09,"1qh3myo":1.11,"6zcuf4":1.12,oqmuww:1.14,fuzuo0:1.16,xm9v5s:1.18,"1x4tw5c":1.19,"1223da8":1.21,katcsg:1.22,bf6cjk:1.24,"1axqdj4":1.25,"1sp0e0w":1.27,"15ny39c":1.29,nwo2rk:1.3,f112io:1.32,"1ejl3i8":1.33,"1pkk5c":1.36,"1184l4w":1.37,"1izelmo":1.39,schkw0:1.42,"1rv1lvk":1.43,"17vuubk":1.45,q4ktts:1.46,h8xtkw:1.48,"1yirv28":1.51,"3xhb7k":1.52,lorbpc:1.54,"1l7bcow":1.55,"1cbocg0":1.57,"1u2ycxs":1.59,"51foqo":1.6,"14jzpq8":1.61,"1mb9q80":1.63,dx2ozk:1.64,vocphc:1.66,"1v6wqgw":1.67,"10467ls":1.69,"1hvg83k":1.71,"9h96v4":1.72,r8j7cw:1.74,"1qr38cg":1.75,"16rwgsg":1.77,p0mgao:1.78,g4zg1s:1.8,"1fnjh1c":1.81,xw9gjk:1.82,"2tixog":1.84,kksy68:1.86,"1k3cz5s":1.87,"1b7pyww":1.89,tgfyf4:1.9,"5levi8":1.92,"153ywhs":1.93,"1mv8wzk":1.95,eh1vr4:1.96,w8bw8w:1.98,iwvdvk:2.02,"1iffev4":2.029999,"19jsem8":2.049999,rsie4g:2.06,"7tbmkg":2.08,"17bvnk0":2.089999,"1p35o1s":2.11,goymtc:2.12,"1xysoao":2.15,"3di4g0":2.16,l4s4xs:2.18,"1knc5xc":2.19,u0f56o:2.22,"1tiz668":2.23,"4hghz4":2.24,m8qigw:2.26,dd3i80:2.28,"1cvnj7k":2.29,"1umxjpc":2.31,"1mzuo":2.32,zk70u8:2.33,"1hbh1c0":2.35,"8xa03k":2.36,qok0lc:2.38,"1q741kw":2.39,"6pd91c":2.4,ogn9j4:2.42,"1wuuark":2.47,k0treo:2.5,"1jjdse8":2.51,swgrnk:2.54,"162xhc0":2.57,fg0glc:2.6,l11af4:18.5,"9diccg":19,"7zkdfk":20,gfliio:21,b5t88w:23,"4x2d4w":24,emo5j4:25,aobxts:27,"6shmgw":28,"31n3sw":30,"64rl6o":32,dch14w:33,"9lmigw":35,"1yv9csg":5.35,o42yo:6.8,q22xhc:8.5,d2hfr4:31,"1np7p4w":.03,"1zk5j4":.08,av75s0:.12,"185ufpc":.17,"1h1hfy8":.21,"47gwlc":.24,d33wu8:.28,uudxc0:.3,"14tzb40":.33,e72adc:.36,"1vgwbuo":.39,"10e5szk":.41,"1i5fthc":.43,"1r12tq8":.47,pam1og:.5,gez1fk:.52,"1xot2ww":.55,kusjk0:.58,bz5jb4:.6,tqfjsw:.62,"5vegw0":.64,"1n58idc":.67,wibhmo:.7,"1fkyrk":.72,"1ipf08w":.75,s2hzi8:.78,pul8g0:.82,"1ghi96o":.85,"3nhpts":.88,lerqbk:.9,uaeqkg:.94,"14a04cg":.97,dn33ls:1,ved43k:1.02,zu6m80:1.05,"1hlgmps":1.07,qyjlz4:1.1,"1lhay2o":.27,"1clnxts":.29,"1ucxybk":.31,"5bfa4g":.32,n2pam8:.34,"1ml9bls":.35,"1dpmbcw":.37,vycav4:.38,vls00:.4,imvshs:.42,"9r8s8w":.44,"199st8g":.45,"7jc16o":.48,"171w268":.49,"1ot62o0":.51,"1fxj2f4":.53,y691xc:.54,"33ij28":.56,"12m2k1s":.57,"1kdckjk":.59,"1t8zksg":.63,"15dyhvk":.65,nmohds:.66,er1h4w:.68,"1e9li4g":.69,"1w0vim8":.71,"10y4zr4":.73,j6uz9c:.74,ab7z0g:.76,"19ts000":.77,"1rl20hs":.79,"83b7y8":.8,"17lv8xs":.81,"1pd59fk":.83,gyy874:.84,yq88ow:.86,"1y8s9og":.87,"1361qtc":.89,"1kxbrb4":.91,"1c1or28":.93,"1tsyrk0":.95,"4rg3cw":.96,miq3uo:.98,"1m1a4u8":.99,"11x3klc":5.05,"1nrplhc":5.15,"1ag9340":5.25,qh2bk0:5.3,"14wh7gg":5.45,w0u77k:5.5,"7ltxj4":5.6,kxafwg:5.7,"1tbhh4w":5.75,"110mw3k":5.85,"1pfn5s0":5.95,"3pzm68":6,ml8074:6.1,"1uzf1fk":6.15,"16kerr4":6.25,"1jvva4g":6.35,"67vym8":6.4,jjcgzk:6.5,hbfpxc:6.6,"13ij8jk":6.65,"1mdrmkg":6.75,p34cn4:6.9,"1xhbdvk":6.95,"1ihxb7k":7.15,"1ga0k5c":7.25,dflekg:7.4,"1o1p6v4":7.55,"2c1n9c":7.6,"1wscef4":7.75,zhp4hs:7.9,"5iwz5s":8,f8irk0:9,y3r5kw:9.5,lxhyww:10.5,a9z0u8:11,"783hmo":12,m7hkao:12.5,wm2c5c:13.5,"2na6tc":14,ign1mo:14.5,snq4g0:15.5,"5wnf28":16,dybn5s:17,yhhlhc:17.5,testbid:0,"1nz7aio":2.43,xca9s0:2.46,b56r5s:2.52,obngu8:2.58,"24jy80":2.64,"1jedzpc":2.67,"18au8e8":2.73,hnx7nk:2.76,"13v0q9s":2.81,"10lkow":2.96,"156gsu8":7.05,"1tlh2io":7.35,"1aq8ohs":7.65,"1losn40":7.95,"1sf0sn4":2.55,"1eykhkw":2.61,srgyyo:2.7,"1yxr94w":2.79,d83pj4:2.84,n7p3b4:2.9,"1dum41s":2.93,"1iafm68":2.99,"7vtiww":7.2,b2outc:7.8,"13q0xkw":.25,riisqo:.46,"1bhpkao":.61,cj4q2o:.92,"1o96vwg":1.15,"1wav400":1.35,"1grhukg":1.49,"1vqvx8g":1.99,yg8nb4:2.14,"1lrajgg":2.27,fl09a8:2.44,"1h6h8n4":2.77,"1m69xj4":3.55,rdj01s:4.3,"29jqww":2.48,"1anqs5c":2.53,"6kdgcg":2.56,"1nu7hts":2.59,"1wpui2o":2.63,jvtyps:2.66,"1sa0zy8":2.71,"1q248w0":2.75,"4cgpa8":2.8,"1cqnqio":2.85,"5gf2tc":2.88,ec2328:2.92,"1vlw4jk":2.95,"9w8kxs":3,"176vuv4":3.05,"1kicd8g":3.15,jbury8:3.3,h3y0w0:3.4,gmdxc:3.6,ovmnls:3.7,"15sxvy8":3.85,"1j4eebk":3.95,"1gwhn9c":4.05,e22hog:4.2,"1oo69z4":4.35,nhooow:4.5,"17gvg8w":4.65,"1ksbym8":4.75,hxwt1c:4.9,t1gkcg:5.1,"2221vk":5.2,d5lt6o:5.4,"1i7xpts":5.55,"1g00yrk":5.65,etjdhc:5.8,s4zvuo:5.9,"1c46neo":6.05,"99rhts":6.2,xorri8:6.3,"1em2zuo":6.45,"1rxji80":6.55,umw8ao:6.7,"192b474":6.85,brnu9s:7,x7ah34:2.62,"11n3z7k":2.65,b06ygw:2.68,"1aiqzgg":2.69,"8sa7eo":2.72,qjk7wg:2.74,zf785c:2.78,m3qps0:2.82,"1lmaqrk":2.83,uzdq0w:2.86,"14yz3sw":2.89,"1mq94ao":2.91,w3c3k0:2.94,"10j5log":2.97,irvl6o:2.98,yb8um8:3.1,"60e9kw":3.2,"1eelatc":3.25,"1rq1t6o":3.35,"13b1ji8":3.45,ufej9c:3.5,"18utf5s":3.65,"1x9tou8":3.75,bk658g:3.8,wxavpc:3.9,"8iam0w":4,ltr4e8:4.099999,"1u7y5mo":4.15,"10960ao":4.25,"2yiqdc":4.4,"1bcprls":4.45,"1vvvpxc":4.55,a686bk:4.6,yl8g00:4.7,"4mgao0":4.8,"1d0nbwg":4.85,"1qc3u9s":4.95,fq01z4:5,watslc:7.1,l7a1a8:7.3,zmox6o:7.45,oe5d6o:7.7,"18dc4qo":7.85,"94ow0":10,t57ev4:11.5,hmo9hc:13,ccvz7k:15,orvt34:16.5,"25swe8":18,uqn2tc:19.5,"3y3sao":22,yq5fk:26,h72ebk:29,"1jyadc":34,testBid:50},Tn={hgfim8:"Amazon - DistrictM",qc2iv4:"Amazon - Magnite","183cjcw":"Amazon - AppNexus","8ksidc":"Amazon - OpenX","1s2jaww":"Amazon - PubMatic","1pumjuo":"Amazon - EMX","12jknpc":"Amazon - Conversant UAM","1kauo74":"Amazon - Amobee DSP","15bglj4":"Amazon - PubMatic UAM APAC","5swkjk":"Amazon - PubMatic UAM EU","1d32f4":"Amazon - Simpli.fi",ksan7k:"Amazon - Index Exchange",urw0zk:"Amazon - Smaato","1dn4f0g":"Amazon - AdGeneration",vvueio:"Amazon - DMX","1veefi8":"Amazon - Yieldmo","1i2xx4w":"Amazon - Yahoo Japan",rg0we8:"Amazon - UnrulyX_SSP_APS",y3r5kw:"Amazon - Verizon Media Group","1xmb6kg":"Amazon - GumGum UAM","1t6hog0":"Amazon - Acuity","1n2qm0w":"Amazon - Sharethrough",j4d2ww:"Amazon - EMX UAM","1imx3wg":"Amazon - LoopMe_UAM",z7pj40:"Amazon - Pulsepoint",p845c0:"Amazon - SmartRTB+"};function Dn(e){return Tn[e]||"Amazon"}let Mn,Ln=[];const On=e=>Ln.includes(e)||Ln.includes(`www.${e}`)||e?.includes?.("game");function Nn(){let e;return Mn&&(e=Mn.join(";")),Mn=void 0,e}const Rn=()=>"undefined"!=typeof navigator&&/MSIE \\d|Trident.*rv:/i.test(navigator.userAgent),zn=F.AYMode===N.DPF_ONLY||F.AYMode===N.PBS_DPF_CSTS,Un="rewarded",jn="video",Fn=["US","MX","FR","BR","JP","PL","DE","CA","AU","FI","MY","SE","AT","NZ","DK"],Gn=zn?{desktop:{"160x600":"RGjLwUuLJpFowG0HnC9poTmR","300x250":"EcwwLdbNTzELxa4qcd9d060O","320x50":"kKvCaOdMrYSNPdizhUX5FLch","728x90":"IR8yJgBz7GF45aIQY0zFBiBN","970x250":"MO7cOKSWWir2LKsAOxZ6dkIp",midroll:"SbURP42RHjzFNKkUeaPcwM29",rewarded:"PtqCLLsXZVRo5Hj7lhb9MB3o"},tablet:{"320x50":"7V4dBacaZLpJNTxep4Ks5PEX",midroll:"50WRe2wy7WRtTvopS7MinCAG",rewarded:"fY4eZNUpf1InC3YSRgThyD6r"},mobile:{"320x50":"1VeYl3yQOPHg0digg7vBePbF",midroll:"50WRe2wy7WRtTvopS7MinCAG",rewarded:"GBsiqQg5Y3yh0RkjarOmf58V"}}:{desktop:{"160x600":"pHhFwvUCUJQKwwA7iy4fAk2F","300x250":"c3GnFrB8rylhgQwXfD5VTq8P","320x50":"9DvtR4XBxhm8JoliuTxyVz3L","728x90":"v6NMslR400yh8RzvRiRLpwvH","970x250":"EWsiZSpdRTxOym1GzRvUmzNW",midroll:"4Hy6nGZMC66xUwMP5cl1hCTE",rewarded:"dNQuJjmJrj6ZdQMVxklBfduh"},tablet:{"320x50":"f8V9c0yVZENi5WNpSqvEgunY",midroll:"zFsaqtEiGSRs5zXx8U3N3IzK",rewarded:"3e3zEB2v1HZGMtSTr9bVm1op"},mobile:{"320x50":"jJuityvxj0Xu0AKku01W2eKX",midroll:"zFsaqtEiGSRs5zXx8U3N3IzK",rewarded:"qqlfsqZLNfx0YdnQoeTTx13y"}},Hn=zn?{desktop:{"160x600":"3344122-9","300x250":"3344124-15","320x50":"3344126-43","728x90":"3344128-2","970x250":"3344130-57",midroll:3344138,rewarded:3344140},tablet:{"320x50":"3344136-43",midroll:3344144,rewarded:3344146},mobile:{"320x50":"3344134-43",midroll:3344144,rewarded:3344142}}:{desktop:{"160x600":2969680,"300x250":2969676,"320x50":2969674,"728x90":2969668,"970x250":2969678,midroll:2969664,rewarded:2969666},tablet:{"320x50":2969690,midroll:3344110,rewarded:2969688},mobile:{"320x50":2969684,midroll:3344110,rewarded:2969682}},Vn=zn?{desktop:{"160x600":"5883933","300x250":"5883934","320x50":"5883935","728x90":"5883936","970x250":"5883937",midroll:"5883941",rewarded:"5883942"},tablet:{"320x50":"5883940",midroll:"5883943",rewarded:"5883945"},mobile:{"320x50":"5883939",midroll:"5883943",rewarded:"5883944"}}:{desktop:{"160x600":"5883917","300x250":"5883918","320x50":"5883919","728x90":"5883920","970x250":"5883921",midroll:"5883925",rewarded:"5883926"},tablet:{"320x50":"5883924",midroll:"5883927",rewarded:"5883929"},mobile:{"320x50":"5883923",midroll:"5883927",rewarded:"5883928"}},qn=zn?{desktop:{"160x600":"1097616","300x250":"1097617","320x50":"1097618","728x90":"1097619","970x250":"1097620",midroll:"1097624",rewarded:"1097625"},tablet:{"320x50":"1097623",midroll:"1097627",rewarded:"1097629"},mobile:{"320x50":"1097622",midroll:"1097627",rewarded:"1097626"}}:{desktop:{"160x600":"1097600","300x250":"1097601","320x50":"1097602","728x90":"1097603","970x250":"1097604",midroll:"1097608",rewarded:"1097609"},tablet:{"320x50":"1097607",midroll:"1097611",rewarded:"1097612"},mobile:{"320x50":"1097606",midroll:"1097611",rewarded:"1097610"}},Kn=zn?{desktop:{"160x600":"BzoTmh4NGZ","300x250":"lcmX1jq1Lj","320x50":"iowki7KCLk","728x90":"RGlldqn551","970x250":"ohcXUNESA6",midroll:"tqA7KwGzJP",rewarded:"innweoOi9C"},tablet:{"320x50":"HI8chf3nOw",midroll:"SLZIt97iqi",rewarded:"pWV7sSiv1v"},mobile:{"320x50":"o0HIu0ypvx",midroll:"SLZIt97iqi",rewarded:"DMtCvhStDo"}}:{desktop:{"160x600":"EcE3bPtcQ7","300x250":"z4419hyP3D","320x50":"iO0r99GJyD","728x90":"eNHLwil1Sz","970x250":"VV8quyp9Uc",midroll:"r2YIBgLder",rewarded:"qphbf73F9j"},tablet:{"320x50":"USm2WyRzQM",midroll:"vzAXcywC8m",rewarded:"lLev33Pjr2"},mobile:{"320x50":"EZVAmOVfTC",midroll:"vzAXcywC8m",rewarded:"STZwixwqOK"}},Qn=zn?{desktop:{"160x600":"32576935","300x250":"32576941","320x50":"32576946","728x90":"32576950","970x250":"32576954",midroll:"32576912",rewarded:"32576919"},tablet:{"320x50":"32576998",midroll:"32577004",rewarded:"32577010"},mobile:{"320x50":"32576997",midroll:"32577004",rewarded:"32577003"}}:{desktop:{"160x600":"32576856","300x250":"32576857","320x50":"32576858","728x90":"32576859","970x250":"32576860",midroll:"32576861",rewarded:"32576862"},tablet:{"320x50":"32576994",midroll:"32577001",rewarded:"32577002"},mobile:{"320x50":"32576993",midroll:"32577001",rewarded:"32577000"}},Wn=zn?{desktop:{"160x600":"desktop_ingame_160x600_B","300x250":"desktop_ingame_300x250_B","320x50":"desktop_ingame_320x50_B","728x90":"desktop_ingame_728x90_B","970x250":"desktop_ingame_970x250_B",midroll:"desktop_ingame_midroll_1_B",rewarded:"desktop_ingame_roll_1_B"},tablet:{"320x50":"tablet_ingame_320x50_B",midroll:"mobile_ingame_midroll_1_B",rewarded:"tablet_ingame_roll_1_B"},mobile:{"320x50":"mobile_ingame_320x50_B",midroll:"mobile_ingame_midroll_1_B",rewarded:"mobile_ingame_roll_1_B"}}:{desktop:{"160x600":"desktop_ingame_160x600","300x250":"desktop_ingame_300x250","320x50":"desktop_ingame_320x50","728x90":"desktop_ingame_728x90","970x250":"desktop_ingame_970x250",midroll:"desktop_ingame_midroll_1",rewarded:"desktop_ingame_roll_1"},tablet:{"320x50":"tablet_ingame_320x50",midroll:"mobile_ingame_midroll_1",rewarded:"tablet_ingame_roll_1"},mobile:{"320x50":"mobile_ingame_320x50",midroll:"mobile_ingame_midroll_1",rewarded:"mobile_ingame_roll_1"}},$n=Wn,Zn=zn?{desktop:{"160x600":"560728457","300x250":"560728458","320x50":"560728459","728x90":"560728460","970x250":"560728461",midroll:"560728517",rewarded:"560728518"},tablet:{"320x50":"560728464",midroll:"560728520",rewarded:"560728521"},mobile:{"320x50":"560728463",midroll:"560728520",rewarded:"560728519"}}:{desktop:{"160x600":"560728446","300x250":"560728447","320x50":"560728448","728x90":"560728449","970x250":"560728450",midroll:"560728512",rewarded:"560728513"},tablet:{"320x50":"560728453",midroll:"560728515",rewarded:"560728516"},mobile:{"320x50":"560728452",midroll:"560728515",rewarded:"560728514"}},Xn="lcpgaTLqkd6gRi8AVtVr0gLe",Yn="PIsUL8EJvXXA1thcFkCPWdhi",Jn="KQ3P2qVndkjlesGkzM5Rknma",ea="Ydwhf5DPoJBinldgPdkD9okm",ta={desktop:{"160x600":"desktop_ingame_160x600_B_PBc2s","300x250":"desktop_ingame_300x250_B_PBc2s","320x50":"desktop_ingame_320x50_B_PBc2s","728x90":"desktop_ingame_728x90_B_PBc2s","970x250":"desktop_ingame_970x250_B_PBc2s",midroll:"desktop_ingame_midroll_1_B_PBc2s",rewarded:"desktop_ingame_roll_1_B_PBc2s"},tablet:{"320x50":"tablet_ingame_320x50_B_PBc2s",midroll:"tablet_ingame_roll_1_B_PBc2s",rewarded:"tablet_ingame_roll_1_B_PBc2s"},mobile:{"320x50":"mobile_ingame_320x50_B_PBc2s",midroll:"mobile_ingame_roll_1_B_PBc2s",rewarded:"mobile_ingame_midroll_1_B_PBc2s"}},ia="1100059222",na="1100004890",aa={desktop:{"160x600":"139268158","300x250":"139268159","320x50":"139268160","728x90":"139268161","970x250":"139268162",midroll:"139268208",rewarded:"139268209"},tablet:{"320x50":"139268165",midroll:"139268211",rewarded:"139268212"},mobile:{"320x50":"139268164",midroll:"139268211",rewarded:"139268210"}},oa={desktop:{"160x600":"desktop_ingame_160x600","300x250":"desktop_ingame_300x250","320x50":"desktop_ingame_320x50","728x90":"desktop_ingame_728x90","970x250":"desktop_ingame_970x250",midroll:"desktop_ingame_midroll_1",rewarded:"desktop_ingame_roll_1"},tablet:{"320x50":"tablet_ingame_320x50",midroll:"mobile_ingame_midroll_1",rewarded:"tablet_ingame_roll_1"},mobile:{"320x50":"mobile_ingame_320x50",midroll:"mobile_ingame_midroll_1",rewarded:"mobile_ingame_roll_1"}},ra={desktop:{"160x600":"3835087834583080987","300x250":"3835087834784407580","320x50":"3835087835002511389","728x90":"3835087835195449374","970x250":"3835087835396775967",midroll:"3835087836277579811",rewarded:"3835087836436963364"},tablet:{"320x50":"3835087836042698786",midroll:"3835087836814450726",rewarded:"3835087837015777319"},mobile:{"320x50":"3835087835816206369",midroll:"3835087836814450726",rewarded:"3835087836613124133"}},sa={desktop:{"160x600":290341,"300x250":290342,"320x50":290343,"728x90":290344,"970x250":290345,midroll:290349,rewarded:290350},tablet:{"320x50":290348,midroll:290352,rewarded:290353},mobile:{"320x50":290347,midroll:290352,rewarded:290351}},da={desktop:{"160x600":"438521132","300x250":"769455733","320x50":"145372942","728x90":"366541117","970x250":"286062721",midroll:"167479838",rewarded:"411121126"},tablet:{"320x50":"522120183",midroll:"658862036",rewarded:"843141535"},mobile:{"320x50":"957718076",midroll:"658862036",rewarded:"236673747"}},ca={desktop:{"160x600":"PBS_desktop_ingame_160x600_PBs2s","300x250":"PBS_desktop_ingame_300x250_PBs2s","320x50":"PBS_desktop_ingame_320x50_PBs2s","728x90":"PBS_desktop_ingame_728x90_PBs2s","970x250":"PBS_desktop_ingame_970x250_PBs2s",midroll:"PBS_desktop_instream_PBs2s",rewarded:"PBS_desktop_instream_PBs2s"},tablet:{"320x50":"PBS_tablet_ingame_320x50_PBs2s",midroll:"PBS_tablet_instream_PBs2s",rewarded:"PBS_tablet_instream_PBs2s"},mobile:{"320x50":"PBS_mobile_ingame_320x50_PBs2s",midroll:"PBS_mobile_instream_PBs2s",rewarded:"PBS_mobile_instream_PBs2s"}},la={desktop:{"160x600":"w94NCQZPkvMe9abEANk3j9UM","300x250":"2j1V0jSoGrQcQPZ6wjcjDc1v","320x50":"JCzEzMwjMCqgNH9mVSCgLbFM","728x90":"PhpWXPWg4o3y6FlY0qwH7fRy","970x250":"DNOO90lGmA22jVxRo4meiTOX",midroll:"jdbFspMsO3380VFGH56aQSPT",rewarded:"EOxLPMBPLxUim1O5YYjgJ3zV"},tablet:{"320x50":"hW9BnmYxpqIlMHb1TyfDXhgb",midroll:"0LJiuzsOrsiZypi2Hp6aGHz3",rewarded:"6ZMiHSLfdWgTA8JQUtBvLb2p"},mobile:{"320x50":"8CHGo2XPaoLDBXnfgeZHPDp2",midroll:"0LJiuzsOrsiZypi2Hp6aGHz3",rewarded:"YEfxtSaAovu1QuPW3b2GGreQ"}},pa={desktop:{"160x600":3451892,"300x250":3451894,"320x50":3451896,"728x90":3451898,"970x250":3451900,midroll:3451908,rewarded:3451910},tablet:{"320x50":3451906,midroll:3451914,rewarded:3451916},mobile:{"320x50":3451904,midroll:3451914,rewarded:3451912}},Aa={desktop:{"160x600":"6031290","300x250":"6031291","320x50":"6031292","728x90":"6031293","970x250":"6031294",midroll:"6031300",rewarded:"6031301"},tablet:{"320x50":"6031297",midroll:"6031302",rewarded:"6031304"},mobile:{"320x50":"6031296",midroll:"6031302",rewarded:"6031303"}},ma={desktop:{"160x600":"1119460","300x250":"1119461","320x50":"1119462","728x90":"1119463","970x250":"1119464",midroll:"1119468",rewarded:"1119469"},tablet:{"320x50":"1119467",midroll:"1119471",rewarded:"1119472"},mobile:{"320x50":"1119466",midroll:"1119471",rewarded:"1119470"}},ua={desktop:{"160x600":"joqZdjrS44","300x250":"A5WslvYq3U","320x50":"jeJTT1JQc1","728x90":"HUdxaDxmjN","970x250":"MFOfbG0BvV",midroll:"8Ktl6U8ziM",rewarded:"Na5xNjU0Nc"},tablet:{"320x50":"YZvrrtjbzK",midroll:"0EFXGI0X4R",rewarded:"dGO6uV5f0u"},mobile:{"320x50":"ZjGxFZU4bI",midroll:"0EFXGI0X4R",rewarded:"0KnEmI2AtO"}},ga={desktop:{"160x600":"33053938","300x250":"33053941","320x50":"33053940","728x90":"33053943","970x250":"33053944",midroll:"33053942",rewarded:"33053939"},tablet:{"320x50":"33053997",midroll:"33054000",rewarded:"33053999"},mobile:{"320x50":"33054001",midroll:"33054000",rewarded:"33054003"}},ha={desktop:{"160x600":"PBS_desktop_ingame_160x600","300x250":"PBS_desktop_ingame_300x250","320x50":"PBS_desktop_ingame_320x50","728x90":"PBS_desktop_ingame_728x90","970x250":"PBS_desktop_ingame_970x250",midroll:"PBS_desktop_ingame_midroll_1",rewarded:"PBS_desktop_ingame_roll_1"},tablet:{"320x50":"PBS_tablet_ingame_320x50",midroll:"PBS_mobile_ingame_midroll_1",rewarded:"PBS_tablet_ingame_roll_1"},mobile:{"320x50":"PBS_mobile_ingame_320x50",midroll:"PBS_mobile_ingame_midroll_1",rewarded:"PBS_mobile_ingame_roll_1"}},va={desktop:{"160x600":"560923015","300x250":"560923016","320x50":"560923017","728x90":"560923018","970x250":"560923019",midroll:"560923023",rewarded:"560923024"},tablet:{"320x50":"560923022",midroll:"560923026",rewarded:"560923027"},mobile:{"320x50":"560923021",midroll:"560923026",rewarded:"560923025"}},wa={desktop:{"160x600":"139268169","300x250":"139268170","320x50":"139268171","728x90":"139268172","970x250":"139268173",midroll:"139268213",rewarded:"139268214"},tablet:{"320x50":"139268176",midroll:"139268216",rewarded:"139268217"},mobile:{"320x50":"139268175",midroll:"139268216",rewarded:"139268215"}},ba={desktop:{"160x600":"3835087837804306475","300x250":"3835087838022410284","320x50":"3835087838223736877","728x90":"3835087838408286254","970x250":"3835087838643167279",midroll:"3835087839507193907",rewarded:"3835087839691743284"},tablet:{"320x50":"3835087839289090098",midroll:"3835087840035676214",rewarded:"3835087840211836983"},mobile:{"320x50":"3835087839096152113",midroll:"3835087840035676214",rewarded:"3835087839867904053"}},fa={desktop:{"160x600":290357,"300x250":290358,"320x50":290359,"728x90":290360,"970x250":290361,midroll:290365,rewarded:290366},tablet:{"320x50":290364,midroll:290368,rewarded:290369},mobile:{"320x50":290363,midroll:290368,rewarded:290367}},ya={desktop:{"160x600":0,"300x250":0,"320x50":0,"728x90":0,"970x250":0,midroll:23376910,rewarded:23376911},tablet:{"320x50":0,midroll:23376913,rewarded:23376914},mobile:{"320x50":0,midroll:23376913,rewarded:23376912}},ka={desktop:{"160x600":"713546197","300x250":"867637267","320x50":"583885567","728x90":"893736105","970x250":"913415691",midroll:"610540710",rewarded:"952913225"},tablet:{"320x50":"520050148",midroll:"549443128",rewarded:"851115187"},mobile:{"320x50":"965851866",midroll:"549443128",rewarded:"517687166"}},xa="playground",_a="ingame",Ia="external";function Sa(){return F.isPokiIframe||F.isPlayground?F.isPlayground?xa:_a:Ia}const Ea={skyscraper:"160x600",rectangle:"300x250",leaderboard:"728x90",smallLeaderboard:"320x50",billboard:"970x250",midroll:"midroll",rewarded:"rewarded",gamebar:"gamebar",externalSkyscraper:"300x600"};const Ca=()=>{const e=window;e.floorModuleLoaded=!1,window.assertive={entityId:"5Lgx5W5CGs9PYyu8u",analytics:{integrations:{ivt:!1,webVitals:!1,webAnalytics:!1,nativo:!1,taboola:!1,outbrain:!1,adsense:!1,reconciliation:!1,custom:{custom_1:e.parent.pokiExperiment,custom_2:e.parent.pokiAYMode}}},storage:{keyPrefix:"pvay_"},floor:{enabled:!1,addToHashKey:!1,currency:"EUR",priceBuckets:[{min:.03,max:.25,increment:.01},{min:.25,max:2,increment:.05},{min:2,max:5,increment:.1},{min:5,max:20,increment:.15}],prebidMinFloor:.15,exploreRate:"auto",readyCallback:()=>{e.floorModuleLoaded=!0}}};const t=document.createElement("script");t.src="https://5lgx5w5cgs9pyyu8u.ay.delivery/client-v2.js",t.async=!0,document.body.appendChild(t)};let Pa;const Ba=()=>F.isPlayground&&["US","CA","DE","BR","FR","AU","MX","JP","ES","CH","PL","KR","GB","BE","IT","AE","NL","SE","DK","SA","NZ","RO","ZA","TH","AT","NO","MY","CL","SG","CZ","IL","HU","FI","SK","IE","HK","BG","PT","UY","TW","CR","GR","OM","PR","JO","PA","HR","UZ","KE","KW","LV","LU","SI","EE","MM","QA","LT","BH","IS","JM","TT","NA","MT","BS","MO","AW","AS","VI","KY","LI","BQ","JE","BM","PW","VG","GG","MP","MC","NU","NF","TV"].includes(F.country)||F.forceStartAY;function Ta(e="display"){return!!F.forceStartAY||(F.AYMode===N.PBS_ONLY||[N.ON,N.PBS_DPF_CSTS].includes(F.AYMode)&&Ba())}function Da(){return[N.ON,N.PBS_DPF_CSTS,N.DPF_ONLY].includes(F.AYMode)&&["US","MX","DE","FR","AU","ES","IT","NZ"].includes(F.country)||F.forceStartAY}function Ma(){return!!window?.assertive?.addAmazonFloors&&Da()}async function La(){const{AYMode:e,country:t}=F;if(!F.isPlayground&&!F.forceStartAY)return;if(e===N.NOT_APPLICABLE||e===N.DISABLED)return;const i=Ta(),n=Da(),a=[N.ON,N.PBS_DPF_CSTS,N.CSTS_ONLY].includes(e)||F.forceStartAY;window.assertive={entityId:"US"===t?"GQP4knBP4M2tmmbDA":"CsX5Xy7uK2mDtHD7e",analytics:{integrations:{ima:!1},logUnfilled:!0,useHistoryChangeTrigger:!0,custom:{custom_1:F.experiment,custom_2:e},sampleRate:.1,override:{normalizeSlotId:(e,t)=>t||e}},hash:{generator:"server",values:1,key:"control"},reduction:{enabled:a,limit:{percentage:a?1:0}},floor:{enabled:n,addToHashKey:!1,currency:"EUR",gptHook:!1,priceBuckets:[{min:.03,max:.25,increment:.01},{min:.25,max:2,increment:.05},{min:2,max:5,increment:.1},{min:5,max:20,increment:.15}],exploreRate:"auto",limit:{excludeSlotIds:["video","rewarded"]}}},function(){try{if(Pa=document.createElement("iframe"),Pa.id="ay-video-optimizer",Pa.setAttribute("frameborder","0"),Pa.setAttribute("scrolling","no"),Pa.setAttribute("allowtransparency","true"),Pa.setAttribute("width","1"),Pa.setAttribute("height","1"),Pa.style.position="absolute",Pa.style.left="-9999px",document.body.appendChild(Pa),Pa.contentDocument){window.pokiGetDPFEnabledResult=Da(),window.pokiAYMode=F.AYMode,window.pokiExperiment=F.experiment;const e=Pa.contentDocument.createElement("script");e.textContent=`(${Ca.toString()})();`,Pa.contentDocument.body.appendChild(e)}}catch(e){console.error("Error creating video optimizer:",e)}}(),n&&window.googletag.cmd.push((()=>{window.googletag.pubads().setTargeting("ay_hb_house","1")})),await dn("https://a.poki-cdn.com/ay/client-v2_d9611ecbfb334b6d55d2ea9f208a1230e0a9e551.js"),i&&(await dn("https://a.poki-cdn.com/ay/s2s-client-v1_62824ed91fc4aa2592d4f576012b2466329c8cef.js"),window?.ayS2STag?.init({orgId:"saWdJc9SuSG9wLYDz",entityId:"WxopjWtNMn2mCEStE",bidders:["adagio","appnexus","ix","onetag","openx","pubmatic","richaudience","rubicon","sharethrough","triplelift","unruly","improvedigital","amx","medianet","smaato","yieldmo"],serverOnlyBidders:[],pbjs:"pbjs",continent:{AF:"AS",AL:"EU",AQ:"AN",DZ:"AF",AS:"OC",AD:"EU",AO:"AF",AG:"NA",AZ:"AS",AR:"SA",AU:"OC",AT:"EU",BS:"NA",BH:"AS",BD:"AS",AM:"AS",BB:"NA",BE:"EU",BM:"NA",BT:"AS",BO:"SA",BA:"EU",BW:"AF",BV:"AN",BR:"SA",BZ:"NA",IO:"AF",SB:"OC",VG:"NA",BN:"AS",BG:"EU",MM:"AS",BI:"AF",BY:"EU",KH:"AS",CM:"AF",CA:"NA",CV:"AF",KY:"NA",CF:"AF",LK:"AS",TD:"AF",CL:"SA",CN:"AS",TW:"AS",CX:"AS",CC:"AS",CO:"SA",KM:"AF",YT:"AF",CG:"AF",CD:"AF",CK:"OC",CR:"NA",HR:"EU",CU:"NA",CY:"AS",CZ:"EU",BJ:"AF",DK:"EU",DM:"NA",DO:"NA",EC:"SA",SV:"NA",GQ:"AF",ET:"AF",ER:"AF",EE:"EU",FO:"EU",FK:"SA",GS:"AN",FJ:"OC",FI:"EU",AX:"EU",FR:"EU",GF:"SA",PF:"OC",TF:"AF",DJ:"AF",GA:"AF",GE:"AS",GM:"AF",DE:"EU",GH:"AF",GI:"EU",KI:"OC",GR:"EU",GL:"NA",GD:"NA",GP:"NA",GU:"OC",GT:"NA",GN:"AF",GY:"SA",HT:"NA",HM:"AN",VA:"EU",HN:"NA",HK:"AS",HU:"EU",IS:"EU",IN:"AS",ID:"AS",IR:"AS",IQ:"AS",IE:"EU",IL:"AS",IT:"EU",CI:"AF",JM:"NA",JP:"AS",KZ:"AS",JO:"AS",KE:"AF",KP:"AS",KR:"AS",XK:"EU",KW:"AS",KG:"AS",LA:"AS",LB:"AS",LS:"AF",LV:"EU",LR:"AF",LY:"AF",LI:"EU",LT:"EU",LU:"EU",MO:"AS",MG:"AF",MW:"AF",MY:"AS",MV:"AS",ML:"AF",MT:"EU",MQ:"NA",MR:"AF",MU:"AF",MX:"NA",MC:"EU",MN:"AS",MD:"EU",ME:"EU",MS:"NA",MA:"AF",MZ:"AF",OM:"AS",NA:"AF",NR:"OC",NP:"AS",NL:"EU",CW:"NA",AW:"NA",SX:"NA",BQ:"NA",NC:"OC",VU:"OC",NZ:"OC",NI:"NA",NE:"AF",NG:"AF",NU:"OC",NF:"OC",NO:"EU",MP:"OC",UM:"OC",FM:"OC",MH:"OC",PW:"OC",PK:"AS",PS:"AS",PA:"NA",PG:"OC",PY:"SA",PE:"SA",PH:"AS",PN:"OC",PL:"EU",PT:"EU",GW:"AF",TL:"AS",PR:"NA",QA:"AS",RE:"AF",RO:"EU",RU:"EU",RW:"AF",BL:"NA",SH:"AF",KN:"NA",AI:"NA",LC:"NA",MF:"NA",PM:"NA",VC:"NA",SM:"EU",ST:"AF",SA:"AS",SN:"AF",RS:"EU",SC:"AF",SL:"AF",SG:"AS",SK:"EU",VN:"AS",SI:"EU",SO:"AF",ZA:"AF",ZW:"AF",ES:"EU",SS:"AF",SD:"AF",EH:"AF",SR:"SA",SJ:"EU",SZ:"AF",SE:"EU",CH:"EU",SY:"AS",TJ:"AS",TH:"AS",TG:"AF",TK:"OC",TO:"OC",TT:"NA",AE:"AS",TN:"AF",TR:"AS",TM:"AS",TC:"NA",TV:"OC",UG:"AF",UA:"EU",MK:"EU",EG:"AF",GB:"EU",GG:"EU",JE:"EU",IM:"EU",TZ:"AF",US:"NA",VI:"NA",BF:"AF",UY:"SA",UZ:"AS",VE:"SA",WF:"OC",WS:"OC",YE:"AS",ZM:"AF",XD:"AS",XS:"AS"}[F.country]||"NA",analytics:!1,aliasRegistry:null,suffix:"_s2s",abPercentage:100,customEndpoint:{us:"pbs-poki-us",eu:"pbs-poki-eu"}}))}function Oa(e,t,i,n,a){let o=Ua("AdSystem","Poki",{version:"0.1"});return t&&(o+=function(e){return za("VASTAdTagURI",e)}(t)),i&&(o+=Na(i,n)),a&&(o+=Ra(a)),function(e,t){return Ua("VAST",e,{version:t})}(function(e,t){return Ua("Ad",e,{id:t})}(Ua("Wrapper",o),e),"4.2")}function Na(e,t){return za("Impression",e,{id:t})}function Ra(e){return za("Error",e)}function za(e,t,i={}){return Ua(e,`<![CDATA[${t}]]>`,i)}function Ua(e,t,i={}){const n=function(e,t){if(!t||0===Object.keys(t).length)return e;return Object.keys(t).reduce(((e,i)=>{const n=t[i];return n?`${e} ${i}="${n}"`:e}),e)}(e,i);return`<${n}>${t}</${e}>`}function ja(e){const t=e;return{getVastXmlWithTracking:function(e,n,a,o,r){const s=function(e,i){if(!e)return;const n=Na(e,i);return t.parse(n)}(a,o),d=function(e){if(!e)return;const i=Ra(e);return t.parse(i)}(r);if(!n&&!s&&!d)return e;const c=t.parse(e);return function(e,t,n){const a=e.querySelectorAll("InLine,Wrapper"),o=a.length;for(let e=0;e<o;e++){const r=a[e],s=e<o-1;i(r,t,s),i(r,n,s)}}(c,s,d),function(e,t){if(!t)return;const i=e.querySelector("Ad");if(!i)return;i.id=t}(c,n),t.serialize(c)},buildVastWrapper:Oa};function i(e,t,i){if(!t)return;const n=i?t.cloneNode(!0):t;e.appendChild(n.documentElement)}}function Fa(){let e,t;return{parse:function(t){return(e||(e=new DOMParser),e).parseFromString(t,"application/xml")},serialize:function(e){return(t||(t=new XMLSerializer),t).serializeToString(e)}}}const Ga=ja(Fa()),Ha=function(){const e={};return{store:function(t,i){e[t]=i},remove:function(t){const i=e[t];if(i)return delete e[t],i}}}();function Va(){const e=K.getVideoDataAnnotations(),t=function(e){const t=function(e){if(!e||!e.length)return;for(let t=0;t<e.length;t++){const i=e[t],n=Ha.remove(i);if(n)return n}}(e);if(!t)return;const{adUnitCode:i,requestId:n,auctionId:a}=t,o=t.adId,{bids:r}=window.pbjs.getBidResponsesForAdUnitCode(i);return r.find((e=>e.adId===o&&e.requestId===n&&e.auctionId===a))}(e?.IMAWrapperIDs||[]);if(t){K.addVideoDataAnnotations({HBPrebidLikelyWon:!0,HBPrebidWon:!0,HBBid:JSON.stringify(t)});try{window.pbjs.markWinningBidAsUsed({...t,events:!0})}catch(e){Bi("Error marking winning bid as used",e)}}}const qa=e=>{const{adId:t,adUnitCode:i,requestId:n,auctionId:a}=e,o=`poki_${le()}`;Ha.store(o,{adId:t,adUnitCode:i,requestId:n,auctionId:a});let{vastXml:r}=e;const{vastUrl:s}=e;return r?r=Ga.getVastXmlWithTracking(r,o,void 0,void 0,void 0):s&&(r=Ga.buildVastWrapper(o,s,void 0,void 0,void 0)),e.vastXml=r,o};const Ka={},Qa=["IAB7-3","IAB7-5","IAB7-8","IAB7-9","IAB7-10","IAB7-11","IAB7-14","IAB7-17","IAB7-18","IAB7-19","IAB7-21","IAB7-22","IAB7-24","IAB7-25","IAB7-26","IAB7-27","IAB7-28","IAB7-29","IAB7-30","IAB7-31","IAB7-34","IAB7-37","IAB7-39","IAB7-41","IAB7-42","IAB7-43","IAB7-44","IAB7-45","IAB8-5","IAB8-18","IAB9-9","IAB11-1","IAB11-4","IAB11-5","IAB14-1","IAB14-2","IAB14-3","IAB15-5","IAB17-18","IAB18-2","IAB23","IAB23-1","IAB23-2","IAB23-3","IAB23-4","IAB23-5","IAB23-6","IAB23-7","IAB23-8","IAB23-9","IAB23-10","IAB24","IAB25","IAB25-1","IAB25-2","IAB25-3","IAB25-4","IAB25-5","IAB25-6","IAB25-7","IAB26","IAB26-1","IAB26-2","IAB26-3","IAB26-4"];let Wa,$a=!1,Za={},Xa=!1;const Ya=()=>$a,Ja=()=>Xa,eo=(e,t)=>{if(void 0===Wa&&(Wa=(e=>{const{country:t}=F,i=e?.[t]?.video?.amazon;return!!i&&Math.random()>i})(t)),!Wa&&(Za=e,window.apstag))try{const e="1--",t="1YN",i=t=>{const i={pubID:"e32f1423-28bc-43ed-8ab0-5ae6b4449cf8",adServer:"googletag",videoAdServer:"GAM",...F.gdprApplies?{gdpr:{cmpTimeout:1e4}}:{},...F.ccpaApplies?{params:{aps_privacy:t||e}}:{},signals:Za};window.apstag.init(i,(()=>{$a=!0}))};F.ccpaApplies?window.__uspapi("uspPing",1,(()=>{window.__uspapi("getUSPData",1,((e,n)=>{if(n){let t=e?.uspString?.charAt(2)||"N";"-"===t&&(t="N"),i(`1Y${t}`)}else i(t)}))})):i(e)}catch{$a=!1,window.apstag=void 0}},to=(t,i)=>{const n={"728x90":`/21682198607/${F.device}_ingame_728x90/${F.siteID}_${F.device}_ingame_728x90`,"300x250":`/21682198607/${F.device}_ingame_300x250/${F.siteID}_${F.device}_ingame_300x250`,"970x250":`/21682198607/${F.device}_ingame_970x250/${F.siteID}_${F.device}_ingame_970x250`,"160x600":`/21682198607/${F.device}_ingame_160x600/${F.siteID}_${F.device}_ingame_160x600`,"320x50":`/21682198607/${F.device}_ingame_320x50/${F.siteID}_${F.device}_ingame_320x50`,"728x90_external":`/21682198607/external_${F.device}_display_ingame/external_${F.device}_ingame_728x90`,"300x250_external":`/21682198607/external_${F.device}_display_ingame/external_${F.device}_ingame_300x250`,"970x250_external":`/21682198607/external_${F.device}_display_ingame/external_${F.device}_ingame_970x250`,"160x600_external":`/21682198607/external_${F.device}_display_ingame/external_${F.device}_ingame_160x600`,"320x50_external":`/21682198607/external_${F.device}_display_ingame/external_${F.device}_ingame_320x50`,"300x600_external_platform":`/21682198607/external_${F.device}_display_platform`},a=e=>{const t={mimes:Rn()||M()||L()?["video/mp4","application/javascript"]:["video/mp4","video/webm","video/ogg","application/javascript"],minduration:1,protocols:[2,3,5,6,7,8,11,12,13,14],w:640,h:480,placement:1,linearity:1,boxingallowed:1,pos:1,api:[2,7,8],...e?{maxduration:30,maxextended:10}:{maxduration:15},playbackmethod:[3],skip:0,startdelay:-1};return{bids:[...Fn.includes(F.country)?[{bidder:"appnexus",bidSource:{server:0,client:100},params:{placementId:e?Qn[F.device].rewarded:Qn[F.device].midroll,supplyType:"web"}}]:[],{bidder:"openx",params:{delDomain:"poki-d.openx.net",unit:e?Zn[F.device].rewarded:Zn[F.device].midroll}},{bidder:"ix",params:{siteId:e?qn[F.device].rewarded:qn[F.device].midroll,video:{}}},{bidder:"richaudience",params:{pid:e?Kn[F.device].rewarded:Kn[F.device].midroll,supplyType:"site"}},{bidder:"onetag",bidSource:{server:0,client:100},params:{pubId:"6da09f566a9dc06",ext:{placement_name:e?Wn[F.device].rewarded:Wn[F.device].midroll}}},{bidder:"rubicon",params:{accountId:18608,siteId:498726,zoneId:e?Hn[F.device].rewarded:Hn[F.device].midroll,position:"atf",video:{size_id:204},bcat:Qa}},{bidder:"pubmatic",params:{publisherId:"156838",adSlot:e?Vn[F.device].rewarded:Vn[F.device].midroll,bcat:Qa}},{bidder:"sharethrough",params:{pkey:e?Gn[F.device].rewarded:Gn[F.device].midroll,bcat:Qa}},{bidder:"triplelift",params:{inventoryCode:e?ta[F.device].rewarded:ta[F.device].midroll,video:{...t}}},{bidder:"amx",params:{tagId:"yKyauEkOj",adUnitId:e?oa[F.device].rewarded:oa[F.device].midroll}},{bidder:"smaato",params:{publisherId:ia,adspaceId:e?aa[F.device].rewarded:aa[F.device].midroll}},{bidder:"yieldmo",params:{placementId:e?ra[F.device].rewarded:ra[F.device].midroll}},{bidder:"unruly",params:{siteId:e?sa[F.device].rewarded:sa[F.device].midroll}},{bidder:"medianet",params:{cid:"8CU2QB97K",crid:e?da[F.device].rewarded:da[F.device].midroll}},...Ta("video")?[...Fn.includes(F.country)?[{bidder:"appnexus_s2s",bidSource:{server:0,client:100},params:{placementId:e?ga[F.device].rewarded:ga[F.device].midroll,supplyType:"web"}}]:[],{bidder:"openx_s2s",params:{delDomain:"poki-d.openx.net",unit:e?va[F.device].rewarded:va[F.device].midroll}},{bidder:"ix_s2s",params:{siteId:e?ma[F.device].rewarded:ma[F.device].midroll,video:{}}},{bidder:"richaudience_s2s",params:{pid:e?ua[F.device].rewarded:ua[F.device].midroll,supplyType:"site"}},{bidder:"rubicon_s2s",params:{accountId:18608,siteId:551606,zoneId:e?pa[F.device].rewarded:pa[F.device].midroll,position:"atf",video:{size_id:204},bcat:Qa}},{bidder:"pubmatic_s2s",params:{publisherId:"156838",adSlot:e?Aa[F.device].rewarded:Aa[F.device].midroll,bcat:Qa}},{bidder:"sharethrough_s2s",params:{pkey:e?la[F.device].rewarded:la[F.device].midroll,bcat:Qa}},{bidder:"unruly_s2s",params:{siteId:e?fa[F.device].rewarded:fa[F.device].midroll}},{bidder:"improvedigital",bidSource:{server:100,client:0},params:{placementId:e?ya[F.device].rewarded:ya[F.device].midroll,publisherId:2639}},{bidder:"amx_s2s",params:{tagId:"yKyauEkOj",adUnitId:e?`PBS_${oa[F.device].rewarded}`:`PBS_${oa[F.device].midroll}`}},{bidder:"smaato_s2s",params:{publisherId:na,adspaceId:e?aa[F.device].rewarded:aa[F.device].midroll}},{bidder:"yieldmo_s2s",params:{placementId:e?ba[F.device].rewarded:ba[F.device].midroll}},{bidder:"unruly_s2s",params:{siteId:e?fa[F.device].rewarded:fa[F.device].midroll}},{bidder:"medianet_s2s",params:{cid:"8CU2QB97K",crid:e?ka[F.device].rewarded:ka[F.device].midroll}}]:[]],mediaTypes:{video:{context:"instream",playerSize:[640,480],plcmt:1,...t}}}},o=a(!0),r=a(!1),s=window.location.hostname.replace(".","-"),d=[{code:jn,mediaTypes:r.mediaTypes,bids:[...r.bids]},{code:Un,mediaTypes:o.mediaTypes,bids:[...o.bids]},{code:n["728x90"],mediaTypes:{banner:{sizes:[[728,90]]}},ortb2Imp:{battr:[6,7]},bids:[...Fn.includes(F.country)?[{bidder:"appnexus",params:{placementId:Qn[F.device]["728x90"]}}]:[],{bidder:"openx",params:{delDomain:"poki-d.openx.net",unit:Zn[F.device]["728x90"]}},{bidder:"ix",params:{siteId:qn[F.device]["728x90"]}},{bidder:"pubmatic",params:{publisherId:"156838",adSlot:Vn[F.device]["728x90"],bcat:Qa}},{bidder:"rubicon",params:{accountId:18608,siteId:498726,zoneId:Hn[F.device]["728x90"],bcat:Qa}},{bidder:"onetag",params:{pubId:"6da09f566a9dc06",ext:{placement_name:Wn[F.device]["728x90"]}}},{bidder:"richaudience",params:{pid:Kn[F.device]["728x90"],supplyType:"site"}},{bidder:"sharethrough",params:{pkey:Gn[F.device]["728x90"],bcat:Qa}},{bidder:"triplelift",params:{inventoryCode:ta[F.device]["728x90"]}},{bidder:"adagio",params:{organizationId:"1155",site:"poki-com",placement:$n[F.device]["728x90"],environment:F.device,useAdUnitCodeAsAdUnitElementId:!0,pagetype:"game",category:"games"}},{bidder:"amx",params:{tagId:"yKyauEkOj",adUnitId:oa[F.device]["728x90"]}},{bidder:"smaato",params:{publisherId:ia,adspaceId:aa[F.device]["728x90"]}},{bidder:"yieldmo",params:{placementId:ra[F.device]["728x90"]}},{bidder:"unruly",params:{siteId:sa[F.device]["728x90"]}},{bidder:"medianet",params:{cid:"8CU2QB97K",crid:da[F.device]["728x90"]}},...Ta()?[...Fn.includes(F.country)?[{bidder:"appnexus_s2s",bidSource:{server:0,client:100},params:{placementId:ga[F.device]["728x90"]}}]:[],{bidder:"openx_s2s",params:{delDomain:"poki-d.openx.net",unit:va[F.device]["728x90"]}},{bidder:"ix_s2s",params:{siteId:ma[F.device]["728x90"]}},{bidder:"pubmatic_s2s",params:{publisherId:"156838",adSlot:Aa[F.device]["728x90"],bcat:Qa}},{bidder:"rubicon_s2s",params:{accountId:18608,siteId:551606,zoneId:pa[F.device]["728x90"],bcat:Qa}},{bidder:"onetag_s2s",params:{pubId:"6da09f566a9dc06",ext:{placement_name:ha[F.device]["728x90"]}}},{bidder:"richaudience_s2s",params:{pid:ua[F.device]["728x90"],supplyType:"site"}},{bidder:"sharethrough_s2s",params:{pkey:la[F.device]["728x90"],bcat:Qa}},{bidder:"triplelift_s2s",params:{inventoryCode:ca[F.device]["728x90"]}},{bidder:"amx_s2s",params:{tagId:"yKyauEkOj",adUnitId:`PBS_${oa[F.device]["728x90"]}`}},{bidder:"smaato_s2s",params:{publisherId:na,adspaceId:wa[F.device]["728x90"]}},{bidder:"yieldmo_s2s",params:{placementId:ba[F.device]["728x90"]}},{bidder:"unruly_s2s",params:{siteId:fa[F.device]["728x90"]}},{bidder:"medianet_s2s",params:{cid:"8CU2QB97K",crid:ka[F.device]["728x90"]}}]:[]]},{code:n["300x250"],mediaTypes:{banner:{sizes:[[300,250]]}},ortb2Imp:{battr:[6,7]},bids:[...Fn.includes(F.country)?[{bidder:"appnexus",params:{placementId:Qn[F.device]["300x250"]}}]:[],{bidder:"openx",params:{delDomain:"poki-d.openx.net",unit:Zn[F.device]["300x250"]}},{bidder:"ix",params:{siteId:qn[F.device]["300x250"]}},{bidder:"pubmatic",params:{publisherId:"156838",adSlot:Vn[F.device]["300x250"],bcat:Qa}},{bidder:"rubicon",params:{accountId:18608,siteId:498726,zoneId:Hn[F.device]["300x250"],bcat:Qa}},{bidder:"onetag",params:{pubId:"6da09f566a9dc06",ext:{placement_name:Wn[F.device]["300x250"]}}},{bidder:"richaudience",params:{pid:Kn[F.device]["300x250"],supplyType:"site"}},{bidder:"sharethrough",params:{pkey:Gn[F.device]["300x250"],bcat:Qa}},{bidder:"triplelift",params:{inventoryCode:ta[F.device]["300x250"]}},{bidder:"adagio",params:{organizationId:"1155",site:"poki-com",placement:$n[F.device]["300x250"],environment:F.device,useAdUnitCodeAsAdUnitElementId:!0,pagetype:"game",category:"games"}},{bidder:"amx",params:{tagId:"yKyauEkOj",adUnitId:oa[F.device]["300x250"]}},{bidder:"smaato",params:{publisherId:ia,adspaceId:aa[F.device]["300x250"]}},{bidder:"yieldmo",params:{placementId:ra[F.device]["300x250"]}},{bidder:"unruly",params:{siteId:sa[F.device]["300x250"]}},{bidder:"medianet",params:{cid:"8CU2QB97K",crid:da[F.device]["300x250"]}},...Ta()?[...Fn.includes(F.country)?[{bidder:"appnexus_s2s",bidSource:{server:0,client:100},params:{placementId:ga[F.device]["300x250"]}}]:[],{bidder:"openx_s2s",params:{delDomain:"poki-d.openx.net",unit:va[F.device]["300x250"]}},{bidder:"ix_s2s",params:{siteId:ma[F.device]["300x250"]}},{bidder:"pubmatic_s2s",params:{publisherId:"156838",adSlot:Aa[F.device]["300x250"],bcat:Qa}},{bidder:"rubicon_s2s",params:{accountId:18608,siteId:551606,zoneId:pa[F.device]["300x250"],bcat:Qa}},{bidder:"onetag_s2s",params:{pubId:"6da09f566a9dc06",ext:{placement_name:ha[F.device]["300x250"]}}},{bidder:"richaudience_s2s",params:{pid:ua[F.device]["300x250"],supplyType:"site"}},{bidder:"sharethrough_s2s",params:{pkey:la[F.device]["300x250"],bcat:Qa}},{bidder:"triplelift_s2s",params:{inventoryCode:ca[F.device]["300x250"]}},{bidder:"amx_s2s",params:{tagId:"yKyauEkOj",adUnitId:`PBS_${oa[F.device]["300x250"]}`}},{bidder:"smaato_s2s",params:{publisherId:na,adspaceId:wa[F.device]["300x250"]}},{bidder:"yieldmo_s2s",params:{placementId:ba[F.device]["300x250"]}},{bidder:"unruly_s2s",params:{siteId:fa[F.device]["300x250"]}},{bidder:"medianet_s2s",params:{cid:"8CU2QB97K",crid:ka[F.device]["300x250"]}}]:[]]},{code:n["970x250"],mediaTypes:{banner:{sizes:[[970,250]]}},ortb2Imp:{battr:[6,7]},bids:[...Fn.includes(F.country)?[{bidder:"appnexus",params:{placementId:Qn[F.device]["970x250"]}}]:[],{bidder:"openx",params:{delDomain:"poki-d.openx.net",unit:Zn[F.device]["970x250"]}},{bidder:"ix",params:{siteId:qn[F.device]["970x250"]}},{bidder:"pubmatic",params:{publisherId:"156838",adSlot:Vn[F.device]["970x250"],bcat:Qa}},{bidder:"rubicon",params:{accountId:18608,siteId:498726,zoneId:Hn[F.device]["970x250"],bcat:Qa}},{bidder:"onetag",params:{pubId:"6da09f566a9dc06",ext:{placement_name:Wn[F.device]["970x250"]}}},{bidder:"richaudience",params:{pid:Kn[F.device]["970x250"],supplyType:"site"}},{bidder:"sharethrough",params:{pkey:Gn[F.device]["970x250"],bcat:Qa}},{bidder:"triplelift",params:{inventoryCode:ta[F.device]["970x250"]}},{bidder:"adagio",params:{organizationId:"1155",site:"poki-com",placement:$n[F.device]["970x250"],environment:F.device,useAdUnitCodeAsAdUnitElementId:!0,pagetype:"game",category:"games"}},{bidder:"amx",params:{tagId:"yKyauEkOj",adUnitId:oa[F.device]["970x250"]}},{bidder:"smaato",params:{publisherId:ia,adspaceId:aa[F.device]["970x250"]}},{bidder:"yieldmo",params:{placementId:ra[F.device]["970x250"]}},{bidder:"unruly",params:{siteId:sa[F.device]["970x250"]}},{bidder:"medianet",params:{cid:"8CU2QB97K",crid:da[F.device]["970x250"]}},...Ta()?[...Fn.includes(F.country)?[{bidder:"appnexus_s2s",bidSource:{server:0,client:100},params:{placementId:ga[F.device]["970x250"]}}]:[],{bidder:"openx_s2s",params:{delDomain:"poki-d.openx.net",unit:va[F.device]["970x250"]}},{bidder:"ix_s2s",params:{siteId:ma[F.device]["970x250"]}},{bidder:"pubmatic_s2s",params:{publisherId:"156838",adSlot:Aa[F.device]["970x250"],bcat:Qa}},{bidder:"rubicon_s2s",params:{accountId:18608,siteId:551606,zoneId:pa[F.device]["970x250"],bcat:Qa}},{bidder:"onetag_s2s",params:{pubId:"6da09f566a9dc06",ext:{placement_name:ha[F.device]["970x250"]}}},{bidder:"richaudience_s2s",params:{pid:ua[F.device]["970x250"],supplyType:"site"}},{bidder:"sharethrough_s2s",params:{pkey:la[F.device]["970x250"],bcat:Qa}},{bidder:"triplelift_s2s",params:{inventoryCode:ca[F.device]["970x250"]}},{bidder:"amx_s2s",params:{tagId:"yKyauEkOj",adUnitId:`PBS_${oa[F.device]["970x250"]}`}},{bidder:"smaato_s2s",params:{publisherId:na,adspaceId:wa[F.device]["970x250"]}},{bidder:"yieldmo_s2s",params:{placementId:ba[F.device]["970x250"]}},{bidder:"unruly_s2s",params:{siteId:fa[F.device]["970x250"]}},{bidder:"medianet_s2s",params:{cid:"8CU2QB97K",crid:ka[F.device]["970x250"]}}]:[]]},{code:n["160x600"],mediaTypes:{banner:{sizes:[[160,600]]}},ortb2Imp:{battr:[6,7]},bids:[...Fn.includes(F.country)?[{bidder:"appnexus",params:{placementId:Qn[F.device]["160x600"]}}]:[],{bidder:"openx",params:{delDomain:"poki-d.openx.net",unit:Zn[F.device]["160x600"]}},{bidder:"ix",params:{siteId:qn[F.device]["160x600"]}},{bidder:"pubmatic",params:{publisherId:"156838",adSlot:Vn[F.device]["160x600"],bcat:Qa}},{bidder:"rubicon",params:{accountId:18608,siteId:498726,zoneId:Hn[F.device]["160x600"],bcat:Qa}},{bidder:"onetag",params:{pubId:"6da09f566a9dc06",ext:{placement_name:Wn[F.device]["160x600"]}}},{bidder:"richaudience",params:{pid:Kn[F.device]["160x600"],supplyType:"site"}},{bidder:"sharethrough",params:{pkey:Gn[F.device]["160x600"],bcat:Qa}},{bidder:"triplelift",params:{inventoryCode:ta[F.device]["160x600"]}},{bidder:"adagio",params:{organizationId:"1155",site:"poki-com",placement:$n[F.device]["160x600"],environment:F.device,useAdUnitCodeAsAdUnitElementId:!0,pagetype:"game",category:"games"}},{bidder:"amx",params:{tagId:"yKyauEkOj",adUnitId:oa[F.device]["160x600"]}},{bidder:"smaato",params:{publisherId:ia,adspaceId:aa[F.device]["160x600"]}},{bidder:"yieldmo",params:{placementId:ra[F.device]["160x600"]}},{bidder:"unruly",params:{siteId:sa[F.device]["160x600"]}},{bidder:"medianet",params:{cid:"8CU2QB97K",crid:da[F.device]["160x600"]}},...Ta()?[...Fn.includes(F.country)?[{bidder:"appnexus_s2s",bidSource:{server:0,client:100},params:{placementId:ga[F.device]["160x600"]}}]:[],{bidder:"openx_s2s",params:{delDomain:"poki-d.openx.net",unit:va[F.device]["160x600"]}},{bidder:"ix_s2s",params:{siteId:ma[F.device]["160x600"]}},{bidder:"pubmatic_s2s",params:{publisherId:"156838",adSlot:Aa[F.device]["160x600"],bcat:Qa}},{bidder:"rubicon_s2s",params:{accountId:18608,siteId:551606,zoneId:pa[F.device]["160x600"],bcat:Qa}},{bidder:"onetag_s2s",params:{pubId:"6da09f566a9dc06",ext:{placement_name:ha[F.device]["160x600"]}}},{bidder:"richaudience_s2s",params:{pid:ua[F.device]["160x600"],supplyType:"site"}},{bidder:"sharethrough_s2s",params:{pkey:la[F.device]["160x600"],bcat:Qa}},{bidder:"triplelift_s2s",params:{inventoryCode:ca[F.device]["160x600"]}},{bidder:"amx_s2s",params:{tagId:"yKyauEkOj",adUnitId:`PBS_${oa[F.device]["160x600"]}`}},{bidder:"smaato_s2s",params:{publisherId:na,adspaceId:wa[F.device]["160x600"]}},{bidder:"yieldmo_s2s",params:{placementId:ba[F.device]["160x600"]}},{bidder:"unruly_s2s",params:{siteId:fa[F.device]["160x600"]}},{bidder:"medianet_s2s",params:{cid:"8CU2QB97K",crid:ka[F.device]["160x600"]}}]:[]]},{code:n["320x50"],mediaTypes:{banner:{sizes:[[320,50]]}},ortb2Imp:{battr:[6,7]},bids:[...Fn.includes(F.country)?[{bidder:"appnexus",params:{placementId:Qn[F.device]["320x50"]}}]:[],{bidder:"openx",params:{delDomain:"poki-d.openx.net",unit:Zn[F.device]["320x50"]}},{bidder:"ix",params:{siteId:qn[F.device]["320x50"]}},{bidder:"pubmatic",params:{publisherId:"156838",adSlot:Vn[F.device]["320x50"],bcat:Qa}},{bidder:"rubicon",params:{accountId:18608,siteId:498726,zoneId:Hn[F.device]["320x50"],bcat:Qa}},{bidder:"onetag",params:{pubId:"6da09f566a9dc06",ext:{placement_name:Wn[F.device]["320x50"]}}},{bidder:"richaudience",params:{pid:Kn[F.device]["320x50"],supplyType:"site"}},{bidder:"sharethrough",params:{pkey:Gn[F.device]["320x50"],bcat:Qa}},{bidder:"triplelift",params:{inventoryCode:ta[F.device]["320x50"]}},{bidder:"adagio",params:{organizationId:"1155",site:"poki-com",placement:$n[F.device]["320x50"],environment:F.device,useAdUnitCodeAsAdUnitElementId:!0,pagetype:"game",category:"games"}},{bidder:"amx",params:{tagId:"yKyauEkOj",adUnitId:oa[F.device]["320x50"]}},{bidder:"smaato",params:{publisherId:ia,adspaceId:aa[F.device]["320x50"]}},{bidder:"yieldmo",params:{placementId:ra[F.device]["320x50"]}},{bidder:"unruly",params:{siteId:sa[F.device]["320x50"]}},{bidder:"medianet",params:{cid:"8CU2QB97K",crid:da[F.device]["320x50"]}},...Ta()?[...Fn.includes(F.country)?[{bidder:"appnexus_s2s",bidSource:{server:0,client:100},params:{placementId:ga[F.device]["320x50"]}}]:[],{bidder:"openx_s2s",params:{delDomain:"poki-d.openx.net",unit:va[F.device]["320x50"]}},{bidder:"ix_s2s",params:{siteId:ma[F.device]["320x50"]}},{bidder:"pubmatic_s2s",params:{publisherId:"156838",adSlot:Aa[F.device]["320x50"],bcat:Qa}},{bidder:"rubicon_s2s",params:{accountId:18608,siteId:551606,zoneId:pa[F.device]["320x50"],bcat:Qa}},{bidder:"onetag_s2s",params:{pubId:"6da09f566a9dc06",ext:{placement_name:ha[F.device]["320x50"]}}},{bidder:"richaudience_s2s",params:{pid:ua[F.device]["320x50"],supplyType:"site"}},{bidder:"sharethrough_s2s",params:{pkey:la[F.device]["320x50"],bcat:Qa}},{bidder:"triplelift_s2s",params:{inventoryCode:ca[F.device]["320x50"]}},{bidder:"amx_s2s",params:{tagId:"yKyauEkOj",adUnitId:`PBS_${oa[F.device]["320x50"]}`}},{bidder:"smaato_s2s",params:{publisherId:na,adspaceId:wa[F.device]["320x50"]}},{bidder:"yieldmo_s2s",params:{placementId:ba[F.device]["320x50"]}},{bidder:"unruly_s2s",params:{siteId:fa[F.device]["320x50"]}},{bidder:"medianet_s2s",params:{cid:"8CU2QB97K",crid:ka[F.device]["320x50"]}}]:[]]},{code:n["728x90_external"],mediaTypes:{banner:{sizes:[[728,90]]}},ortb2Imp:{battr:[6,7]},bids:[...Fn.includes(F.country)?[{bidder:"appnexus",params:{placementId:"20973406"}}]:[],{bidder:"openx",params:{unit:"543885656",delDomain:"poki-d.openx.net"}},{bidder:"ix",params:{siteId:"268177",placementId:"625562",size:[728,90]}},{bidder:"pubmatic",params:{publisherId:"156838",adSlot:"3457872",bcat:Qa}},{bidder:"rubicon",params:{accountId:18608,siteId:"362566",zoneId:"1962680-2",bcat:Qa}},{bidder:"onetag",params:{pubId:"6da09f566a9dc06"}},{bidder:"richaudience",params:{pid:"MP_gIE1VDieUi",supplyType:"site"}},{bidder:"sharethrough",params:{pkey:ea,bcat:Qa}},{bidder:"triplelift",params:{inventoryCode:"Poki_728x90_Prebid"}},{bidder:"adagio",params:{organizationId:"1155",site:s,placement:`external_${F.device}_display_ingame`,environment:F.device,useAdUnitCodeAsAdUnitElementId:!0,pagetype:"game",category:"games"}},{bidder:"amx",params:{tagId:"yKyauEkOj",adUnitId:`${oa[F.device]["728x90"]}_external`}},{bidder:"smaato",params:{publisherId:ia,adspaceId:aa[F.device]["728x90"]}},{bidder:"yieldmo",params:{placementId:ra[F.device]["728x90"]}},{bidder:"unruly",params:{siteId:sa[F.device]["728x90"]}},{bidder:"medianet",params:{cid:"8CU2QB97K",crid:da[F.device]["728x90"]}}]},{code:n["300x250_external"],mediaTypes:{banner:{sizes:[[300,250]]}},ortb2Imp:{battr:[6,7]},bids:[...Fn.includes(F.country)?[{bidder:"appnexus",params:{placementId:"20973408"}}]:[],{bidder:"openx",params:{unit:"543885657",delDomain:"poki-d.openx.net"}},{bidder:"ix",params:{siteId:"625564",size:[300,250]}},{bidder:"pubmatic",params:{publisherId:"156838",adSlot:"3457874",bcat:Qa}},{bidder:"rubicon",params:{accountId:18608,siteId:"362566",zoneId:"1962680-15",bcat:Qa}},{bidder:"onetag",params:{pubId:"6da09f566a9dc06"}},{bidder:"richaudience",params:{pid:"MP_gIE1VDieUi",supplyType:"site"}},{bidder:"sharethrough",params:{pkey:Jn,bcat:Qa}},{bidder:"triplelift",params:{inventoryCode:"Poki_300x250_Prebid"}},{bidder:"adagio",params:{organizationId:"1155",site:s,placement:`external_${F.device}_display_ingame`,environment:F.device,useAdUnitCodeAsAdUnitElementId:!0,pagetype:"game",category:"games"}},{bidder:"amx",params:{tagId:"yKyauEkOj",adUnitId:`${oa[F.device]["300x250"]}_external`}},{bidder:"smaato",params:{publisherId:ia,adspaceId:aa[F.device]["300x250"]}},{bidder:"yieldmo",params:{placementId:ra[F.device]["300x250"]}},{bidder:"unruly",params:{siteId:sa[F.device]["300x250"]}},{bidder:"medianet",params:{cid:"8CU2QB97K",crid:da[F.device]["300x250"]}}]},{code:n["970x250_external"],mediaTypes:{banner:{sizes:[[970,250]]}},ortb2Imp:{battr:[6,7]},bids:[...Fn.includes(F.country)?[{bidder:"appnexus",params:{placementId:"20973415"}}]:[],{bidder:"openx",params:{unit:"543885650",delDomain:"poki-d.openx.net"}},{bidder:"ix",params:{siteId:"625560",size:[970,250]}},{bidder:"pubmatic",params:{publisherId:"156838",adSlot:"3457879",bcat:Qa}},{bidder:"rubicon",params:{accountId:18608,siteId:"362566",zoneId:"1962680-57",bcat:Qa}},{bidder:"onetag",params:{pubId:"6da09f566a9dc06"}},{bidder:"richaudience",params:{pid:"MP_gIE1VDieUi",supplyType:"site"}},{bidder:"sharethrough",params:{pkey:Yn,bcat:Qa}},{bidder:"triplelift",params:{inventoryCode:"Poki_970x250_Prebid"}},{bidder:"adagio",params:{organizationId:"1155",site:s,placement:`external_${F.device}_display_ingame`,environment:F.device,useAdUnitCodeAsAdUnitElementId:!0,pagetype:"game",category:"games"}},{bidder:"amx",params:{tagId:"yKyauEkOj",adUnitId:`${oa[F.device]["970x250"]}_external`}},{bidder:"smaato",params:{publisherId:ia,adspaceId:aa[F.device]["970x250"]}},{bidder:"yieldmo",params:{placementId:ra[F.device]["970x250"]}},{bidder:"unruly",params:{siteId:sa[F.device]["970x250"]}},{bidder:"medianet",params:{cid:"8CU2QB97K",crid:da[F.device]["970x250"]}}]},{code:n["160x600_external"],mediaTypes:{banner:{sizes:[[160,600]]}},ortb2Imp:{battr:[6,7]},bids:[...Fn.includes(F.country)?[{bidder:"appnexus",params:{placementId:"20973407"}}]:[],{bidder:"openx",params:{unit:"543885653",delDomain:"poki-d.openx.net"}},{bidder:"ix",params:{siteId:"625563",size:[160,600]}},{bidder:"pubmatic",params:{publisherId:"156838",adSlot:"3457877",bcat:Qa}},{bidder:"rubicon",params:{accountId:18608,siteId:"362566",zoneId:"1962680-9",bcat:Qa}},{bidder:"onetag",params:{pubId:"6da09f566a9dc06"}},{bidder:"richaudience",params:{pid:"MP_gIE1VDieUi",supplyType:"site"}},{bidder:"sharethrough",params:{pkey:Xn,bcat:Qa}},{bidder:"triplelift",params:{inventoryCode:"Poki_160x600_Prebid"}},{bidder:"adagio",params:{organizationId:"1155",site:s,placement:`external_${F.device}_display_ingame`,environment:F.device,useAdUnitCodeAsAdUnitElementId:!0,pagetype:"game",category:"games"}},{bidder:"amx",params:{tagId:"yKyauEkOj",adUnitId:`${oa[F.device]["160x600"]}_external`}},{bidder:"smaato",params:{publisherId:ia,adspaceId:aa[F.device]["160x600"]}},{bidder:"yieldmo",params:{placementId:ra[F.device]["160x600"]}},{bidder:"unruly",params:{siteId:sa[F.device]["160x600"]}},{bidder:"medianet",params:{cid:"8CU2QB97K",crid:da[F.device]["160x600"]}}]},{code:n["320x50_external"],mediaTypes:{banner:{sizes:[[320,50]]}},ortb2Imp:{battr:[6,7]},bids:[...Fn.includes(F.country)?[{bidder:"appnexus",params:{placementId:"20973413"}}]:[],{bidder:"openx",params:{unit:"543885649",delDomain:"poki-d.openx.net"}},{bidder:"ix",params:{siteId:"625559",size:[320,50]}},{bidder:"pubmatic",params:{publisherId:"156838",adSlot:"3457875",bcat:Qa}},{bidder:"rubicon",params:{accountId:18608,siteId:"362566",zoneId:"1962680-43",bcat:Qa}},{bidder:"onetag",params:{pubId:"6da09f566a9dc06"}},{bidder:"richaudience",params:{pid:"MP_gIE1VDieUi",supplyType:"site"}},{bidder:"sharethrough",params:{pkey:Jn,bcat:Qa}},{bidder:"triplelift",params:{inventoryCode:"Poki_320x50_Prebid"}},{bidder:"adagio",params:{organizationId:"1155",site:s,placement:`external_${F.device}_display_ingame`,environment:F.device,useAdUnitCodeAsAdUnitElementId:!0,pagetype:"game",category:"games"}},{bidder:"amx",params:{tagId:"yKyauEkOj",adUnitId:`${oa[F.device]["320x50"]}_external`}},{bidder:"smaato",params:{publisherId:ia,adspaceId:aa[F.device]["320x50"]}},{bidder:"yieldmo",params:{placementId:ra[F.device]["320x50"]}},{bidder:"unruly",params:{siteId:sa[F.device]["320x50"]}},{bidder:"medianet",params:{cid:"8CU2QB97K",crid:da[F.device]["320x50"]}}]},{code:n["300x600_external_platform"],mediaTypes:{banner:{sizes:[[300,600]]}},ortb2Imp:{battr:[6,7]},bids:[{bidder:"onetag",params:{pubId:"6da09f566a9dc06"}},{bidder:"richaudience",params:{pid:"MP_gIE1VDieUi",supplyType:"site"}},{bidder:"triplelift",params:{inventoryCode:"Poki_300x600_Prebid"}},{bidder:"adagio",params:{organizationId:"1155",site:s,placement:`external_${F.device}_display_ingame`,environment:F.device,useAdUnitCodeAsAdUnitElementId:!0,pagetype:"game",category:"games"}}]}],c={buckets:[{precision:2,max:5.6,increment:.01},{precision:2,max:20,increment:.05},{precision:2,max:45,increment:.5}]},l=c,p={debug:!1,enableSendAllBids:!1,usePrebidCache:!0,deviceAccess:!0,bidderTimeout:"desktop"===F.device?1875:1500,enableTIDs:!0,eventHistoryTTL:90,minBidCacheTTL:90,mediaTypePriceGranularity:{video:c,banner:l},currency:{adServerCurrency:"EUR",defaultRates:{EUR:{EUR:1,GBP:.84,USD:1.02},GBP:{EUR:1.2,GBP:1,USD:1.22},USD:{EUR:.98,GBP:.82,USD:1}}},cache:{url:"https://prebid.adnxs.com/pbc/v1/cache",ignoreBidderCacheKey:!0},targetingControls:{allowTargetingKeys:["BIDDER","AD_ID","PRICE_BUCKET","SIZE","DEAL","SOURCE","FORMAT","UUID","CACHE_ID","CACHE_HOST","ADOMAIN"],allowSendAllBidsTargetingKeys:["BIDDER","AD_ID","PRICE_BUCKET","SIZE","DEAL","SOURCE","FORMAT","UUID","CACHE_ID","CACHE_HOST","ADOMAIN"]},ortb2:{site:{name:"Poki",page:En()},device:{...window.innerWidth&&window.innerHeight?{w:window.innerWidth,h:window.innerHeight}:{}},bcat:Qa},debugging:Ka,pageUrl:En(),realTimeData:{dataProviders:[{name:"adagio",params:{organizationId:"1155",site:"poki-com"}}]},userSync:{filterSettings:{all:{bidders:"*",filter:"include"}},syncsPerBidder:1e3,syncDelay:100,userIds:[{name:"pubCommonId",storage:{type:"cookie",name:"poki_pubcid",expires:180}}]},...F.gdprApplies?{consentManagement:{gdpr:{cmpApi:"iab",timeout:8e3,defaultGdprScope:!0}}}:{},...F.ccpaApplies?{consentManagement:{usp:{cmpApi:"iab",timeout:8e3}}}:{}};window.pbjs.que.push((()=>{Xa=!0;const n={floors:{},...p,...t.config};window.pbjs.addAdUnits(((e,t)=>{const{country:i}=F,n=t?.[i];if(!n)return e;for(let t=0;t<=e.length;t++){const i=e[t],a=n[i?.mediaTypes?.video?"video":"display"]||{};for(let n=(i?.bids?.length||0)-1;n>=0;n--){const o=i.bids[n],r=Math.random();a[o.bidder]&&r>a[o.bidder]&&e[t].bids.splice(n,1)}}return e})(t.adUnits||d,i)),window.pbjs.setConfig(n),window.pbjs.setBidderConfig({bidders:["improvedigital"],config:{ortb2:{regs:{coppa:1}}}});const a=e=>(t,i,n)=>{if(n?.mediaTypes?.banner){["ix","richaudience","pubmatic","sharethrough"].includes(e)&&(t*=.95)}return F.forceBidder===e&&(t=45),t};window.pbjs.bidderSettings={standard:{storageAllowed:!0},appnexus:{bidCpmAdjustment:a("appnexus")},openx:{bidCpmAdjustment:a("openx")},ix:{bidCpmAdjustment:a("ix")},richaudience:{bidCpmAdjustment:a("richaudience")},onetag:{bidCpmAdjustment:a("onetag")},rubicon:{bidCpmAdjustment:a("rubicon")},pubmatic:{bidCpmAdjustment:a("pubmatic")},sharethrough:{bidCpmAdjustment:a("sharethrough")},triplelift:{bidCpmAdjustment:a("triplelift")},adagio:{bidCpmAdjustment:a("adagio")}},window.pbjs.onEvent("bidAdjustment",(e=>{e&&function(e){let t=e?.meta?.advertiserDomains?.find(On);return!t&&"richaudience"===e.bidderCode&&On(e?.meta)&&(t=e.meta),!!t&&(Mn||(Mn=[]),Mn.push(`${e.bidder}:${t}:${e?.cpm.toFixed(4)}:${e?.meta?.primaryCatId||"-"}`),console.warn("%cPOKI:%c blocked ad: ","font-weight: bold","",e),!0)}(e)&&(e.ttl=0)})),void 0!==window.pbjs&&(window.pbjs.onEvent("bidAdjustment",(e=>{qa(e)})),K.addEventListener(e.ads.loaded,Va),K.addEventListener(e.ads.video.error,(()=>{const e=K.getVideoDataAnnotations()?.adID;try{window.pbjs.markWinningBidAsUsed({adId:e})}catch(e){Bi("Error marking winning bid as used",e)}})))}))},io=["AU","CA","IE","NZ","US","GB"];function no(){const{country:e}=F;return"US"===e?1.49:io.includes(e)?.49:.15}function ao(t,i,n,a,o,r){const s=O(),d=o?"nope":i,c=En(),l=a?Un:jn;let p,A=0;const m=()=>{if(A--,!(A>0))try{let a,A=d;if(Ja()){K.dispatchEvent(e.ads.prebidRequested,{blocked:Nn()});const o=window.pbjs.adUnits.filter((e=>e.code===l))[0];if("undefined"===o)return console.warn("%cPOKI:%c Video-ad-unit not found, did you give it the adunit.code='video' value?","font-weight: bold",""),void t.requestAd(d);A=window.pbjs.adServers.dfp.buildVideoUrl({adUnit:o,params:{iu:D("iu",i),sz:"640x360|640x480",output:"vast",cust_params:n,description_url:c,url:c,nofb:1,max_ad_duration:15e3}})?.replace("&max_ad_duration=15000","")?.replace("&min_ad_duration=1000","");const r=D("cust_params",A),s=decodeURIComponent(r);if(D("hb_pb",s)){const e=window.pbjs.getHighestCpmBids(l);e.length>0&&(a=e[0])}const p=function(e,t){if(Da()&&Pa?.contentWindow?.floorModuleLoaded)try{return Pa.contentWindow.assertive?.getAdServerFloorTargeting?.(e,t)}catch(e){console.warn("%cPOKI:%c error getting dynamic video floors GAM criteria:","font-weight: bold","",e)}}(l,a);if(p){console.info("%cPOKI:%c [AY] GAM prebid floor criteria","font-weight: bold","",p);const e=Cn({...p})?.replace("&cust_params=","");A=A.replace("cust_params=",`cust_params=${e}%26`)}if(a){let e=a.meta?.advertiserDomains?.join(",");"richaudience"===a.bidderCode&&(e=a.meta),K.addVideoDataAnnotations({adID:a.adId,adDomain:e,HBAdDomain:e,HBBidder:a.bidderCode,HBAdId:a.adId,HBCreativeId:a.creativeId,HBSource:a.source,HBCPM:a.cpm}),Math.random()<.01&&K.addVideoDataAnnotations({HBVastXML:JSON.stringify(a.vastXml),HBVastUrl:a.vastUrl})}}if(p){p.startsWith("%26")&&(p=p.substring(3));const e=decodeURIComponent(p),t=D("amznp",e);"8iam0w"===t&&("mobile"===s||"tablet"===s)||(A=A.replace("cust_params=",`cust_params=${p}%26`)),K.addVideoDataAnnotations({APSBidder:Dn(t)})}if(o){if(p){const e=function(e){const t=decodeURIComponent(e),i=D("amznbid",t);if(!i)return null;const n=Pn[i];return n?{bid:n,vast:`https://aax.amazon-adsystem.com/e/dtb/vast?b=${D("amzniid",t)}&rnd=${Math.round(1e10*Math.random())}&pp=${i}`}:null}(p);e&&(!a||!a.videoCacheKey||a.cpm<e.bid)&&(a={cpm:e.bid,vast:e.vast,bidder:"amazon",videoCacheKey:"amazon"})}if(1===r||a&&a.videoCacheKey&&!(a.cpm<no())||(a={cpm:no(),vast:"https://api.poki.com/ads/houseads/video/vast",bidder:"poki",videoCacheKey:"poki"}),!a||!a.videoCacheKey)return void K.dispatchEvent(1===r?e.ads.video.error:e.ads.completed,{rewardAllowed:!1});switch(a.bidder){case"onetag":A=`https://onetag-sys.com/invocation/?key=${a.videoCacheKey}`;break;case"rubicon":A=`https://prebid-server.rubiconproject.com/cache?uuid=${a.videoCacheKey}`;break;case"spotx":A=`https://search.spotxchange.com/ad/vast.html?key=${a.videoCacheKey}`;break;case"amazon":case"poki":A=a.vast;break;default:A=`https://prebid.adnxs.com/pbc/v1/cache?uuid=${a.videoCacheKey}`}Q({event:"video-ready",bidder:a?.bidder,bid:a?.cpm}),K.addVideoDataAnnotations({p4d_game_id:F.gameID,p4d_version_id:F.versionID,bidder:a?.bidder,bid:a?.cpm})}K.addVideoDataAnnotations({pokiAdServer:o,adTagUrl:A}),a?K.addVideoDataAnnotations({prebidBidder:a?.bidder,prebidBid:a?.cpm}):K.addVideoDataAnnotations({prebidBidder:void 0,prebidBid:void 0}),t.requestAd(A)}catch{t.requestAd(d)}};if(Ya()&&A++,Ja()&&A++,Ya())try{let e="desktop_ingame_midroll_1";a&&(e="desktop"===s?"desktop_ingame_roll_1":"mobile_ingame_roll_1");let t=[{slotID:e,mediaType:"video"}];Ma()&&(t=window?.assertive?.addAmazonFloors?.(t)),window.apstag.fetchBids({slots:t,timeout:1500},(e=>{e.length>0&&(p=e[0].encodedQsParams),m()}))}catch{m()}o&&Q({event:"video-request"}),Ja()&&window.pbjs.que.push((()=>{const e=function(e){if(Da()&&Pa?.contentWindow?.floorModuleLoaded)try{return Pa.contentWindow.assertive?.getPrebidFloor?.(e)}catch(e){console.warn("%cPOKI:%c error getting dynamic video floors:","font-weight: bold","",e)}}(l),t=window.pbjs.adUnits.filter((e=>e.code===l))[0];e&&(console.info("%cPOKI:%c [AY] applied prebid floor to Prebid","font-weight: bold","",e),t.floors={currency:"USD",schema:{delimiter:"|",fields:["mediaType"]},values:{"*":e}}),window.pbjs.requestBids({adUnits:[t],bidsBackHandler:()=>{m()}})})),Ya()||Ja()||m()}function oo(){return!("yes"!==D("poki-ad-server"))&&(console.info("%cPOKI:%c Only running Poki-ad-server","font-weight: bold",""),!0)}let ro,so=!1;const{testVideos:co,device:lo}=F,po=()=>co?"/6062/sanghan_rweb_ad_unit":`/21682198607/${lo}_ingame_rewarded_google/${F.siteID}_${lo}_ingame_rewarded_google`,Ao=t=>{"desktop"===lo||document?.fullscreenElement?K.dispatchEvent(e.ads.video.startHouseAdFlow):window.googletag.cmd.push((()=>{pn.track(e.tracking.ads.rewardedWeb.request),(e=>{googletag.defineOutOfPageSlot&&(ro&&googletag.destroySlots([ro]),ro=googletag.defineOutOfPageSlot(po(),googletag.enums.OutOfPageFormat.REWARDED).addService(googletag.pubads()),googletag.enableServices(),Object.keys(e).forEach((t=>{const i=e[t];""!==i&&ro?.setTargeting?.(t,i)})))})(t),ro?window.googletag.cmd.push((()=>{window.googletag.display(ro)})):K.dispatchEvent(e.ads.video.startHouseAdFlow)}))},mo={desktop:{[xa]:{[Ea.skyscraper]:["DZ","BO","BD","TN"],[Ea.rectangle]:["CN","BO","BD","NP","TN","DZ"],[Ea.leaderboard]:["CN","NP","PY","DZ","BO","TN"],[Ea.midroll]:["CN","PK","DZ"],[Ea.rewarded]:["CN","DZ"]},[_a]:{[Ea.leaderboard]:["DZ"]}},mobile:{[xa]:{[Ea.gamebar]:["CN","AZ","PY","PH","MA","HN","IQ","NI","RS","EC","UA","UY","AM","AL","IN","ID","DZ","EG","PK","BO","BD","LK","NP","TN"],[Ea.rewarded]:["CN"]},[_a]:{[Ea.smallLeaderboard]:["DZ"]}}};function uo(e="",t=Sa()){const{device:i,country:n}=F,a=(e=>{if(e.includes("gamebar_320x50"))return Ea.gamebar;if(e.includes(`external_${F.device}_display_platform`))return Ea.externalSkyscraper;const t=Object.keys(Ea).find((t=>!!e.includes(`_${Ea[t]}`)));return t&&"gamebar"!==t?t:(console.warn("%cPOKI:%c Unknown adunitpath or new gamebar format","font-weight: bold","",e),"")})(e);return!mo?.[i]?.[t]?.[Ea[a]]?.includes(n)}class go{#B;#T;#D;#M=0;#L=!1;timing;totalRetries;#O;#N;#R;constructor(t,i={}){this.#B=t,this.#N=oo(),this.totalRetries=i.totalRetries||In.waterfallRetries||1,this.timing=i.timing||new Sn(In.adTiming),K.addEventListener(e.ads.video.error,(()=>{this.moveThroughWaterfall()})),K.addEventListener(e.ads.video.loaderError,(()=>{this.moveThroughWaterfall()})),K.addEventListener(e.ads.ready,(()=>{this.timing.stopWaterfallTimer()})),K.addEventListener(e.ads.started,(()=>{this.stopWaterfall()})),K.addEventListener(e.ads.video.startHouseAdFlow,(()=>{this.startHouseAdFlow()}))}moveThroughWaterfall(){if(this.#R)return this.#R=!1,void K.dispatchEvent(e.ads.error,{rewardAllowed:!1});!1!==this.#L&&(this.timing.stopWaterfallTimer(),this.#M<this.totalRetries?this.requestAd():(this.#L=!1,this.#O?Ao(this.#D):K.dispatchEvent(e.ads.error,{})))}cutOffWaterfall(){this.#B.tearDown(),this.moveThroughWaterfall()}startHouseAdFlow(){const e="https://api.poki.com/ads/houseads/video/vast";K.addVideoDataAnnotations({pokiAdServer:!0,adTagUrl:e,bidder:"poki",bid:0}),Q({event:"video-request"}),this.#B.requestAd(e),this.#R=!0}start(t={},i){this.#L=!0,this.#M=0,this.#D=t,this.#O=i===e.ads.position.rewarded,this.#T=(t=>{const{device:i}=F;let n="midroll";if(D("noFill")||H.debug)return["junk","junk"];t===e.ads.position.rewarded&&(n="rewarded");const a="/21682198607/";return Sa()===Ia?[`${a}external_${i}_video_1/external_${i}_ingame_${n}_1`,`${a}external_${i}_video_2/external_${i}_ingame_${n}_2`]:[`${a}${i}_ingame_${n}_1/${F.siteID}_${i}_ingame_${n}_1`,`${a}${i}_ingame_${n}_2/${F.siteID}_${i}_ingame_${n}_2`]})(i),this.requestAd()}requestAd(){this.timing.startWaterfallTimer((()=>{this.cutOffWaterfall()})),this.#M++,this.#D.waterfall=this.#M,this.#R=!1;const t=(this.#M-1)%this.#T.length,i=this.#T[t];let n=`https://securepubads.g.doubleclick.net/gampad/ads?sz=640x360|640x480&iu=${i}&ciu_szs&impl=s&gdfp_req=1&env=vp&output=xml_vast4`;F.familyFriendly&&(n+="&tfcd=1&tfua=1&rdp=1&npa=1"),F.nonPersonalized&&(n+="&npa=1"),n+="&unviewed_position_start=1&url={url}&description_url={descriptionUrl}&correlator={timestamp}&nofb=1";const a=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)>970;this.#D.ay_hb_house=1,this.#D.billboards_fit=a?"yes":"no",this.#D.page_has_lead=null!==document.getElementById(`/21682198607/desktop_gp_728x90/${F.siteID}_desktop_gp_728x90`)?.offsetParent?"yes":"no";const o=(e=>{const t=encodeURIComponent(En());return(e=(e=e.split("{url}").join(t)).split("{descriptionUrl}").join(t)).split("{timestamp}").join((new Date).getTime().toString())})(n)+Cn(this.#D),r=uo(i);K.addVideoDataAnnotations({adUnitPath:i,adTagUrl:o,waterfall:this.#M,size:"640x360v",ab:this.#D.ab,headerBiddingAllowed:r}),K.dispatchEvent(e.ads.requested),F.googlePreview?(Ci(`requesting video ad for google preview (${this.#M}/${this.totalRetries} tries)`),this.#B.requestAd(o)):H.debug||F.houseAdsOnly?(Ci(`requesting video ad in house-ad mode (${this.#M}/${this.totalRetries} tries)`),this.startHouseAdFlow()):this.#N?(Ci(`requesting video ad with Poki Adserver (${this.#M}/${this.totalRetries} tries)`),ao(this.#B,o,this.#D,this.#O,!0,this.#M)):r&&1===this.#M?(Ci(`requesting video ad with Prebid Video enabled (${this.#M}/${this.totalRetries} tries)`),ao(this.#B,o,this.#D,this.#O,!1,this.#M)):(Ci(`requesting video ad in plain mode (${this.#M}/${this.totalRetries} tries)`),this.#B.requestAd(o))}isRunning(){return this.#L}stopWaterfall(){this.#L=!1,this.timing.stopWaterfallTimer()}}class ho{#z;#U;#j;#F;#G;#H;#V;#q;#K;#Q;currentProgress;constructor(t){this.#H=[],this.#z=t,this.reset(),K.addEventListener(e.ads.video.progress,(e=>{const t=100-this.currentProgress,i=e.currentTime/e.duration*t;i<t&&this.#z(this.currentProgress+i)})),this.initializeNoProgressFix()}queueFakeProgress(e,t,i){this.#H.push({progressToFake:e,duration:t,stopEvent:i}),K.addEventListener(i,(()=>{this.#U[i]=!0,this.currentProgress=this.#j+e,this.#j=this.currentProgress,this.#z(this.currentProgress),this.#V.shift(),this.#V.length>0?this.continue():this.pause()}))}fakeProgress(e,t,i){this.#V.push({progressToFake:e,duration:t,stopEvent:i}),this.#Q=!0,this.continue()}start(){this.#V.length>0||(this.#V=[...this.#H],this.#K=!0,this.continue())}continue(){if(this.#V.length>0&&!this.#G){this.#F=Date.now();const e=50;this.#G=window.setInterval(this.tick.bind(this),e),this.#K=!0}}pause(){this.clearInterval()}tick(){const t=this.#V[0],i=Date.now()-this.#F,n=Math.min(i/t.duration,1);this.currentProgress=this.#j+t.progressToFake*n,this.#Q&&K.dispatchEvent(e.ads.video.progress,{duration:t.duration/1e3,currentTime:i/1e3}),this.#z(this.currentProgress),(this.#U[t.stopEvent]||1===n)&&this.pause()}clearInterval(){this.#G&&(clearInterval(this.#G),this.#G=0)}initializeNoProgressFix(){K.addEventListener(e.ads.started,(t=>{this.#q=window.setTimeout((()=>{if(this.#K){const i=100-this.currentProgress,n=1e3*t.duration-1e3;this.fakeProgress(i,n,e.ads.completed)}}),1e3)})),K.addEventListener(e.ads.video.progress,(()=>{this.#q&&(clearTimeout(this.#q),this.#q=0)}))}reset(){this.#U={},this.#j=0,this.#F=0,this.currentProgress=0,this.#V=[],this.#K=!1,this.#Q=!1,this.clearInterval()}fakeItTillTheEnd(t){const i=100-this.currentProgress;this.fakeProgress(i,1e3*t,e.ads.completed)}}let vo;async function wo(){if("undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().includes("bytedancewebview"))return!0;if(!vo){vo=document.createElement("video"),vo.setAttribute("playsinline","playsinline");const e=document.createElement("source");e.src="data:video/mp4;base64, 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",vo.appendChild(e)}try{return await vo.play(),!0}catch{return!1}}function bo(e){e.classList.add(mt),e.classList.remove(xt)}function fo(e){e.classList.add(xt),e.classList.remove(mt)}class yo{#W;#$;#Z;#X;#Y;#J;#ee;#te;#ie;#ne;#ae;#oe;#re;#se;#de;constructor(t){if(this.#re=new ho((e=>this.updateProgressBar(e))),this.#re.queueFakeProgress(20,2e3,e.ads.started),this.#ce(t.wrapper),"undefined"!=typeof window&&document){const e=document.createElement("style");e.innerHTML=Et,document.head.appendChild(e)}}updateProgressBar(e){this.#ie.style.width=`${e}%`}setupEvents(e){this.#X=e}hide(){this.#se?.(),bo(this.#$),bo(this.#ne),this.hidePauseButton(),bo(this.#te),bo(this.#de),this.#$.classList.remove(At),this.#ie.style.width="0%",this.#re.reset()}hideSpinner(){bo(this.#ae)}show(){this.#$.classList.add(At),fo(this.#$),fo(this.#ae),fo(this.#ne),this.#re.start()}getVideoBounds(){return this.#W.getBoundingClientRect()}getAdContainer(){return this.#W}getVideoContainer(){return this.#oe}showPauseButton(){fo(this.#Y),this.#X&&this.#Y.addEventListener("click",(()=>{this.#X.resumeAd()}))}hidePauseButton(){bo(this.#Y),this.#X&&this.#Y.removeEventListener("click",(()=>{this.#X.resumeAd()}))}showStartAdButton(){fo(this.#te),this.#X&&this.#te.addEventListener("click",(()=>{this.#X.startAdClicked()}))}hideStartAdButton(){bo(this.#te),this.#X&&this.#te.removeEventListener("click",(()=>{this.#X.startAdClicked()}))}#ce(e){this.#$=document.createElement("div"),this.#Z=document.createElement("div"),this.#Y=document.createElement("div"),this.#J=document.createElement("div"),this.#ee=document.createElement("div"),this.#te=document.createElement("div"),this.#ie=document.createElement("div"),this.#ne=document.createElement("div"),this.#ae=document.createElement("div"),this.#W=document.createElement("div"),this.#oe=document.createElement("video"),this.#de=document.createElement("div"),this.#W.id="pokiSDKAdContainer",this.#oe.id="pokiSDKVideoContainer",this.#$.className=lt,this.#Z.className=ut,this.#Y.className=gt,this.#J.className=ht,this.#ee.className=vt,this.#Y.appendChild(this.#J),this.#Y.appendChild(this.#ee),this.#te.className=wt,this.#te.innerHTML="Tap anywhere to play ad",this.#ie.className=bt,this.#ne.className=ft,this.#ae.className=yt,this.#W.className=_t,this.#oe.className=kt,this.#de.className=St,this.hide(),this.#oe.setAttribute("playsinline","playsinline"),this.#oe.setAttribute("muted","muted"),this.#$.appendChild(this.#Z),this.#$.appendChild(this.#ae),this.#$.appendChild(this.#de),this.#Z.appendChild(this.#ne),this.#Z.appendChild(this.#oe),this.#Z.appendChild(this.#W),this.#$.appendChild(this.#Y),this.#$.appendChild(this.#te),this.#ne.appendChild(this.#ie);let t=e||null;const i=()=>{if(t||(t=document.body),t)if(t.appendChild(this.#$),t===document.body)this.#$.classList.add(pt);else{const e=window.getComputedStyle(t).position;e&&-1!==["absolute","fixed","relative"].indexOf(e)||(t.style.position="relative")}else window.requestAnimationFrame(i)};!t||t instanceof HTMLElement||(t=null,console.warn("%cPOKI:%c wrapper is not a HTMLElement, falling back to document.body","font-weight: bold","")),i()}async startNonIMAFallbackVideo(t){const i=document.createElement("video");i.id="pokiSDKHouseAdContainer",i.className=It,i.playsInline=!0,i.muted=Mt()||Lt,i.src=t.videoUrl;let n=!1;const a=()=>{t.clickThrough&&window.open(t.clickThrough),K.dispatchEvent(e.ads.video.clicked,{creativeId:"HouseAd"}),i.pause(),o()};this.#Z.addEventListener("click",a);const o=t=>{this.#se=void 0,this.hide(),this.#Z.removeChild(i),this.#Z.removeEventListener("click",a),t||K.dispatchEvent(e.ads.completed,{rewardAllowed:n})};this.#se=()=>o(!0),i.onabort=()=>o(),i.onerror=()=>o(),i.onerror=()=>o(),i.ontimeupdate=()=>{i.currentTime>=2&&(n=!0)},i.onplaying=()=>{K.dispatchEvent(e.ads.started,{creativeId:"HouseAd",duration:t.duration,skip:-1}),K.dispatchEvent(e.ads.impression),this.#re.fakeItTillTheEnd(t.duration)},i.onended=()=>{o()},this.#Z.appendChild(i);wo()||(i.muted=!0),i.play().catch((()=>o()))}setNrAds(e,t){1!==t?(fo(this.#de),this.#de.innerHTML=`Ad ${e} of ${t}`):bo(this.#de)}}class ko{adDisplayContainer;adsManager;adsLoader;videoElement;bannerTimeout=null;allowedToPlayAd=!1;runningAd=!1;completeOnce=!1;videoStarted=!1;currentWidth=640;currentHeight=480;currentRequestIsMuted=!1;volume=1;constructor(e){this.videoElement=document.getElementById("pokiSDKVideoContainer"),this.adsManager=null,this.volume=e,this.initAdDisplayContainer(),this.initAdsLoader()}initAdDisplayContainer(){this.adDisplayContainer||window.google&&(this.adDisplayContainer=new google.ima.AdDisplayContainer(document.getElementById("pokiSDKAdContainer"),this.videoElement))}initAdsLoader(){this.adsLoader||window.google&&(this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),this.adsLoader.getSettings().setDisableCustomPlaybackForIOS10Plus(!0),this.adsLoader.getSettings().setNumRedirects(8),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded,!1,this),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdLoaderError,!1,this),this.videoElement.addEventListener("onended",(()=>this.adsLoader.contentComplete())))}async requestAd(e){if(this.runningAd)return;this.runningAd=!0,this.completeOnce=!0,this.videoStarted=!1,this.adDisplayContainer.initialize(),this.videoElement.src="";const t=document?.getElementById("pokiDebugVASTResponse")?.value||"",i=new google.ima.AdsRequest;t?i.adsResponse=t:i.adTagUrl=e,i.linearAdSlotWidth=this.currentWidth,i.linearAdSlotHeight=this.currentHeight,i.nonLinearAdSlotWidth=this.currentWidth,i.nonLinearAdSlotHeight=this.currentHeight,i.forceNonLinearFullSlot=!0;await wo()?(i.setAdWillPlayMuted(!1),this.currentRequestIsMuted=!1):(i.setAdWillPlayMuted(!0),this.currentRequestIsMuted=!0),this.allowedToPlayAd=!0,this.adsLoader.requestAds(i,{adTagUrl:e})}resize(e,t){this.currentWidth=e,this.currentHeight=t,this.adsManager&&this.adsManager.resize(e,t,window?.google.ima.ViewMode.NORMAL)}onAdsManagerLoaded(t){const i=new google.ima.AdsRenderingSettings;i.enablePreloading=!0,i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i.mimeTypes=Rn()||M()||L()?["video/mp4"]:["video/mp4","video/webm","video/ogg"],i.loadVideoTimeout=8e3,this.adsManager=t.getAdsManager(this.videoElement,i),this.adsManager.setVolume(Math.max(0,Math.min(1,this.volume))),this.currentRequestIsMuted&&this.adsManager.setVolume(0),this.allowedToPlayAd?(this.attachAdEvents(),K.dispatchEvent(e.ads.ready)):this.tearDown()}setVolume(e){this.volume=e,this.adsManager&&this.adsManager.setVolume(Math.max(0,Math.min(1,this.volume)))}startPlayback(){try{this.adsManager.init(this.currentWidth,this.currentHeight,google.ima.ViewMode.NORMAL),this.adsManager.start()}catch{return this.tearDown(),!1}return!0}startIOSPlayback(){this.adsManager.start()}stopPlayback(){this.tearDown()}resumeAd(){K.dispatchEvent(e.ads.video.resumed),this.adsManager&&this.adsManager.resume()}tearDown(){this.adsManager&&(this.adsManager.stop(),this.adsManager.destroy(),this.adsManager=null),null!==this.bannerTimeout&&(clearTimeout(this.bannerTimeout),this.bannerTimeout=null),this.adsLoader&&(this.adsLoader.contentComplete(),this.adsLoader.destroy(),this.adsLoader=null,this.initAdsLoader()),this.completeOnce=!1,this.runningAd=!1}attachAdEvents(){const e=google.ima.AdEvent.Type;this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError,!1,this),[e.AD_PROGRESS,e.ALL_ADS_COMPLETED,e.CLICK,e.COMPLETE,e.IMPRESSION,e.PAUSED,e.SKIPPED,e.STARTED,e.USER_CLOSE,e.AD_BUFFERING,e.LOG,e.LOADED].forEach((e=>{this.adsManager.addEventListener(e,this.onAdEvent,!1,this)}))}onAdEvent(t){const i=t.getAd(),n=()=>{try{let e,t=!1;const n=i?.getWrapperAdIds?.()||[],a=i?.getAdSystem?.();"GDFP"===a||"AdSense"===a?(e=i?.getAdId?.(),t=!0):n.length>0&&(e=n[n.length-1]),K.addVideoDataAnnotations({IMAAdID:i?.getAdId?.(),IMAAdSystem:i?.getAdSystem?.(),IMAContentType:i?.getContentType?.(),IMATitle:i?.getTitle?.(),IMALineItemID:e,IMAGoogleBackfill:t,IMAUniversalAdIDRegistry:i?.getUniversalAdIdRegistry?.(),IMAUniversalAdIDValue:i?.getUniversalAdIdValue?.(),IMAUniversalAdIDs:JSON.stringify(i?.getUniversalAdIds?.()),IMAWrapperIDs:[n,i?.getWrapperCreativeIds?.()||[]].flat(1/0)})}catch(e){console.warn("%cPOKI:%c error annotating IMA ad:","font-weight: bold","",e)}};switch(t.type){case google.ima.AdEvent.Type.AD_PROGRESS:K.dispatchEvent(e.ads.video.progress,t.getAdData());break;case google.ima.AdEvent.Type.LOADED:n(),K.dispatchEvent(e.ads.loaded,{});break;case google.ima.AdEvent.Type.STARTED:t.remainingTime=this.adsManager.getRemainingTime(),t.remainingTime<=0&&(t.remainingTime=15),this.videoStarted=!0,i.isLinear()||(this.bannerTimeout=window.setTimeout((()=>{this.completeOnce&&(this.completeOnce=!1,K.dispatchEvent(e.ads.completed,{rewardAllowed:this.videoStarted&&t.rewardAllowed})),this.tearDown()}),1e3*(t.remainingTime+1))),K.addVideoDataAnnotations({creativeId:i.getCreativeId(),duration:i.getDuration(),skip:i.getSkipTimeOffset()}),n(),K.dispatchEvent(e.ads.started,{});break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:case google.ima.AdEvent.Type.COMPLETE:this.completeOnce&&(this.completeOnce=!1,K.dispatchEvent(e.ads.completed,{rewardAllowed:this.videoStarted})),this.tearDown();break;case google.ima.AdEvent.Type.USER_CLOSE:this.completeOnce&&(this.completeOnce=!1,K.dispatchEvent(e.ads.completed,{rewardAllowed:!1})),this.tearDown();break;case google.ima.AdEvent.Type.PAUSED:this.adsManager.pause(),K.dispatchEvent(e.ads.video.paused);break;case google.ima.AdEvent.Type.AD_BUFFERING:K.dispatchEvent(e.ads.video.buffering);break;case google.ima.AdEvent.Type.CLICK:K.dispatchEvent(e.ads.video.clicked);break;case google.ima.AdEvent.Type.SKIPPED:K.dispatchEvent(e.ads.skipped),this.completeOnce&&(this.completeOnce=!1,K.dispatchEvent(e.ads.completed,{rewardAllowed:this.videoStarted})),document.activeElement&&document.activeElement.blur(),this.tearDown();break;case google.ima.AdEvent.Type.IMPRESSION:K.dispatchEvent(e.ads.impression,{creativeId:i.getCreativeId()}),function(){const t=K.getVideoDataAnnotations(),{HBBid:i,position:n,pokiAdServer:a,HBPrebidWon:o,adUnitPath:r,IMALineItemID:s,IMAGoogleBackfill:d}=t,c=n===e.ads.position.rewarded?Un:jn;if(a)return;let l;if(i)try{l=JSON.parse(i),K.addVideoDataAnnotations({HBBid:void 0})}catch(e){}l||(l=window?.pbjs?.getHighestUnusedBidResponseForAdUnitCode?.(c));const p={mediaType:"video",preBidWon:o||!1,flooring:!0,slotId:c,adUnitPath:r,highestPreBid:l?.cpm||0,highestPreBid_partner:l?.bidderCode||"",creative_width:640,creative_height:480,timeToRespond:l?.timeToRespond||0,dfpResponseInformation:{lineItemId:parseInt(s,10)||0,isBackfill:d}};Pa?.contentWindow?.assertive?.logCustomImpression?.(p)}()}}onAdLoaderError(t){this.tearDown();const i=t?.getError(),n=i?.toString()||"Unknown",a=i?.getErrorCode()||0;K.dispatchEvent(e.ads.video.loaderError,{message:n,errorCode:a})}onAdError(t){this.tearDown();const i=t?.getError(),n=i?.toString()||"Unknown",a=i?.getErrorCode()||0;K.dispatchEvent(e.ads.video.error,{message:n,errorCode:a,context:t?.getUserRequestContext()})}muteAd(){void 0!==this.adsManager&&null!=this.adsManager&&this.adsManager.setVolume(0)}isAdRunning(){return this.runningAd}}const xo=()=>{let{pathname:e}=window.location;"/"!==e[0]&&(e=`/${e}`);let t="";window.top!==window&&(t=encodeURIComponent(document.referrer));return Ct(`https://devs-api.poki.com/gameinfo/@sdk?href=${encodeURIComponent(`${window.location.protocol}//${window.location.host}${e}${window.location.search}`)}&referrer=${t}`,{method:"GET",headers:{"Content-Type":"text/plain"}}).then((async e=>{if(e.status>=200&&e.status<400){const t=await e.json();if(!t.game_id)return;return{gameID:t.game_id,gameTitle:t.game_name,playtestRecord:t.playtest_record,playtestVersion:t.playtest_version,playtestDeviceCategory:t.playtest_device_category,playtestNewUser:t.playtest_new_user,metrictestID:t.metrictest_id,metrictestVersion:t.metrictest_version,metrictestDeviceCategory:t.metrictest_device_category,cachedContentGameID:t.cached_content_game_id,specialConditions:t.ad_settings.special_conditions,adTiming:{preroll:t.ad_settings.preroll,timePerTry:t.ad_settings.time_per_try,timeBetweenAds:t.ad_settings.time_between_ads,startAdsAfter:t.ad_settings.start_ads_after}}}throw e})).catch((e=>async function(e){console.warn("%cPOKI:%c failed request p4d info","font-weight: bold","",e);try{let{pathname:t}=window.location;"/"!==t[0]&&(t=`/${t}`);const i=JSON.stringify({c:"sdk-p4d-error",ve:7,d:[{k:"error",v:JSON.stringify({status:e.status,json:e.json&&await e.json(),body:JSON.stringify({href:`${window.location.protocol}//${window.location.host}${t}${window.location.search}`}),name:e.name,message:e.message})}]}),n="https://t.poki.io/l";if(navigator.sendBeacon)navigator.sendBeacon(n,i);else try{const e=new XMLHttpRequest;e.open("POST",n,!0),e.send(i)}catch{}}catch{}}(e)))};async function _o(){try{const e={"Content-Type":"text/plain"},t=await Ct("https://geo.poki.io/",{method:"GET",headers:e},3e3),{ISO:i,ccpaApplies:n}=await t.json();return{ISO:i,ccpaApplies:n}}catch(e){return console.warn("%cPOKI:%c failed to fetch country info","font-weight: bold","",e),{ISO:"ZZ",ccpaApplies:!1}}}async function Io(){if("test"===window?.process?.env?.NODE_ENV)return{blocklist:[],countryExclusion:[],bidderLimitation:{}};try{const e={"Content-Type":"application/json"},t=await Ct("https://api.poki.com/ads/settings",{method:"GET",headers:e}),{blocklist:i,country_exclusion:n,bidder_limitation:a}=await t.json(),o=JSON.parse(a)||{};return F.country&&(o[F.country]=o[F.country]||{},o[F.country].video=o[F.country].video||{},o[F.country].video.triplelift=.05),{blocklist:i?.split(/[\r\n]+/)||[],countryExclusion:(n.split(",")||[]).map((e=>e.toUpperCase())),bidderLimitation:o}}catch(e){return console.warn("%cPOKI:%c failed to fetch ad settings","font-weight: bold","",e),{blocklist:[],countryExclusion:[],bidderLimitation:{}}}}class So{slotMap=new Map;totalRefreshNumber={};static enforceFamilyFriendlyFlow(){window.googletag.cmd.push((()=>{window.googletag.pubads().setPrivacySettings({underAgeOfConsent:!0,childDirectedTreatment:!0,restrictDataProcessing:!0,nonPersonalizedAds:!0})}))}static enforceNonPersonalized(){window.googletag.cmd.push((()=>{window.googletag.pubads().setPrivacySettings({nonPersonalizedAds:!0})}))}callOnCanDestroy(e){const t=this.slotMap.get(e);t&&!t.onCanDestroyCalled&&t.onCanDestroy&&(t.onCanDestroyCalled=!0,t.onCanDestroy())}setupSlotRenderEndedListener(){window.googletag.cmd.push((()=>{window.googletag.pubads().addEventListener("slotRenderEnded",(t=>{const i=t.slot.getSlotElementId(),n=this.slotMap.get(i);if(!n||!n.gptSlot)return;let a="",o="",r="",s="",d="",c="",l=!1,p={},A="",m="",u="",g=!1;const h=t.slot;try{if(h){const e=h?.getResponseInformation?.()||{};a=e.isBackfill,o=e.lineItemId,r=e.campaignId,s=e.creativeId}p=n.pbjsTargetting||{},A=p.hb_bidder,m=p.hb_adomain,u=(e=>{let t={cpm:0};if(void 0===window.pbjs||!Ja())return t;const i=window.pbjs.getAllWinningBids()||[];return(window.pbjs.getBidResponsesForAdUnitCode(e)?.bids||[]).forEach((e=>{!i.find((t=>t.adId===e.adId))&&e.cpm>t.cpm&&(t=e)})),t})(n.adUnitPath),g=t.isEmpty}catch(e){console.warn("%cPOKI:%c error in slotRenderEnded","font-weight: bold","",e)}try{h&&(d=h?.getHtml?.()||"",c=function(e){if(!e||"function"!=typeof e.indexOf)return null;if(-1!==e.indexOf("amazon-adsystem.com/aax2/apstag"))return null;const t=new RegExp('(?:(?:pbjs\\.renderAd\\(document,|adId:*|hb_adid":\\[)|(?:pbadid=)|(?:adId=))[\'"](.*?)["\']',"gi"),i=e.replace(/ /g,""),n=t.exec(i);return n&&n[1]||null}(d),l=!!c)}catch(e){console.warn("%cPOKI:%c error in slotRenderEnded","font-weight: bold","",e)}let v=parseFloat(p.hb_pb);Number.isNaN(v)&&(v=void 0);const w={size:n.size,opportunityId:n.opportunityId,refresh:n.refreshNumber>0,refreshNumber:n.refreshNumber,refreshType:n.criteria?.refreshType||"",duringGameplay:n.duringGameplay,adUnitPath:n.adUnitPath,prebidBid:v,prebidBidder:A,prebidWon:l,prebidSecondBid:u.cpm>0?u.cpm:void 0,prebidSecondBidder:u.bidder,dfpIsBackfill:a,dfpLineItemId:o,dfpCampaignId:r,dfpCreativeId:s,isEmpty:g,adDomain:m,platformAd:n.platformAd,blocked:Nn()};if(g){this.callOnCanDestroy(n.id);try{const t=window?.pbjs?.getHighestUnusedBidResponseForAdUnitCode?.(n.adUnitPath);t&&pn.track(e.tracking.ads.display.notFilled,{bidder:t.bidder,cpm:t.cpm,adUnitPath:n.adUnitPath,opportunityId:n.opportunityId})}catch{}}g&&n.backfillHouseads?this.requestHouseAd(n,w):(n.onDisplayRendered&&n.onDisplayRendered(g),pn.track(e.tracking.ads.display.impression,w))})),window.googletag.pubads().addEventListener("impressionViewable",(t=>{const i=t.slot.getSlotElementId();(t?.slot?.getAdUnitPath()?.includes("ingame_rewarded_google")||t?.slot?.getAdUnitPath()?.includes("sanghan_rweb_ad_unit"))&&pn.track(e.tracking.ads.rewardedWeb.impression),setTimeout((()=>{this.callOnCanDestroy(i)}),1e3*Math.random())}))}))}validateDisplaySettings(e){const t=["970x250","300x250","728x90","160x600","320x50"],i=["300x600"];return F.isPokiExternal?i.includes(e):M()||L()?["320x50"].includes(e):t.includes(e)}getDisplaySlotConfig(e,t,i){const n=t.split("x").map((e=>parseInt(e,10))),a=this.getDisplaySlotID(e);if(a){const t=this.slotMap.get(a);if(t&&t.width===n[0]&&t.height===n[1])return t.refreshNumber++,t;this.clearAd(e)}let o=function(e){let t=`/21682198607/debug-display/debug-display-${e}`;return H.debug||(t=F.isPokiIframe?`/21682198607/${F.device}_ingame_${e}/${F.siteID}_${F.device}_ingame_${e}`:F.isPokiExternal?`/21682198607/external_${F.device}_display_platform`:`/21682198607/external_${F.device}_display_ingame/external_${F.device}_ingame_${e}`),t}(t);i&&(o=i);const r=`poki-${le()}`,s=document.createElement("div");return s.id=r,s.className="poki-ad-slot",s.style.width=`${n[0]}px`,s.style.height=`${n[1]}px`,s.style.overflow="hidden",s.style.position="relative",s.setAttribute("data-poki-ad-size",t),{id:r,adUnitPath:o,size:t,width:n[0],height:n[1],refreshNumber:0,onCanDestroyCalled:!1,backfillHouseads:!1,innerAdContainer:s,platformAd:!1,criteria:{}}}renderAd(e){const{container:t,size:i,opportunityId:n,criteria:a={},adUnitPath:o="",duringGameplay:r=!1,onCanDestroy:s=()=>{},onDisplayRendered:d=()=>{},backfillHouseads:c=!1,platformAd:l=!1,headerBiddingAllowed:p=!0}=e,A=this.getDisplaySlotConfig(t,i,o);A.backfillHouseads=c,A.criteria=a,A.platformAd=l,this.slotMap.set(A.id,A),A.opportunityId=n,A.headerBiddingAllowed=p,A.duringGameplay="function"==typeof r?r():r,A.onDisplayRendered=d,A.onCanDestroy=s;let m=null;A.refreshNumber>0&&(m=A.innerAdContainer),m||(t.appendChild(A.innerAdContainer),t.setAttribute("data-poki-ad-id",A.id));const u=()=>{setTimeout((()=>{this.callOnCanDestroy(A.id)}),6e3),H.debug||F.houseAdsOnly?this.requestHouseAd(A,{opportunityId:A.opportunityId,refresh:A.refreshNumber>0,refreshNumber:A.refreshNumber,refreshType:A.criteria?.refreshType||"",duringGameplay:A.duringGameplay,adUnitPath:A.adUnitPath,platformAd:A.platformAd}):window.googletag.cmd.push((()=>{const e=this.slotMap.get(A.id);e&&e.opportunityId===n&&(this.totalRefreshNumber[A.adUnitPath]||(this.totalRefreshNumber[A.adUnitPath]=0),this.setupGPT(A,{...a,refresh_number:`${A.refreshNumber||0}`,total_refresh_number:`${this.totalRefreshNumber[A.adUnitPath]}`}),this.totalRefreshNumber[A.adUnitPath]++,this.requestAd(A))}))};A.intersectionObserver?.disconnect();o.includes("mobile_gamebar_320x50")?u():(A.intersectionObserver=new window.IntersectionObserver((([e])=>{e.isIntersecting&&(A.intersectionObserver?.disconnect(),u())}),{threshold:.5}),A.intersectionObserver.observe(A.innerAdContainer))}setupGPT(e,t){e.gptSlot||(160===e.width&&600===e.height?e.gptSlot=window.googletag.defineSlot(e.adUnitPath,[[e.width,e.height],"fluid"],e.id).addService(window.googletag.pubads()):300===e.width&&600===e.height?e.gptSlot=window.googletag.defineSlot(e.adUnitPath,[[300,600],[160,600],[120,600],[300,250],[300,300],[250,250],[240,400],[250,360],[300,50],[120,240]],e.id).addService(window.googletag.pubads()):e.gptSlot=window.googletag.defineSlot(e.adUnitPath,[e.width,e.height],e.id).addService(window.googletag.pubads())),window.googletag.enableServices(),e.gptSlot?.clearTargeting(),Object.keys(t).forEach((i=>{const n=t[i];n&&e.gptSlot?.setTargeting(i,n)}))}requestAd=t=>{pn.track(e.tracking.ads.display.requested,{size:t.size,opportunityId:t.opportunityId,adUnitPath:t.adUnitPath,duringGameplay:t.duringGameplay,refresh:t.refreshNumber>0,refreshNumber:t.refreshNumber,refreshType:t.criteria?.refreshType||"",platformAd:t.platformAd,headerBiddingAllowed:t.headerBiddingAllowed});let i=0;const n=()=>{if(i--,!(i>0)){if(t.headerBiddingAllowed&&Ya())try{window.apstag.setDisplayBids()}catch{}if(t.headerBiddingAllowed&&Ja())try{window.pbjs.setTargetingForGPTAsync([t.adUnitPath]),t.pbjsTargetting=window.pbjs.getAdserverTargetingForAdUnitCode([t.adUnitPath])}catch{}window?.assertive?.setFloors?.([t.gptSlot]),t.refreshNumber>0?window.googletag.pubads().refresh([t.gptSlot]):window.googletag.display(t.id)}};if(t.headerBiddingAllowed){if(Ya()&&i++,Ja()&&i++,Ya())try{let e=[{slotName:t.adUnitPath,slotID:t.id,sizes:[[t.width,t.height]]}];Ma()&&(e=window?.assertive?.addAmazonFloors?.(e)),window.apstag.fetchBids({slots:e,timeout:1500},(()=>{n()}))}catch{n()}if(Ja())try{window.pbjs.requestBids({adUnitCodes:[t.adUnitPath],bidsBackHandler:()=>{n()}})}catch{n()}Ya()||Ja()||n()}else n()};clearAd(t){const i=this.getDisplaySlotID(t);if(!i)return void console.error("%cPOKI:%c PokiSDK.destroyAd() called on a container without ad","font-weight: bold","");const n=this.slotMap.get(i)||null;if(n){for(n.onCanDestroy&&!n.onCanDestroyCalled&&Bi("PokiSDK.destroyAd() called without waiting for onCanDestroy"),pn.track(e.tracking.screen.destroyAd,{opportunityId:n.opportunityId,okToDestroy:n.onCanDestroyCalled,platformAd:n.platformAd}),n.intersectionObserver?.disconnect(),n.gptSlot&&googletag?.destroySlots?.([n.gptSlot]);t.lastChild;)t.removeChild(t.lastChild);t.removeAttribute("data-poki-ad-id"),this.slotMap.delete(n.id)}}getDisplaySlotID(e){if(!e)return null;const t=e.getAttribute("data-poki-ad-id");return t||null}requestHouseAd=(t,i)=>{let n=`${t.width}x${t.height}`;"300x600"===n&&(n="160x600");const a={...i,dfpIsBackfill:void 0,dfpLineItemId:void 0,dfpCampaignId:void 0,size:n,bidder:"poki",bid:0};Q({...a,event:"request"}),Ct(`https://api.poki.com/ads/houseads/display/${n}`).then((e=>e.json())).then((n=>{const o=`<img draggable="false" src="${n.asset}" alt="house ad" style="display:block; margin:0 auto;" />`;let r=o;F.isPokiExternal&&n.click_through_url&&(r=`<a href="${n.click_through_url}" target="_blank" rel="noopener noreferrer">${o}</a>`),t.innerAdContainer.innerHTML=r,t.onDisplayRendered&&t.onDisplayRendered(!0),i.houseAdId=n.id,i.isEmpty=!1,pn.track(e.tracking.ads.display.impression,i),Q({...a,event:"impression"}),setTimeout((()=>{Q({...a,event:"viewable"})}),1e3)})).catch((()=>{t.onDisplayRendered&&t.onDisplayRendered(!0)}))}}class Eo extends So{requestAd=e=>{Q({event:"request",size:e.size,opportunityId:e.opportunityId,adUnitPath:e.adUnitPath});let t=0;const i=()=>{t--,t>0||this.allBidsBack(e.id)};if(Ya()&&t++,Ja()&&t++,Ya())try{let t=[{slotName:e.adUnitPath,slotID:e.id,sizes:[[e.width,e.height]]}];Ma()&&(t=window?.assertive?.addAmazonFloors?.(t)),window.apstag.fetchBids({slots:t,timeout:1500},(t=>{t&&t.length>0&&(e.amznTargetting=t[0]),i()}))}catch{i()}if(Ja())try{window.pbjs.requestBids({adUnitCodes:[e.adUnitPath],bidsBackHandler:()=>{e.pbjsTargetting=window.pbjs.getAdserverTargetingForAdUnitCode([e.adUnitPath]),i()}})}catch{i()}Ya()||Ja()||(e.pbjsTargetting={},e.amznTargetting={},i())};allBidsBack(t){const i=this.slotMap.get(t);if(!i)return;const n=document.createElement("iframe");n.setAttribute("frameborder","0"),n.setAttribute("scrolling","no"),n.setAttribute("marginheight","0"),n.setAttribute("marginwidth","0"),n.setAttribute("topmargin","0"),n.setAttribute("leftmargin","0"),n.setAttribute("allowtransparency","true"),n.setAttribute("width",`${i.width}`),n.setAttribute("height",`${i.height}`);const a=document.getElementById(i.id);if(!a)return void console.error("%cPOKI:%c display error - container not found","font-weight: bold","",t);a.appendChild(n);const o=n?.contentWindow?.document;if(!o)return console.error("%cPOKI:%c display error - iframe injection for ad failed","font-weight: bold","",t),void this.clearAd(a.parentNode);let r=!0,s=i.pbjsTargetting.hb_bidder,d=parseFloat(i.pbjsTargetting.hb_pb);Number.isNaN(d)&&(d=0);const c=(l=i?.amznTargetting?.amznbid,Bn[l]||0);var l;c>d?(s=Dn(i?.amznTargetting?.amnzp),d=c,r=!1,this.renderAMZNAd(i.id,a,o)):this.renderPrebidAd(i.id,a,o);const p=!s;pn.track(e.tracking.ads.display.impression,{size:i.size,opportunityId:i.opportunityId,duringGameplay:i.duringGameplay,adUnitPath:i.adUnitPath,prebidBid:d,prebidBidder:s,preBidWon:r,dfpIsBackfill:!1,dfpLineItemId:void 0,dfpCampaignId:void 0,adDomain:i.pbjsTargetting.hb_adomain,isEmpty:p}),Q({event:"impression",size:i.size,opportunityId:i.opportunityId,adUnitPath:i.adUnitPath,bidder:s,bid:d}),i.onDisplayRendered&&i.onDisplayRendered(p),p?this.callOnCanDestroy(i.id):(i.intersectionObserver=new IntersectionObserver((e=>{e.forEach((e=>{const{isIntersecting:t}=e;t?i.intersectingTimer||(i.intersectingTimer=setTimeout((()=>{i.intersectionObserver?.unobserve(e.target),Q({event:"viewable",size:i.size,opportunityId:i.opportunityId,adUnitPath:i.adUnitPath,bidder:s,bid:d}),this.callOnCanDestroy(i.id)}),1e3)):i.intersectingTimer&&(clearTimeout(i.intersectingTimer),i.intersectingTimer=void 0)}))}),{threshold:.5}),i.intersectionObserver.observe(a))}renderPrebidAd(e,t,i){const n=this.slotMap.get(e);if(n)return n.pbjsTargetting.hb_adid?void window.pbjs.renderAd(i,n.pbjsTargetting.hb_adid):(console.warn("%cPOKI:%c display error - prebid nothing to render","font-weight: bold","",e,n.pbjsTargetting),void this.clearAd(t.parentNode))}renderAMZNAd(e,t,i){const n=this.slotMap.get(e);if(n)return n?.amznTargetting?.amzniid?void window.apstag.renderImp(i,n?.amznTargetting?.amzniid):(console.warn("%cPOKI:%c display error - amazon nothing to render","font-weight: bold","",e,n.pbjsTargetting),void this.clearAd(t.parentNode))}setupGPT=(e,t)=>{};setupSlotRenderEndedListener=()=>{}}i(871);const Co=new Sn(In.adTiming);const Po=new zi(new class{#B;#le=!1;#pe={[e.ads.position.preroll]:0,[e.ads.position.midroll]:0,[e.ads.position.rewarded]:0};#Ae={[e.ads.position.preroll]:0,[e.ads.position.midroll]:0,[e.ads.position.rewarded]:0};#D={};#me={};#ue=null;#ge;#he=!1;#ve;#we=!1;#be=!1;#fe={};#ye={blocklist:[],countryExclusion:[],bidderLimitation:{}};#ke=!1;#xe;#_e;#Ie=!1;#Se=!1;#Ee=!1;#Ce=!1;#Pe=!1;#Be=!1;#Te=!1;display;constructor(){window.googletag=window.googletag||{cmd:[]},window.pbjs=window.pbjs||{que:[]},this.display=oo()?new Eo:new So}init(e={}){if("undefined"==typeof window)return;const{onReady:t=null}=e;if(this.#fe=e,t&&this.#De("onReady",t),!this.#he)return this.#ue||((e.strictConsentMode||F.gdprApplies)&&(this.#Ce=!0),this.#ue=this.#Me()),this.#ue;console.error("%cPOKI:%c SDK has already been initialized","font-weight: bold","")}startLoadingMonetizationCore=()=>this.loadMonetizationCore();configureA9=e=>eo(e,this.#ye.bidderLimitation);#Me(){const{debug:t,logging:i,wrapper:n}=this.#fe;H.init(t,i),H.debug&&ce(),this.#Le(),pn.setupDefaultEvents(),un(),this.#ge=new yo({wrapper:n}),window.addEventListener("resize",this.resizeVideoAd.bind(this),!1);let a=xo;(H.debug||F.isPlayground)&&(a=()=>Promise.resolve());const o=void 0!==this.#fe.isCCPA?this.#fe.isCCPA:F.ccpaApplies;let r=_o;const s=(this.#fe.country||F.country).toUpperCase();s&&void 0!==o&&(r=()=>Promise.resolve({ISO:s,ccpaApplies:o}));const d=[...[a(),r()],Io()];return Promise.allSettled(d).then((t=>{try{const[n,a,r]=t;if("fulfilled"===n.status){const e=n.value;if(e){F.gameID||j("gameID",e.gameID),e.cachedContentGameID&&j("contentGameID",e.cachedContentGameID),this.setAdTimings(e.adTiming),this.#xe=e.specialConditions;try{sn(e)}catch(e){console.warn("%cPOKI:%c error in maybeStartPlaytest","font-weight: bold","",e)}}if(!(e&&e.gameID||H.debug||window?.isPokiPlayground||F.isPokiExternal||"test"===window?.process?.env?.NODE_ENV)){const e="background-color: red; border-radius: 3px; color: white; padding: 1px 5px",t=["Possible Unauthorized Game Hosting Detected","We've noticed that this game, which is part of Poki, is being played on a site that isn't currently allowed.","If you're a developer who is hosting this game on your site, no worries! Please reach out to us to get your domain approved and we'll hook you up.","However, if you are hosting this game without proper authorization, be advised: this is a violation of our terms and infringes upon copyright laws. Consider this message as a formal Digital Millennium Copyright Act (DMCA) Takedown Notice. Please remove the game from your site immediately to avoid further action."];console.error("%cALERT",e,t.join("\n\n"))}}let d={ISO:"ZZ",ccpaApplies:!1};if("fulfilled"===a.status&&(d=a.value),j("country",(s||d?.ISO||"ZZ").toUpperCase()),j("gdprApplies",T(F.country)),j("ccpaApplies",void 0===o?d?.ccpaApplies||!1:o),F.gdprApplies&&(this.#Ce=!0),kn(),"fulfilled"===r.status){const e=r.value;e&&(this.#ye=e)}i=this.#ye.blocklist,Ln=i||[],this.#Ce&&K.dispatchEvent(e.ready),F.isPlayground||F.isPokiExternal||this.loadMonetizationCore()}catch(t){K.dispatchEvent(e.failed,{message:`${t}`})}var i})).catch((t=>{K.dispatchEvent(e.failed,{message:`${t}`})}))}async loadMonetizationCore(){const{prebid:t={},a9Signals:i={},volume:n=1,waterfallRetries:a,displayOnly:o=!1}=this.#fe;let{nonPersonalized:r=!1,familyFriendly:s=!1}={...this.#fe};if(F.isInspector)return void(this.#Ce||K.dispatchEvent(e.ready));r=r||!!F.nonPersonalized,s=s||!!F.familyFriendly,j("nonPersonalized",r),j("familyFriendly",s);const d=[];return this.#Ee=o,this.#Ce&&!F.familyFriendly&&await new Promise((e=>{F.gdprApplies&&!H.debug||e();let t=0;const i=()=>{if(!vn)return t++,void setTimeout(i,50*t);window.__tcfapi("addEventListener",2,((t,i)=>{i&&["tcloaded","useractioncomplete"].includes(t.eventStatus)&&t?.purpose?.consents?.[1]&&(t.listenerId&&window.__tcfapi("removeEventListener",2,(()=>{}),t.listenerId),e())}))};i()})),d.push(dn("https://securepubads.g.doubleclick.net/tag/js/gpt.js")),o?d.push(Promise.resolve()):d.push(dn("https://imasdk.googleapis.com/js/sdkloader/ima3.js")),F.familyFriendly||F.nonPersonalized?(d.push(Promise.resolve(),Promise.resolve(),Promise.resolve()),F.familyFriendly&&So.enforceFamilyFriendlyFlow(),j("nonPersonalized",!0),So.enforceNonPersonalized()):d.push(La(),dn("https://a.poki-cdn.com/prebid/prebid_1755506971.js"),dn("https://c.amazon-adsystem.com/aax2/apstag.js")),this.display.setupSlotRenderEndedListener(),Promise.allSettled(d).then((r=>{try{const[s,d,c,l,p]=r;"rejected"===s.status&&(this.#Be=!0),"rejected"===c.status&&pn.track(e.tracking.ads.ay.failed,{reason:Z(c.reason),ayMode:F.AYMode,gptRejected:"rejected"===s.status,imaRejected:"rejected"===d.status,prebidRejected:"rejected"===l.status,a9Rejected:"rejected"===p.status,displayOnly:o,fullStack:F.familyFriendly||F.nonPersonalized?0:1}),to(t,this.#ye.bidderLimitation),eo(i,this.#ye.bidderLimitation),window.googletag.cmd.push((()=>{googletag.pubads().addEventListener("rewardedSlotReady",(t=>{pn.track(e.tracking.ads.rewardedWeb.ready),t.makeRewardedVisible()})),googletag.pubads().addEventListener("rewardedSlotGranted",(()=>{so=!0})),googletag.pubads().addEventListener("rewardedSlotClosed",(()=>{so?pn.track(e.tracking.ads.rewardedWeb.closedGranted):pn.track(e.tracking.ads.rewardedWeb.closedDeclined),window?.location?.toString()?.includes("#goog_rewarded")&&window?.history?.go(-1),K.dispatchEvent(e.ads.completed,{rewardAllowed:so})})),googletag.pubads().addEventListener("slotRenderEnded",(t=>{po()===t?.slot?.getAdUnitPath()&&t.isEmpty&&(pn.track(e.tracking.ads.rewardedWeb.empty),K.dispatchEvent(e.ads.video.startHouseAdFlow))})),googletag.pubads().addEventListener("slotRequested",(t=>{t||(pn.track(e.tracking.ads.rewardedWeb.empty),K.dispatchEvent(e.ads.video.startHouseAdFlow))}))})),"rejected"===d.status&&(this.#Te=!0);const A={...In};H.debug&&(A.adTiming.startAdsAfter=0,this.setAdTimings(A.adTiming));const m=F.forceAd;if(m&&(this.setAdTimings({preroll:!0,timeBetweenAds:12e4,timePerTry:7e3,startAdsAfter:0}),A.customCriteria={...A.customCriteria,force_ad:m}),this.#D={...A.customCriteria,ay_mode:F.AYMode},this.#B=new ko(n),this.#ge.setupEvents(this),this.#be&&Co.startStartAdsAfterTimer(),this.#ve=new go(this.#B,{timing:Co,totalRetries:a}),this.#Pe=!0,this.#Be&&this.#Te)return void K.dispatchEvent(e.failed,{message:"Both core sdks failed to boot"});this.#Ce||K.dispatchEvent(e.ready)}catch(t){K.dispatchEvent(e.failed,{message:`${t}`})}})).catch((t=>{console.warn("%cPOKI:%c","font-weight: bold","",t),K.dispatchEvent(e.failed,{message:`${t}`})}))}requestAd(t={}){const{autoStart:i=!0,onFinish:n=null,onStart:a=null,position:o=null}=t,r=K.getVideoDataAnnotations();if(pn.track(o===e.ads.position.rewarded?e.tracking.screen.rewardedBreak:e.tracking.screen.commercialBreak,r),this.#ke){if(n)try{n({type:e.ads.busy,rewardAllowed:!1})}catch(e){Pi("error in onFinish callback",e)}return}if(this.#ke=!0,this.#le=!1!==i,this.#De("onFinish",(e=>{if(a&&this.#Oe("onStart"),n){this.#Oe("onFinish");try{n(e)}catch(e){Pi("error in onFinish callback",e)}}})),this.#De("onFinish",(t=>{if(K.dispatchEvent(e.playtest.stopVideo),n)try{n(t)}catch(e){Pi("error in onFinish callback",e)}})),this.#De("onStart",(t=>{K.dispatchEvent(e.playtest.startVideo,{position:o}),a&&a(t)})),null===o||!P(o,e.ads.position))return Bi(`invalid position: ${o}`),void K.dispatchEvent(e.ads.error,r);if(this.#Ee)return Pi("Display only mode, no video ads available"),void K.dispatchEvent(e.ads.error,r);if(!this.#he)return Bi("Requesting ad before PokiSDK.init() is done"),K.dispatchEvent(e.ads.error,r),void this.#Ne();if(this.#B?.isAdRunning?.()||this.#ve?.isRunning?.())return Bi("a video ad is already running"),void K.dispatchEvent(e.ads.busy,r);if(!F.adOverrideMode){if(o===e.ads.position.preroll&&!Co.prerollPossible())return Ci("commercialBreak not possible before gameplayStart"),void K.dispatchEvent(e.ads.limit,{...r,reason:e.info.messages.prerollLimit});if(o!==e.ads.position.rewarded&&!Co.requestPossible())return Ci("commercialBreak too soon after previous one"),void K.dispatchEvent(e.ads.limit,{...r,reason:e.info.messages.timeLimit});if(o!==e.ads.position.rewarded&&this.#ye.countryExclusion.includes(F.country))return Ci(`commercialBreak is disabled in this country: ${F.country}`),void K.dispatchEvent(e.ads.limit,{...r,reason:e.info.messages.disabled})}if(F.kioskMode)return o===e.ads.position.rewarded?void this.#Re():void K.dispatchEvent(e.ads.limit,{...r,reason:e.info.messages.disabled});if(this.#Ce&&!this.#Pe&&!F.adOverrideMode&&!F.googlePreview)return o===e.ads.position.rewarded||H.debug?void this.#Re():(Ci("commercialBreak not possible before consent"),void K.dispatchEvent(e.ads.error,r));if(!this.#B||this.#Se||this.#Te)return void(o===e.ads.position.rewarded||F.isInspector?this.#Re():K.dispatchEvent(e.ads.error,r));if(xn())return Bi("No TCFv2 CMP detected!"),void K.dispatchEvent(e.ads.error,r);if(_n())return Bi("No USP detected!"),void K.dispatchEvent(e.ads.error,r);if(this.#Ie)return void K.dispatchEvent(e.ads.ready,r);const s={...this.#ze(),...this.#D,position:o,ab:Math.floor(100*Math.random()).toString(),refresh_number:this.#pe[o],total_refresh_number:this.#Ae[o]};this.#pe[o]++,this.#Ae[o]++,this.#ge.show(),this.resizeVideoAd(),this.#ve.start(s,o)}displayAd(e){const{container:t,size:i}=e;return e.criteria={ab:Math.floor(100*Math.random()).toString(),...this.#ze(),...this.#D,...e.criteria||{}},e.platformAd&&(delete e.criteria.p4d_game_id_cond,delete e.criteria.p4d_game_id),!F.kioskMode&&(H.debug?(this.display.renderAd(e),!0):this.#Ce&&!this.#Pe?(Bi("Ad libraries not yet loaded"),!1):this.#Be?(Bi("Bot, IMA or Adblocker error"),!1):xn()?(Bi("No TCFv2 CMP detected, please contact developersupport@poki.com for more information"),!1):_n()?(Bi("No USP detected, please contact developersupport@poki.com for more information"),!1):i?this.#he?t?void 0===window.googletag?(Bi("googletag not defined"),!1):!F.adOverrideMode&&this.#ye.countryExclusion.includes(F.country)?(Bi("Country is excluded from ads"),!1):this.display.validateDisplaySettings(i)?(this.display.renderAd(e),!0):(Bi(`Display size ${i} is not supported on this device`),!1):(Bi("Provided container does not exist"),!1):(Bi("Requesting ad on unbooted SDK"),this.#Ne(),!1):(Bi("No ad size given, usage: displayAd(<container>, <size>)"),!1))}destroyAd(e){e=e||document.body,this.display.clearAd(e)}startStartAdsAfterTimer(){this.#Ne()?this.#be=!0:Co.startStartAdsAfterTimer()}muteAd(){this.#Ne()||this.#B.muteAd()}isAdBlocked=()=>!1;setVolume(e){this.#Ne()||this.#B?.setVolume(e)}forcePreroll(){if(this.#Ne())return;const t=Co.prerollPossible;Co.prerollPossible=()=>!0,this.requestAd({position:e.ads.position.preroll}),Co.prerollPossible=t}resumeAd(){this.#Ne()||(this.#ge.hidePauseButton(),this.#B.resumeAd())}startAdClicked(){this.#Ne()||Mt()&&this.#we&&(this.#we=!1,this.#ge.hideStartAdButton(),this.#B.startIOSPlayback())}stopVideoAd(){this.#ge.hide(),K.dispatchEvent(e.ads.stopped),this.#Ne()||(this.#ve.stopWaterfall(),this.#B.stopPlayback(),ro&&googletag.destroySlots([ro]))}resizeVideoAd(){if(!this.#B)return;const e=this.#ge.getVideoBounds();if(0===e.width||0===e.height)return this.#_e&&clearTimeout(this.#_e),void(this.#_e=setTimeout((()=>{this.resizeVideoAd()}),100));this.#B.resize(e.width,e.height)}setAdTimings(t={}){this.#pe={[e.ads.position.preroll]:0,[e.ads.position.midroll]:0,[e.ads.position.rewarded]:0},Co.setTimings(t),Co.resetAll()}setSpecialConditions(e){this.#xe=e||[]}#Ue(){if(!this.#Ne())if(this.#Ie)try{this.resizeVideoAd(),this.#B.startPlayback()||this.stopVideoAd()}catch{K.dispatchEvent(e.ads.error,{})}else K.dispatchEvent(e.ads.error,{})}#De(e,t){this.#me[e]=t}#je(e,t=void 0){"function"==typeof this.#me[e]&&this.#me[e](t)}#Le(){K.addEventListener(e.ready,(()=>{this.#he=!0,this.setVolume(.6),this.#je("onReady")})),K.addEventListener(e.failed,(()=>{this.#he=!0,this.#Se=!0})),K.addEventListener(e.ads.ready,(()=>{this.#Ie=!0,this.#le&&this.#Ue()})),K.addEventListener(e.ads.started,(()=>{this.#ge.hideSpinner(),this.#je("onStart",{type:e.ads.limit})})),K.addEventListener(e.ads.video.paused,(()=>{this.#ge.showPauseButton()})),K.addEventListener(e.ads.video.error,(()=>{const t=K.getVideoDataAnnotations();var i;t?.HBVastUrl&&(i=t?.HBVastUrl,dn("https://a.poki.com/ads/vast-client-2.js",!0).then((()=>{if(window.VASTClient)try{const t=[],n=new window.VASTClient;n.getParser().on("VAST-resolved",(e=>{t.push(e)})),n.get(i).then((()=>{K.dispatchEvent(e.ads.extendedVideoError,{vastChain:JSON.stringify(t),vastResolved:!0})})).catch((i=>{K.dispatchEvent(e.ads.extendedVideoError,{vastChain:JSON.stringify(t),vastResolved:!1,vastResolveErr:JSON.stringify(i)})}))}catch(e){console.warn("%cPOKI:%c Error parsing VAST","font-weight: bold","",e)}})).catch((()=>{})))})),K.addEventListener(e.ads.limit,(()=>{this.#ke=!1,this.#je("onFinish",{type:e.ads.limit,rewardAllowed:!1})})),K.addEventListener(e.ads.stopped,(()=>{this.#ke=!1,this.#je("onFinish",{type:e.ads.stopped,rewardAllowed:!1})})),K.addEventListener(e.ads.error,(t=>{this.#ke=!1,this.#je("onFinish",{type:e.ads.error,rewardAllowed:!!t.rewardAllowed})})),K.addEventListener(e.ads.busy,(()=>{this.#ke=!1,this.#je("onFinish",{type:e.ads.busy,rewardAllowed:!1})})),K.addEventListener(e.ads.completed,(t=>{this.#ke=!1,this.#je("onFinish",{type:e.ads.completed,rewardAllowed:!!t.rewardAllowed})})),[e.ads.limit,e.ads.stopped,e.ads.error,e.ads.completed].forEach((e=>{K.addEventListener(e,(()=>{this.#ge&&this.#ge.hide(),this.#Ie=!1}))}))}#Ne=()=>!(!this.#Ce||this.#Pe)||!this.#Ce&&!this.#he&&(console.error("The Poki SDK was not yet booted"),!0);#ze=()=>{const e={};if(e.tag=F.tag,e.site_id=F.siteID,e.categories=decodeURIComponent(F.categories),F.cookieDepL&&(e.cookieDepL=F.cookieDepL),F.experiment){const t=decodeURIComponent(F.experiment);e.experiment=t,F.contentGameID&&(e.expid_content_gameid=`${t}|${F.contentGameID}`)}return F.specialCondition&&this.#xe&&this.#xe.includes(F.specialCondition)?"landing"===F.specialCondition?e.p4d_game_id_cond=`${F.gameID}|l`:"crosspromo"===F.specialCondition?e.p4d_game_id_cond=`${F.gameID}|cp`:e.p4d_game_id=F.gameID:e.p4d_game_id=F.gameID,e};#Re=()=>{K.addVideoDataAnnotations({pokiAdServer:!0});const t=()=>K.dispatchEvent(e.ads.error,{});(async function(){const e=await Ct("https://api.poki.com/ads/houseads/video/vast"),t=await e.text(),i=(new DOMParser).parseFromString(t,"text/xml"),n=i.querySelector("ClickThrough")?.textContent?.trim()||"",a=(i.querySelector("Duration")?.textContent?.trim()||"00:00:11").split(":"),o=60*+a[0]*60+60*+a[1]+ +a[2];let r="";return i.querySelectorAll("MediaFile").forEach((e=>{const t=e?.textContent?.trim()||"";t.includes("advertisement.h264_high.mp4")&&(r=t)})),F.kioskMode?{duration:o,videoUrl:r}:{clickThrough:n,duration:o,videoUrl:r}})().then((e=>{try{this.#ge.show(),this.#ge.startNonIMAFallbackVideo(e)}catch{t()}})).catch((()=>{G.sendMessage(e.message.sendCommand,{event:"adLibrariesNotLoaded"}),t()}))};#Oe(e){delete this.#me[e]}setNrAds(e,t){this.#he&&this.#ge?.setNrAds(e,t)}});for(const e in Po)e.startsWith("__")||(window.PokiSDK[e]=Po[e])})()})();
